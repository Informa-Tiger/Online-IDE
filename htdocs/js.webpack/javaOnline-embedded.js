!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),n(11),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),e.exports=n(10)},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),a=new P(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return T()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function d(){}function f(){}function h(){}var p={};s(p,r,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==t&&n.call(v,r)&&(p=v);var m=h.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var i;this._invoke=function(r,o){function a(){return new t((function(i,a){!function i(r,o,a,s){var l=u(e[r],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=h,s(m,"constructor",h),s(h,"constructor",f),f.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,r,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i,r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),function(e){e[e.identifier=0]="identifier",e[e.integerConstant=1]="integerConstant",e[e.floatingPointConstant=2]="floatingPointConstant",e[e.booleanConstant=3]="booleanConstant",e[e.stringConstant=4]="stringConstant",e[e.charConstant=5]="charConstant",e[e.true=6]="true",e[e.false=7]="false",e[e.keywordPrint=8]="keywordPrint",e[e.keywordPrintln=9]="keywordPrintln",e[e.keywordClass=10]="keywordClass",e[e.keywordThis=11]="keywordThis",e[e.keywordSuper=12]="keywordSuper",e[e.keywordNew=13]="keywordNew",e[e.keywordInterface=14]="keywordInterface",e[e.keywordEnum=15]="keywordEnum",e[e.keywordVoid=16]="keywordVoid",e[e.keywordAbstract=17]="keywordAbstract",e[e.keywordPublic=18]="keywordPublic",e[e.keywordProtected=19]="keywordProtected",e[e.keywordPrivate=20]="keywordPrivate",e[e.keywordTransient=21]="keywordTransient",e[e.keywordStatic=22]="keywordStatic",e[e.keywordExtends=23]="keywordExtends",e[e.keywordImplements=24]="keywordImplements",e[e.keywordWhile=25]="keywordWhile",e[e.keywordDo=26]="keywordDo",e[e.keywordFor=27]="keywordFor",e[e.keywordSwitch=28]="keywordSwitch",e[e.keywordCase=29]="keywordCase",e[e.keywordDefault=30]="keywordDefault",e[e.keywordIf=31]="keywordIf",e[e.keywordThen=32]="keywordThen",e[e.keywordElse=33]="keywordElse",e[e.keywordReturn=34]="keywordReturn",e[e.keywordBreak=35]="keywordBreak",e[e.keywordContinue=36]="keywordContinue",e[e.keywordNull=37]="keywordNull",e[e.keywordFinal=38]="keywordFinal",e[e.keywordInstanceof=39]="keywordInstanceof",e[e.leftBracket=40]="leftBracket",e[e.rightBracket=41]="rightBracket",e[e.leftSquareBracket=42]="leftSquareBracket",e[e.rightSquareBracket=43]="rightSquareBracket",e[e.leftCurlyBracket=44]="leftCurlyBracket",e[e.rightCurlyBracket=45]="rightCurlyBracket",e[e.leftRightSquareBracket=46]="leftRightSquareBracket",e[e.doubleMinus=47]="doubleMinus",e[e.doublePlus=48]="doublePlus",e[e.dot=49]="dot",e[e.modulo=50]="modulo",e[e.minus=51]="minus",e[e.plus=52]="plus",e[e.multiplication=53]="multiplication",e[e.division=54]="division",e[e.singleQuote=55]="singleQuote",e[e.doubleQuote=56]="doubleQuote",e[e.lower=57]="lower",e[e.greater=58]="greater",e[e.lowerOrEqual=59]="lowerOrEqual",e[e.greaterOrEqual=60]="greaterOrEqual",e[e.equal=61]="equal",e[e.notEqual=62]="notEqual",e[e.assignment=63]="assignment",e[e.plusAssignment=64]="plusAssignment",e[e.minusAssignment=65]="minusAssignment",e[e.multiplicationAssignment=66]="multiplicationAssignment",e[e.divisionAssignment=67]="divisionAssignment",e[e.moduloAssignment=68]="moduloAssignment",e[e.and=69]="and",e[e.or=70]="or",e[e.ampersand=71]="ampersand",e[e.ANDAssigment=72]="ANDAssigment",e[e.XORAssigment=73]="XORAssigment",e[e.ORAssigment=74]="ORAssigment",e[e.shiftLeftAssigment=75]="shiftLeftAssigment",e[e.shiftRightAssigment=76]="shiftRightAssigment",e[e.shiftRightUnsignedAssigment=77]="shiftRightUnsignedAssigment",e[e.OR=78]="OR",e[e.XOR=79]="XOR",e[e.tilde=80]="tilde",e[e.shiftRightUnsigned=81]="shiftRightUnsigned",e[e.shiftRight=82]="shiftRight",e[e.shiftLeft=83]="shiftLeft",e[e.ternaryOperator=84]="ternaryOperator",e[e.colon=85]="colon",e[e.ellipsis=86]="ellipsis",e[e.not=87]="not",e[e.semicolon=88]="semicolon",e[e.comma=89]="comma",e[e.backslash=90]="backslash",e[e.at=91]="at",e[e.space=92]="space",e[e.tab=93]="tab",e[e.newline=94]="newline",e[e.linefeed=95]="linefeed",e[e.identifierChar=96]="identifierChar",e[e.comment=97]="comment",e[e.negation=98]="negation",e[e.referenceElement=99]="referenceElement",e[e.endofSourcecode=100]="endofSourcecode",e[e.binaryOp=101]="binaryOp",e[e.unaryOp=102]="unaryOp",e[e.localVariableDeclaration=103]="localVariableDeclaration",e[e.heapVariableDeclaration=104]="heapVariableDeclaration",e[e.pushLocalVariableToStack=105]="pushLocalVariableToStack",e[e.popAndStoreIntoVariable=106]="popAndStoreIntoVariable",e[e.pushFromHeapToStack=107]="pushFromHeapToStack",e[e.pushAttribute=108]="pushAttribute",e[e.pushArrayLength=109]="pushArrayLength",e[e.pushConstant=110]="pushConstant",e[e.pushStaticClassObject=111]="pushStaticClassObject",e[e.pushStaticAttribute=112]="pushStaticAttribute",e[e.pushStaticAttributeIntrinsic=113]="pushStaticAttributeIntrinsic",e[e.checkCast=114]="checkCast",e[e.castValue=115]="castValue",e[e.selectArrayElement=116]="selectArrayElement",e[e.callMethod=117]="callMethod",e[e.callMainMethod=118]="callMainMethod",e[e.processPostConstructorCallbacks=119]="processPostConstructorCallbacks",e[e.callInputMethod=120]="callInputMethod",e[e.makeEllipsisArray=121]="makeEllipsisArray",e[e.decreaseStackpointer=122]="decreaseStackpointer",e[e.initStackframe=123]="initStackframe",e[e.closeStackframe=124]="closeStackframe",e[e.increaseSpaceForLocalVariables=125]="increaseSpaceForLocalVariables",e[e.return=126]="return",e[e.newObject=127]="newObject",e[e.jumpIfFalse=128]="jumpIfFalse",e[e.jumpIfTrue=129]="jumpIfTrue",e[e.jumpIfFalseAndLeaveOnStack=130]="jumpIfFalseAndLeaveOnStack",e[e.jumpIfTrueAndLeaveOnStack=131]="jumpIfTrueAndLeaveOnStack",e[e.jumpAlways=132]="jumpAlways",e[e.noOp=133]="noOp",e[e.incrementDecrementBefore=134]="incrementDecrementBefore",e[e.incrementDecrementAfter=135]="incrementDecrementAfter",e[e.programEnd=136]="programEnd",e[e.beginArray=137]="beginArray",e[e.addToArray=138]="addToArray",e[e.pushEmptyArray=139]="pushEmptyArray",e[e.forLoopOverCollection=140]="forLoopOverCollection",e[e.type=141]="type",e[e.typeParameter=142]="typeParameter",e[e.attributeDeclaration=143]="attributeDeclaration",e[e.methodDeclaration=144]="methodDeclaration",e[e.parameterDeclaration=145]="parameterDeclaration",e[e.superConstructorCall=146]="superConstructorCall",e[e.constructorCall=147]="constructorCall",e[e.newArray=148]="newArray",e[e.arrayInitialization=149]="arrayInitialization",e[e.print=150]="print",e[e.println=151]="println",e[e.pushEnumValue=152]="pushEnumValue",e[e.initializeEnumValue=153]="initializeEnumValue",e[e.scopeNode=154]="scopeNode",e[e.returnIfDestroyed=155]="returnIfDestroyed",e[e.extendedForLoopInit=156]="extendedForLoopInit",e[e.extendedForLoopCheckCounterAndGetElement=157]="extendedForLoopCheckCounterAndGetElement",e[e.setPauseDuration=158]="setPauseDuration",e[e.pause=159]="pause"}(r||(r={}));var a=(o(i={},r.identifier,"ein Bezeichner"),o(i,r.integerConstant,"eine Integer-Konstante"),o(i,r.floatingPointConstant,"eine Fließkomma-Konstante"),o(i,r.booleanConstant,"eine boolesche Konstante"),o(i,r.stringConstant,"eine Zeichenketten-Konstante"),o(i,r.charConstant,"eine char-Konstante"),o(i,r.true,"true"),o(i,r.false,"false"),o(i,r.keywordClass,"class"),o(i,r.keywordThis,"this"),o(i,r.keywordSuper,"super"),o(i,r.keywordNew,"new"),o(i,r.keywordInterface,"interface"),o(i,r.keywordEnum,"enum"),o(i,r.keywordVoid,"void"),o(i,r.keywordAbstract,"abstract"),o(i,r.keywordPublic,"public"),o(i,r.keywordProtected,"protected"),o(i,r.keywordPrivate,"private"),o(i,r.keywordTransient,"transient"),o(i,r.keywordStatic,"static"),o(i,r.keywordExtends,"extends"),o(i,r.keywordImplements,"implements"),o(i,r.keywordWhile,"while"),o(i,r.keywordDo,"do"),o(i,r.keywordFor,"for"),o(i,r.keywordSwitch,"switch"),o(i,r.keywordCase,"case"),o(i,r.keywordDefault,"default"),o(i,r.keywordIf,"if"),o(i,r.keywordThen,"then"),o(i,r.keywordElse,"else"),o(i,r.keywordReturn,"return"),o(i,r.keywordBreak,"break"),o(i,r.keywordContinue,"continue"),o(i,r.keywordNull,"null"),o(i,r.keywordFinal,"final"),o(i,r.keywordInstanceof,"instanceof"),o(i,r.keywordPrint,"print"),o(i,r.keywordPrintln,"println"),o(i,r.leftBracket,"("),o(i,r.rightBracket,")"),o(i,r.leftSquareBracket,"["),o(i,r.rightSquareBracket,"]"),o(i,r.leftCurlyBracket,"{"),o(i,r.rightCurlyBracket,"}"),o(i,r.leftRightSquareBracket,"[]"),o(i,r.dot,"."),o(i,r.minus,"-"),o(i,r.modulo,"%"),o(i,r.plus,"+"),o(i,r.multiplication,"*"),o(i,r.division,"/"),o(i,r.singleQuote,"'"),o(i,r.doubleQuote,'"'),o(i,r.doubleMinus,"--"),o(i,r.doublePlus,"++"),o(i,r.lower,"<"),o(i,r.greater,">"),o(i,r.lowerOrEqual,"<="),o(i,r.greaterOrEqual,">="),o(i,r.equal,"=="),o(i,r.notEqual,"!="),o(i,r.assignment,"="),o(i,r.plusAssignment,"+="),o(i,r.minusAssignment,"-="),o(i,r.multiplicationAssignment,"*="),o(i,r.divisionAssignment,"/="),o(i,r.moduloAssignment,"%="),o(i,r.ampersand,"&"),o(i,r.and,"&&"),o(i,r.or,"||"),o(i,r.not,"!"),o(i,r.ANDAssigment,"&="),o(i,r.XORAssigment,"^="),o(i,r.ORAssigment,"|="),o(i,r.shiftLeftAssigment,"<<="),o(i,r.shiftRightAssigment,">>="),o(i,r.shiftRightUnsignedAssigment,">>>="),o(i,r.OR,"|"),o(i,r.XOR,"^"),o(i,r.tilde,"~"),o(i,r.shiftLeft,"<<"),o(i,r.shiftRight,">>"),o(i,r.shiftRightUnsigned,">>>"),o(i,r.ternaryOperator,"?"),o(i,r.semicolon,";"),o(i,r.colon,":"),o(i,r.ellipsis,"..."),o(i,r.comma,","),o(i,r.backslash,"\\"),o(i,r.at,"@"),o(i,r.space,"ein Leerzeichen"),o(i,r.tab,"ein Tabulatorzeichen"),o(i,r.newline,"ein Zeilenumbruch"),o(i,r.identifierChar,"eines der Zeichen a..z, A..Z, _"),o(i,r.comment,"ein Kommentar"),o(i,r.endofSourcecode,"das Ende des Programmes"),i),s={"(":r.leftBracket,")":r.rightBracket,"[":r.leftSquareBracket,"]":r.rightSquareBracket,"{":r.leftCurlyBracket,"}":r.rightCurlyBracket,".":r.dot,",":r.comma,"-":r.minus,"%":r.modulo,"+":r.plus,"*":r.multiplication,"/":r.division,"\\":r.backslash,"@":r.at,"'":r.singleQuote,'"':r.doubleQuote,"<":r.lower,">":r.greater,"=":r.assignment,"&":r.and,"|":r.or,"!":r.not,"?":r.ternaryOperator,"^":r.XOR,"~":r.tilde,";":r.semicolon,":":r.colon,"...":r.ellipsis," ":r.space,"\t":r.tab,"\n":r.newline,"\r":r.linefeed},l={class:r.keywordClass,this:r.keywordThis,super:r.keywordSuper,new:r.keywordNew,interface:r.keywordInterface,enum:r.keywordEnum,void:r.keywordVoid,abstract:r.keywordAbstract,public:r.keywordPublic,protected:r.keywordProtected,private:r.keywordPrivate,transient:r.keywordTransient,static:r.keywordStatic,extends:r.keywordExtends,implements:r.keywordImplements,while:r.keywordWhile,do:r.keywordDo,for:r.keywordFor,switch:r.keywordSwitch,case:r.keywordCase,default:r.keywordDefault,if:r.keywordIf,then:r.keywordThen,else:r.keywordElse,return:r.keywordReturn,break:r.keywordBreak,continue:r.keywordContinue,null:r.keywordNull,final:r.keywordFinal,instanceof:r.keywordInstanceof,true:r.true,false:r.false,print:r.keywordPrint,println:r.keywordPrintln},u={n:"\n",r:"\r",t:"\t",'"':'"',"'":"'","\\":"\\"};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var S=function(){function e(){b(this,e),this.onlyFirstPass=!1,this.usagePositions=new Map,this.documentation=""}return k(e,[{key:"toTokenType",value:function(){return null}},{key:"clearUsagePositions",value:function(){this.usagePositions=new Map}}]),e}(),P=function(e){h(n,e);var t=y(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).initialValue=null,e.description="",e}return k(n,[{key:"equals",value:function(e){return e==this}},{key:"getResultType",value:function(e,t){var n=this.operationTable[e];return null==n?null:null!=t?n[t.identifier]:n.none}},{key:"canCastTo",value:function(e){return null!=this.canCastToMap[e.identifier]}},{key:"getCastInformation",value:function(e){return this.canCastToMap[e.identifier]}}]),n}(S),j=k((function e(t,n,i,r,o,a,s){b(this,e),this.onlyFirstPass=!1,this.identifier=t,this.type=n,this.updateValue=i,this.isStatic=r,this.visibility=o,this.isFinal=a,this.usagePositions=new Map,this.documentation=s})),T=function(e){h(n,e);var t=y(n);function n(e,i,r,o,a,s,l){var u,c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];b(this,n),(u=t.call(this)).onlyFirstPass=!1,u.isConstructor=!1,u.isVirtual=!1,u.reserveStackForLocalVariables=0,u.genericTypeMap=null,u.identifier=e,u.parameterlist=i,u.returnType=r,u.isAbstract=a,u.isStatic=s,u.visibility=0,u.documentation=l,u.isConstructor=c,null!=o&&("function"==typeof o?u.invoke=o:(u.program=o,o.method=m(u))),u.signature=e+i.id;var f,h=d(i.parameters);try{for(h.s();!(f=h.n()).done;){var p=f.value;if(1==p.isTypeVariable){u.hasGenericTypes=!0;break}}}catch(e){h.e(e)}finally{h.f()}return u.hasGenericTypes=u.hasGenericTypes||null!=u.returnType&&1==u.returnType.isTypeVariable,u}return k(n,[{key:"implements",value:function(e){if(this.identifier!=e.identifier)return!1;if(null==this.returnType||"void"==this.returnType.identifier){if(null!=e.returnType&&"void"!=e.returnType.identifier)return!1}else if(e.returnType instanceof P){if(e.returnType!=this.returnType)return!1}else if(!this.returnType.canCastTo(e.returnType))return!1;if(this.parameterlist.parameters.length!=e.parameterlist.parameters.length)return!1;for(var t=0;t<this.parameterlist.parameters.length;t++){var n=this.parameterlist.parameters[t],i=e.parameterlist.parameters[t];if(i.type instanceof P){if(i.type!=n.type)return!1}else if(!i.type.canCastTo(n.type))return!1}return!0}},{key:"hasEllipsis",value:function(){return 0!=this.parameterlist.parameters.length&&this.parameterlist.parameters[this.parameterlist.parameters.length-1].isEllipsis}},{key:"getParameterType",value:function(e){return this.parameterlist.parameters[e].type}},{key:"getParameter",value:function(e){return this.parameterlist.parameters[e]}},{key:"getReturnType",value:function(){return this.returnType}},{key:"getParameterCount",value:function(){return this.parameterlist.parameters.length}},{key:"getParameterList",value:function(){return this.parameterlist}},{key:"getSignatureWithReturnParameter",value:function(){return null!=this.returnType?this.returnType.identifier+" "+this.signature:"void "+this.signature}},{key:"getCompletionLabel",value:function(){var e="";null!=this.returnType&&"void"!=this.returnType.identifier&&(e+=M(this.returnType)+" "),e+=this.identifier+"(";for(var t=this.parameterlist.parameters,n=0;n<t.length;n++){var i=t[n];if(i.isEllipsis)e+=M(i.type.arrayOfType)+"... "+i.identifier;else e+=M(i.type)+" "+i.identifier;n<t.length-1&&(e+=", ")}return e+=")"}},{key:"getCompletionSnippet",value:function(e){if(e)return this.identifier+"($0";var t="";t+=this.identifier+"(";for(var n=null==this.returnType||"void"==this.returnType.identifier?1:0,i=this.parameterlist.parameters,r=0;r<i.length;r++){var o=i[r];t+="${"+(r+1)%(i.length+n)+":"+o.identifier+"}",r<i.length-1&&(t+=", ")}return t+=")",null!=this.returnType&&"void"!=this.returnType.identifier||(t+=";$0"),t}},{key:"debugOutput",value:function(e){return""}},{key:"equals",value:function(e){return e==this}},{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return!1}},{key:"castTo",value:function(e,t){return e}}]),n}(S),x=function(){function e(t){b(this,e),this.parameters=t,this.computeId()}return k(e,[{key:"computeId",value:function(){this.id="(";for(var e=0;e<this.parameters.length;)this.id+=this.parameters[e].type.identifier,e<this.parameters.length-1&&(this.id+=", "),e++;this.id+=")"}}]),e}();function M(e){var t,n;if(e.typeVariables&&e.typeVariables.length>0){var i=(e.isTypeVariable?e.identifier+" extends "+(null===(t=e.isGenericVariantFrom)||void 0===t?void 0:t.identifier):e.identifier)+"<";return(i+=e.typeVariables.map((function(e){return M(e.type)})).join(", "))+">"}return e.isTypeVariable?e.identifier+" extends "+(null===(n=e.isGenericVariantFrom)||void 0===n?void 0:n.identifier):e.identifier}function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.intrinsicData={},this.class=t,this.initializeAttributeValues()}var t,n,i;return t=e,(n=[{key:"getValue",value:function(e){var t=this.attributes[e];return null!=(null==t?void 0:t.updateValue)&&t.updateValue(t),t}},{key:"initializeAttributeValues",value:function(){this.attributes=Array(this.class.numberOfAttributesIncludingBaseClass).fill(null);for(var e=this.class;null!=e;){var t,n=O(e.attributes);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=null;i.type instanceof P&&(r=i.type.initialValue);var o={type:i.type,value:r};null!=i.updateValue&&(o.updateValue=i.updateValue,o.object=this),this.attributes[i.index]=o}}catch(e){n.e(e)}finally{n.f()}e=e.baseClass}}}])&&A(t.prototype,n),i&&A(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _,z,R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxLabelIndex=0,this.labeledNodes=[],this.labelMap=new Map,this.jumpNodesToResolve=[],this.switchStatements=[],this.program=t}var t,n,i;return t=e,(n=[{key:"correctPositionsAfterInsert",value:function(e,t){var n,i=D(this.labeledNodes);try{for(i.s();!(n=i.n()).done;){var r=n.value;null!=r.position&&r.position>=e&&(r.position+=t)}}catch(e){i.e(e)}finally{i.f()}}},{key:"registerSwitchStatement",value:function(e){this.switchStatements.push(e)}},{key:"insertJumpNode",value:function(e,t,n,i){var r=this.program.statements;null==t&&r.length>0&&(t=r[r.length-1].position);var o={type:e,position:t,stepFinished:!0};return n.pushStatements(o),this.registerJumpNode(o,i)}},{key:"markJumpDestination",value:function(e,t){var n=this.program.statements.length-1+e;null==t&&(t=this.maxLabelIndex++);var i={position:n,labelIndex:t};return this.labeledNodes.push(i),this.labelMap.set(t,i),t}},{key:"removeNode",value:function(e){for(var t=0;t<this.labeledNodes.length;t++){var n=this.labeledNodes[t];if(n.node==e){var i=this.program.statements.indexOf(e);if(i<this.program.statements.length-1){var r=this.program.statements[i+1];n.node=r}}else t++}}},{key:"registerJumpDestination",value:function(e,t){null==t&&(t=this.maxLabelIndex++);var n={node:e,labelIndex:t};return this.labeledNodes.push(n),this.labelMap.set(t,n),t}},{key:"registerJumpNode",value:function(e,t){null==t&&(t=this.maxLabelIndex++);var n={labelIndex:t,node:e};return this.jumpNodesToResolve.push(n),t}},{key:"resolveNodes",value:function(){var e,t=D(this.labeledNodes);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null==n.position)n.position=this.program.statements.indexOf(n.node);else{for(;n.position>this.program.statements.length-1;)this.program.statements.push({type:r.noOp,position:null});n.node=this.program.statements[n.position]}}}catch(e){t.e(e)}finally{t.f()}var i,o=D(this.jumpNodesToResolve);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.labelMap.get(a.labelIndex);null!=s&&(a.node.destination=s.position)}}catch(e){o.e(e)}finally{o.f()}var l,u=D(this.switchStatements);try{for(u.s();!(l=u.n()).done;){var c,d=l.value,f=D(d.destinationLabels);try{for(f.s();!(c=f.n()).done;){var h=c.value;d.destinationMap[h.constant]=this.labelMap.get(h.label).position}}catch(e){f.e(e)}finally{f.f()}d.destinationLabels=null,null!=d.defaultDestination&&(d.defaultDestination=this.labelMap.get(d.defaultDestination).position)}}catch(e){u.e(e)}finally{u.f()}}}])&&F(t.prototype,n),i&&F(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function H(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function V(){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=K(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function K(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Y(e);if(t){var r=Y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return X(this,n)}}function X(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e[e.public=0]="public",e[e.protected=1]="protected",e[e.private=2]="private"}(_||(_={}));var J=function(e){Q(n,e);var t=Z(n);function n(e,i,r){var o;return G(this,n),(o=t.call(this)).typeVariables=[],o.isTypeVariable=!1,o.typeVariablesReady=!0,o.implements=[],o.firstPassImplements=[],o.isAbstract=!1,o.postConstructorCallbacks=null,o.methods=[],o.methodMap=new Map,o.attributes=[],o.attributeMap=new Map,o.numberOfAttributesIncludingBaseClass=null,o.documentation=r,o.identifier=e,o.module=i,o.visibility=_.public,o.staticClass=new ee(q(o)),o.attributeInitializationProgram={method:null,module:o.module,statements:[],labelManager:null},o.attributeInitializationProgram.labelManager=new R(o.attributeInitializationProgram),o}return H(n,[{key:"setupAttributeIndicesRecursive",value:function(){null!=this.baseClass&&null==this.baseClass.numberOfAttributesIncludingBaseClass&&this.baseClass.setupAttributeIndicesRecursive();var e,t=null==this.baseClass?0:this.baseClass.numberOfAttributesIncludingBaseClass,n=L(this.attributes);try{for(n.s();!(e=n.n()).done;){e.value.index=t++}}catch(e){n.e(e)}finally{n.f()}this.numberOfAttributesIncludingBaseClass=t}},{key:"getNonGenericClass",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e}},{key:"getNonGenericIdentifier",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e.identifier}},{key:"implementsInterface",value:function(e){for(var t=this;null!=t;){var n,i=L(t.implements);try{for(i.s();!(n=i.n()).done;){if(null!=n.value.getThisOrExtendedInterface(e.getNonGenericIdentifier()))return!0}}catch(e){i.e(e)}finally{i.f()}t=t.baseClass}return!1}},{key:"getImplementedInterface",value:function(e){for(var t=this;null!=t;){var n,i=L(t.implements);try{for(i.s();!(n=i.n()).done;){var r=n.value.getThisOrExtendedInterface(e);if(null!=r)return r}}catch(e){i.e(e)}finally{i.f()}t=t.baseClass}return null}},{key:"registerUsedSystemClasses",value:function(e){null!=this.baseClass&&null!=this.baseClass.module&&this.baseClass.module.isSystemModule&&e.indexOf(this.baseClass)<0&&e.push(this.baseClass);var t,n=L(this.getCompositeData());try{for(n.s();!(t=n.n()).done;){var i=t.value;null!=i.klass&&null!=i.klass.module&&i.klass.module.isSystemModule&&e.indexOf(i.klass)<0&&e.push(i.klass)}}catch(e){n.e(e)}finally{n.f()}var r,o=L(this.implements);try{for(o.s();!(r=o.n()).done;){var a=r.value;null!=a&&a.module.isSystemModule&&e.indexOf(a)<0&&e.push(a)}}catch(e){o.e(e)}finally{o.f()}}},{key:"getCompositeData",value:function(){var e,t=[],i=new Map,r=L(this.attributes);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o.type instanceof n||o.type instanceof te){var a=i.get(o.type);null==a?(a={klass:o.type,multiples:!1,identifier:o.identifier},i.set(o.type,a),t.push(a)):a.identifier+=", "+o.identifier}else{for(var s=o.type;s instanceof fe;)s=s.arrayOfType;if(s instanceof n||s instanceof te){var l=i.get(s);null==l?(l={klass:s,multiples:!0,identifier:o.identifier},i.set(s,l),t.push(l)):(l.identifier+=", "+o.identifier,l.multiples=!0)}}}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"clearUsagePositions",value:function(){V(Y(n.prototype),"clearUsagePositions",this).call(this);var e,t=L(this.methods);try{for(t.s();!(e=t.n()).done;){e.value.clearUsagePositions()}}catch(e){t.e(e)}finally{t.f()}var i,r=L(this.attributes);try{for(r.s();!(i=r.n()).done;){i.value.usagePositions=new Map}}catch(e){r.e(e)}finally{r.f()}null!=this.staticClass&&this.staticClass.clearUsagePositions()}},{key:"getPostConstructorCallbacks",value:function(){for(var e=this,t=null;null!=e;)null!=e.postConstructorCallbacks&&(t=null==t?e.postConstructorCallbacks:t.concat(e.postConstructorCallbacks)),e=e.baseClass;return t}},{key:"getCompletionItems",value:function(e,t,n,i,r){var o,a=[],s=L(this.getAttributes(e));try{for(s.s();!(o=s.n()).done;){var l=o.value;a.push({label:l.identifier+"",kind:monaco.languages.CompletionItemKind.Field,insertText:l.identifier,range:i,documentation:null==l.documentation?void 0:{value:l.documentation}})}}catch(e){s.e(e)}finally{s.f()}var u,c=L(this.getMethods(e));try{for(c.s();!(u=c.n()).done;){var d=u.value;if(d.isConstructor){if((null==r?void 0:r.isConstructor)&&r!=d&&this.baseClass.methods.indexOf(d)>=0){this.pushSuperCompletionItem(a,d,t,i);continue}}else a.push({label:d.getCompletionLabel(),filterText:d.identifier,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},kind:monaco.languages.CompletionItemKind.Method,insertText:d.getCompletionSnippet(t),range:i,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==d.documentation?void 0:{value:d.documentation}})}}catch(e){c.e(e)}finally{c.f()}return a=a.concat(this.staticClass.getCompletionItems(e,t,n,i))}},{key:"pushSuperCompletionItem",value:function(e,t,n,i){e.push({label:t.getCompletionLabel().replace(t.identifier,"super"),filterText:"super",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},kind:monaco.languages.CompletionItemKind.Method,insertText:t.getCompletionSnippet(n).replace(t.identifier,"super"),range:i,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==t.documentation?void 0:{value:t.documentation}})}},{key:"pushStaticInitializationPrograms",value:function(e){this.staticClass.attributeInitializationProgram.statements.length>0&&e.push({program:this.staticClass.attributeInitializationProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Initialisierung statischer Variablen der Klasse "+this.staticClass.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung statischer Attribute"})}},{key:"getMethodBySignature",value:function(e){for(var t=this;null!=t;){var n=t.methodMap.get(e);if(null!=n)return n;t=t.baseClass}return null}},{key:"equals",value:function(e){return e==this}},{key:"setBaseClass",value:function(e){this.baseClass=e,this.staticClass.baseClass=e.staticClass}},{key:"addMethod",value:function(e){e.isConstructor&&(e.returnType=null),e.isStatic?this.staticClass.addMethod(e):(this.methods.push(e),this.methodMap.set(e.signature,e))}},{key:"addAttribute",value:function(e){e.isStatic?this.staticClass.addAttribute(e):(this.attributes.push(e),this.attributeMap.set(e.identifier,e))}},{key:"getResultType",value:function(e,t){return e!=r.equal&&e!=r.notEqual||!(t instanceof n||t==Vt)?e==r.keywordInstanceof&&(t instanceof ee||t instanceof te)?z:null:z}},{key:"compute",value:function(e,t,n){var i;if(e==r.equal)return t.value==n.value;if(e==r.notEqual)return t.value!=n.value;if(e==r.keywordInstanceof){var o=null===(i=null==t?void 0:t.value)||void 0===i?void 0:i.class;if(null==o)return!1;var a=o,s=n.type;if(s instanceof ee){for(;null!=a;){if(a===s.Klass)return!0;a=a.baseClass}return!1}if(s instanceof te)for(;null!=a;){var l,u=L(a.implements);try{for(u.s();!(l=u.n()).done;){if(l.value===s)return!0}}catch(e){u.e(e)}finally{u.f()}a=a.baseClass}return!1}return null}},{key:"getMethods",value:function(e,t){var n=this.methods.filter((function(n){return n.visibility<=e&&(null==t||n.identifier==t)}));if(null!=this.baseClass&&(null==t||t!=this.identifier||0==n.length)){var i,r=e==_.public?e:_.protected,o=L(this.baseClass.getMethods(r,t==this.identifier?this.baseClass.identifier:t));try{for(o.s();!(i=o.n()).done;){var a,s=i.value,l=!1,u=L(n);try{for(u.s();!(a=u.n()).done;){if(a.value.signature==s.signature){l=!0;break}}}catch(e){u.e(e)}finally{u.f()}l||n.push(s)}}catch(e){o.e(e)}finally{o.f()}}return n}},{key:"getAttributes",value:function(e){var t,n=[],i=L(this.attributes);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.visibility<=e&&n.push(r)}}catch(e){i.e(e)}finally{i.f()}if(null!=this.baseClass){var o,a=e==_.public?e:_.protected,s=L(this.baseClass.getAttributes(a));try{for(s.s();!(o=s.n()).done;){var l=o.value,u=!1;if(!(l.visibility>a)){var c,d=L(n);try{for(d.s();!(c=d.n()).done;){if(c.value.identifier==l.identifier){u=!0;break}}}catch(e){d.e(e)}finally{d.f()}u||n.push(l)}}}catch(e){s.e(e)}finally{s.f()}}return n}},{key:"hasConstructor",value:function(){var e,t=L(this.methods);try{for(t.s();!(e=t.n()).done;){if(e.value.isConstructor)return!0}}catch(e){t.e(e)}finally{t.f()}return null!=this.baseClass&&this.baseClass.hasConstructor()}},{key:"hasParameterlessConstructor",value:function(){var e,t=!1,n=L(this.methods);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.isConstructor){if(0==i.parameterlist.parameters.length)return!0;t=!0}}}catch(e){n.e(e)}finally{n.f()}return!t&&null!=this.baseClass&&this.baseClass.hasParameterlessConstructor()}},{key:"getParameterlessConstructor",value:function(){var e,t=L(this.methods);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.isConstructor&&0==n.parameterlist.parameters.length)return n}}catch(e){t.e(e)}finally{t.f()}return null!=this.baseClass?this.baseClass.getParameterlessConstructor():null}},{key:"getConstructor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.identifier,i=this.methods.filter((function(e){return e.isConstructor}));return 0==i.length&&null!=this.baseClass?this.baseClass.getConstructor(e,t,n):ne(i,this.identifier,e,n,!0)}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n,i){var r=ne(this.getMethods(i),e,t,this.identifier,n);if(0==r.methodList.length&&!n){var o=this.staticClass.getMethodsThatFitWithCasting(e,t,!1,i);return null==o.error?o:r}return r}},{key:"getMethod",value:function(e,t){var n=this.methodMap.get(e+t.id);return null==n&&null!=this.baseClass?this.baseClass.getMethod(e,t):n}},{key:"getAttribute",value:function(e,t){var n=null,i=!1,r=this.attributeMap.get(e),o=null==r;if(null==r?n="Das Attribut "+e+" kann nicht gefunden werden.":r.visibility>t&&(n="Das Attribut "+e+" hat die Sichtbarkeit "+_[r.visibility]+" und ist daher hier nicht sichtbar.",r=null,i=!0),null==r&&null!=this.baseClass){var a=t==_.public?t:_.protected,s=this.baseClass.getAttribute(e,a);if(null!=s.attribute||o)return s}return{attribute:r,error:n,foundButInvisible:i}}},{key:"canCastTo",value:function(e){if(e==$t)return!0;if(e instanceof n)for(var t=this;null!=t;){if(e.getNonGenericIdentifier()==t.getNonGenericIdentifier()){if(e.typeVariables.length>0){for(var i=Math.min(e.typeVariables.length,t.typeVariables.length),r=0;r<i;r++)if(!t.typeVariables[r].type.canCastTo(e.typeVariables[r].type))return!1;return!0}return!0}t=t.baseClass}if(e instanceof te)for(var o=this;null!=o;){var a,s=L(o.implements);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=e.getNonGenericIdentifier();if(null!=l.getThisOrExtendedInterface(u))return!0}}catch(e){s.e(e)}finally{s.f()}o=o.baseClass}return!1}},{key:"castTo",value:function(e,t){return e}},{key:"checkInheritance",value:function(){if(null!=this.baseClass&&n.dontInheritFrom.indexOf(this.baseClass.identifier)>=0)return{message:"Aus Performancegründen ist es leider nicht möglich, Unterklassen der Klassen String, Boolean, Character, Integer, Float und Double zu bilden.",missingMethods:[]};for(var e="",t=[],i=[],r=[],o=this,a=[o.identifier];null!=o.baseClass;){if(o=o.baseClass,a.indexOf(o.identifier)>=0){o.baseClass=null,a=[o.identifier].concat(a),e="Die Klasse "+o.identifier+" erbt von sich selbst: ",e+="("+a.join(" extends ")+")";break}a=[o.identifier].concat(a)}if(""==e){if(null!=this.baseClass)for(var s=[],l=this;null!=l;){var u,c=L(l.methods);try{for(c.s();!(u=c.n()).done;){var d=u.value;if(d.isAbstract){s.push(d);var f,h=!1,p=L(i);try{for(p.s();!(f=p.n()).done;){if(f.value.implements(d)){h=!0;break}}}catch(e){p.e(e)}finally{p.f()}h||t.push(d)}else i.push(d)}}catch(e){c.e(e)}finally{c.f()}l=l.baseClass}t.length>0&&!this.isAbstract&&(e="Die Klasse "+this.identifier+" muss noch folgende Methoden ihrer abstrakten Basisklassen implementieren: ",e+=t.map((function(e){return e.getSignatureWithReturnParameter()})).join(", "));var y,v=L(this.implements);try{for(v.s();!(y=v.n()).done;){var m,g=L(y.value.getMethods());try{for(g.s();!(m=g.n()).done;){var b,w=m.value,k=!1,S=L(i);try{for(S.s();!(b=S.n()).done;){if(b.value.implements(w)){k=!0;break}}}catch(e){S.e(e)}finally{S.f()}k||r.push(w)}}catch(e){g.e(e)}finally{g.f()}}}catch(e){v.e(e)}finally{v.f()}r.length>0&&(""!=e&&(e+="\n"),e+="Die Klasse "+this.identifier+" muss noch folgende Methoden der von ihr implementierten Interfaces implementieren: ",e+=r.map((function(e){return e.signature})).join(", "))}return{message:e,missingMethods:t.concat(r)}}},{key:"hasAncestorOrIs",value:function(e){var t=this,i=e.identifier;for(e instanceof n&&(i=e.getNonGenericIdentifier());null!=t;){if(t.getNonGenericIdentifier()==i)return!0;t=t.baseClass}return!1}},{key:"debugOutput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n="{",i=this.getAttributes(_.private),r=e.value;if(null==r)return"null";for(var o=0;o<i.length;o++){var a=i[o],s=r.getValue(a.index);a.type instanceof P?n+=a.identifier+":&nbsp;"+a.type.debugOutput(s,t/2):n+=a.identifier+":&nbsp; {...}",o<i.length-1&&(n+=",&nbsp;")}return n+"}"}},{key:"clone",value:function(){var e=Object.create(this);return e.implements=this.implements.slice(0),e.usagePositions=new Map,e.isGenericVariantFrom=this,e}}]),n}(S);J.dontInheritFrom=["Integer","Float","Double","Boolean","Character","String","Shape","FilledShape"];var ee=function(e){Q(n,e);var t=Z(n);function n(e){var i;return G(this,n),(i=t.call(this)).methods=[],i.methodMap=new Map,i.attributes=[],i.attributeMap=new Map,i.numberOfAttributesIncludingBaseClass=null,i.Klass=e,i.identifier=e.identifier,null!=e.baseClass&&(i.baseClass=e.baseClass.staticClass),i.attributeInitializationProgram={method:null,module:i.Klass.module,statements:[],labelManager:null},i.attributeInitializationProgram.labelManager=new R(i.attributeInitializationProgram),i}return H(n,[{key:"setupAttributeIndicesRecursive",value:function(){null!=this.baseClass&&null==this.baseClass.numberOfAttributesIncludingBaseClass&&this.baseClass.setupAttributeIndicesRecursive();var e,t=null==this.baseClass?0:this.baseClass.numberOfAttributesIncludingBaseClass,n=L(this.attributes);try{for(n.s();!(e=n.n()).done;){e.value.index=t++}}catch(e){n.e(e)}finally{n.f()}this.numberOfAttributesIncludingBaseClass=t}},{key:"clearUsagePositions",value:function(){V(Y(n.prototype),"clearUsagePositions",this).call(this);var e,t=L(this.methods);try{for(t.s();!(e=t.n()).done;){e.value.clearUsagePositions()}}catch(e){t.e(e)}finally{t.f()}var i,r=L(this.attributes);try{for(r.s();!(i=r.n()).done;){i.value.usagePositions=new Map}}catch(e){r.e(e)}finally{r.f()}}},{key:"debugOutput",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,i="{",r=this.getAttributes(_.private),o=this.classObject,a=0;a<r.length;a++){var s=r[a];i+=s.identifier+": "+o==null?"---":null===(t=s.type)||void 0===t?void 0:t.debugOutput(o.getValue(s.index),n/2),a<r.length-1&&(i+=", ")}return i+"}"}},{key:"getCompletionItems",value:function(e,t,n,i){var r,o=[],a=L(this.getAttributes(e));try{for(a.s();!(r=a.n()).done;){var s=r.value;o.push({label:s.identifier,detail:s.color?s.color:void 0,kind:s.color?monaco.languages.CompletionItemKind.Color:monaco.languages.CompletionItemKind.Field,insertText:s.identifier,range:i,documentation:null==s.documentation?void 0:{value:s.documentation}})}}catch(e){a.e(e)}finally{a.f()}var l,u=L(this.getMethods(e));try{for(u.s();!(l=u.n()).done;){var c=l.value;o.push({label:c.getCompletionLabel(),filterText:c.identifier,kind:monaco.languages.CompletionItemKind.Method,insertText:c.getCompletionSnippet(t),range:i,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==c.documentation?void 0:{value:c.documentation}})}}catch(e){u.e(e)}finally{u.f()}return o}},{key:"equals",value:function(e){return e==this}},{key:"addMethod",value:function(e){this.methods.push(e),this.methodMap.set(e.signature,e)}},{key:"addAttribute",value:function(e){this.attributes.push(e),this.attributeMap.set(e.identifier,e)}},{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n,i){return ne(this.getMethods(i),e,t,this.Klass.identifier,n)}},{key:"getMethods",value:function(e,t){var n=this.methods.slice().filter((function(n){return n.visibility<=e&&(null==t||t==n.identifier)}));if(null!=this.baseClass){var i,r=e==_.public?_.public:_.protected,o=L(this.baseClass.getMethods(r,t));try{for(o.s();!(i=o.n()).done;){var a,s=i.value,l=!1,u=L(n);try{for(u.s();!(a=u.n()).done;){if(a.value.signature==s.signature){l=!0;break}}}catch(e){u.e(e)}finally{u.f()}l||n.push(s)}}catch(e){o.e(e)}finally{o.f()}}return n}},{key:"getAttributes",value:function(e){var t=this.attributes.filter((function(t){return t.visibility<=e}));if(null!=this.baseClass){var n,i=e==_.public?e:_.protected,r=L(this.baseClass.getAttributes(i));try{for(r.s();!(n=r.n()).done;){var o,a=n.value,s=!1,l=L(t);try{for(l.s();!(o=l.n()).done;){if(o.value.identifier==a.identifier){s=!0;break}}}catch(e){l.e(e)}finally{l.f()}s||t.push(a)}}catch(e){r.e(e)}finally{r.f()}}return t}},{key:"getMethod",value:function(e,t){var n=this.methodMap.get(e+t.id);return null==n&&null!=this.baseClass?this.baseClass.getMethod(e,t):n}},{key:"getAttribute",value:function(e,t){var n="",i=!1,r=this.attributeMap.get(e);if(null==r?(i=!0,n="Das Attribut "+e+" konnte nicht gefunden werden."):r.visibility>t&&(n="Das Attribut "+e+" hat die Sichtbarkeit "+_[r.visibility]+" und ist hier daher nicht sichtbar.",r=null),null==r&&null!=this.baseClass){var o=t==_.public?t:_.protected,a=this.baseClass.getAttribute(e,o);if(i)return a}return{attribute:r,error:n,foundButInvisible:!i,staticClass:this}}},{key:"canCastTo",value:function(e){return!1}},{key:"castTo",value:function(e,t){return e}},{key:"hasAncestorOrIs",value:function(e){for(var t=this;null!=t;){if(t==e)return!0;t=t.baseClass}return!1}}]),n}(S),te=function(e){Q(n,e);var t=Z(n);function n(e,i,r){var o;return G(this,n),(o=t.call(this)).typeVariables=[],o.typeVariablesReady=!0,o.extends=[],o.methods=[],o.methodMap=new Map,o.documentation=r,o.identifier=e,o.module=i,o}return H(n,[{key:"getNonGenericIdentifier",value:function(){for(var e=this;null!=e.isGenericVariantFrom;)e=e.isGenericVariantFrom;return e.identifier}},{key:"getThisOrExtendedInterface",value:function(e){if(this.getNonGenericIdentifier()==e)return this;var t,n=L(this.extends);try{for(n.s();!(t=n.n()).done;){var i=t.value.getThisOrExtendedInterface(e);if(null!=i)return i}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"clone",value:function(){var e=Object.create(this);return e.usagePositions=new Map,e.isGenericVariantFrom=this,e}},{key:"clearUsagePositions",value:function(){V(Y(n.prototype),"clearUsagePositions",this).call(this);var e,t=L(this.methods);try{for(t.s();!(e=t.n()).done;){e.value.clearUsagePositions()}}catch(e){t.e(e)}finally{t.f()}}},{key:"getCompletionItems",value:function(e,t,n){var i,r=[],o=L(this.getMethods());try{for(o.s();!(i=o.n()).done;){var a=i.value;r.push({label:a.getCompletionLabel(),filterText:a.identifier,kind:monaco.languages.CompletionItemKind.Method,insertText:a.getCompletionSnippet(e),range:n,command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:null==a.documentation?void 0:{value:a.documentation}})}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"debugOutput",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e.value?"null":e.value instanceof E?e.value.class.debugOutput(e):"{...}"}},{key:"equals",value:function(e){return e==this}},{key:"addMethod",value:function(e){e.isAbstract=!0,this.methods.push(e),this.methodMap.set(e.signature,e)}},{key:"getResultType",value:function(e,t){return e==r.equal||e==r.notEqual||e==r.keywordInstanceof&&(t instanceof ee||t instanceof n)?z:null}},{key:"compute",value:function(e,t,n){return e==r.equal?t.value==n.value:e==r.notEqual?t.value!=n.value:null}},{key:"getMethods",value:function(){if(0==this.extends.length)return this.methods;if(null!=this.methodsWithSubInterfaces)return this.methodsWithSubInterfaces;var e={},t={};this.methodsWithSubInterfaces=this.methods.slice(0);var n,i=L(this.methods);try{for(i.s();!(n=i.n()).done;){t[n.value.signature]=!0}}catch(e){i.e(e)}finally{i.f()}e[this.identifier]=!0;for(var r=this.extends.slice(0);r.length>0;){var o,a=r.pop(),s=L(a.methods);try{for(s.s();!(o=s.n()).done;){var l=o.value;t[l.signature]||(this.methodsWithSubInterfaces.push(l),t[l.signature]=!0)}}catch(e){s.e(e)}finally{s.f()}var u,c=L(a.extends);try{for(c.s();!(u=c.n()).done;){var d=u.value;e[d.identifier]||(r.push(d),e[d.identifier]=!0)}}catch(e){c.e(e)}finally{c.f()}}return this.methodsWithSubInterfaces}},{key:"getMethod",value:function(e,t){return this.methodMap.get(e+t.id)}},{key:"canCastTo",value:function(e){if(e instanceof n){if(e.getNonGenericIdentifier()==this.getNonGenericIdentifier()){if(!0,0==this.typeVariables.length)return!0;var t=e;if(this.typeVariables.length!=t.typeVariables.length)return!1;for(var i=0;i<this.typeVariables.length;i++){var r=this.typeVariables[i];if(!t.typeVariables[i].type.canCastTo(r.type))return!1}return!1}var o,a=L(this.extends);try{for(a.s();!(o=a.n()).done;){if(o.value.canCastTo(e))return!0}}catch(e){a.e(e)}finally{a.f()}return!1}return e instanceof J&&"Object"==e.getNonGenericIdentifier()}},{key:"castTo",value:function(e,t){return e}},{key:"getMethodsThatFitWithCasting",value:function(e,t,n){return ne(this.getMethods(),e,t,this.identifier,n)}}]),n}(S);function ne(e,t,n,i,r){var o,a=[],s=1e4,l=null,u=!1,c=L(e);try{for(c.s();!(o=c.n()).done;){var d=o.value,f=0;if(d.identifier==t||d.isConstructor&&r){u=!0;var h=d.hasEllipsis();if(d.getParameterCount()==n.length||h&&d.getParameterCount()<=n.length){var p=!0,y=0;for(y=0;y<d.getParameterCount()-(h?1:0);y++){var v=d.getParameterType(y),m=n[y];if(null==m){p=!1;break}if(v!=m){if(!m.canCastTo(v)){p=!1;break}f++,v==$t&&(f+=.5)}}if(p&&h)for(var g=d.getParameter(y).type.arrayOfType,b=y;b<n.length;b++){var w=n[y];if(null==w){p=!1;break}if(g!=w){if(!w.canCastTo(g)){p=!1;break}f++,g==$t&&(f+=.5)}}p&&f<=s&&(f<s&&(a=[]),a.push(d),s=f)}}}}catch(e){c.e(e)}finally{c.f()}if(0==a.length)if(u)if(0==n.length)l=r?"Es gibt keinen parameterlosen Konstruktor der Klasse "+i:"Die vorhandenen Methoden mit dem Bezeichner "+t+" haben alle mindestens einen Parameter. Hier wird aber kein Parameterwert übergeben.";else{var k=n.map((function(e){return null==e?void 0:e.identifier})).join(", ");l=r?"Die Parametertypen (".concat(k,") passen zu keinem Konstruktor der Klasse ").concat(i):"Die Parametertypen (".concat(k,") passen zu keiner der vorhandenen Methoden mit dem Bezeichner ").concat(t,".")}else l="Der Typ "+i+" besitzt keine Methode mit dem Bezeichner "+t+".","setCenter"==t&&(l+=' Tipp: Die Methode setCenter der Klasse Shape wurde umbenannt in "moveTo".');return a.length>1&&(a=a.slice(0,1)),{error:l,methodList:a}}function ie(e,t){return null==t?_.public:(e instanceof ee&&(e=e.Klass),t instanceof ee&&(t=t.Klass),e==t?_.private:t.hasAncestorOrIs(e)?_.protected:_.public)}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=de(e);if(t){var r=de(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ce(this,n)}}function ce(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(a,e);var t,n,i,o=ue(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this)).arrayOfType=e,t.identifier="Array",null!=e&&(t.identifier=e.identifier+"[]"),t.lengthAttribute=new j("length",Bt,(function(e){return e.value.length}),!1,_.public,!0),t}return t=a,(n=[{key:"equals",value:function(e){return e instanceof a&&e.arrayOfType.equals(this.arrayOfType)}},{key:"id",get:function(){return this.arrayOfType.identifier+"[]"}},{key:"getResultType",value:function(e,t){return e==r.referenceElement?this.arrayOfType:null}},{key:"compute",value:function(e,t,n){if(e==r.referenceElement)return t.value[n.value]}},{key:"getMethod",value:function(e,t){return null}},{key:"getAttribute",value:function(e){return"length"==e?this.lengthAttribute:null}},{key:"canCastTo",value:function(e){return e instanceof a&&this.arrayOfType.canCastTo(e.arrayOfType)}},{key:"castTo",value:function(e,t){var n,i=e.value.slice(),r=t.arrayOfType,o=oe(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.arrayOfType.castTo(a,r)}}catch(e){o.e(e)}finally{o.f()}return{type:t,value:i}}},{key:"debugOutput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=0;if(null!=e.value){for(var i="[",r=e.value,o=0;o<r.length;o++){var a=r[o],s=a.type.debugOutput(a,t/2);if(i+=s,o<r.length-1&&(i+=",&nbsp;"),(n+=s.length)>t)break}return i+"]"}return"null"}}])&&se(t.prototype,n),i&&se(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(S);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ge(e);if(t){var r=ge(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return me(this,n)}}function me(e,t){if(t&&("object"===he(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(o,e);var t,n,i,r=ve(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Object",e,"Basisklasse aller Klassen");var n=new T("toString",new x([]),$t,(function(e){return e[0].value instanceof E?"("+e[0].value.class.identifier+")":e[0].value}),!1,!1);return n.isVirtual=!0,t.addMethod(n),t}return t=o,n&&pe(t.prototype,n),i&&pe(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Se(){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Pe(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Pe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Me(e)););return e}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Me(e);if(t){var r=Me(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return xe(this,n)}}function xe(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}(o,e);var t,n,i,r=Te(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Integer",null,"Wrapper-Klasse, um int-Werte in Collections verenden zu können.")).unboxableAs=[],t.baseClass=e,t.addAttribute(new j("MAX_VALUE",Bt,(function(e){e.value=Number.MAX_SAFE_INTEGER}),!0,_.public,!0,"Der größte Wert, den eine Variable vom Typ int annehmen kann")),t.addAttribute(new j("MIN_VALUE",Bt,(function(e){e.value=Number.MIN_SAFE_INTEGER}),!0,_.public,!0,"Der kleinste Wert, den eine Variable vom Typ int annehmen kann")),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t}return t=o,(n=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||Se(Me(o.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[Bt,Lt,Wt],this.addMethod(new T("Integer",new x([{identifier:"int-wert",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Integer-Objekt",!0)),this.addMethod(new T("Integer",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseInt(e[1].value)}),!1,!1,"Instanziert ein neues Integer-Objekt, indem die übergebene Zeichenkette in einen int-Wert umgewandelt wird.",!0)),this.addMethod(new T("doubleValue",new x([]),Wt,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen double-Wert um")),this.addMethod(new T("floatValue",new x([]),Lt,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen float-Wert um")),this.addMethod(new T("intValue",new x([]),Bt,(function(e){return e[0].value}),!1,!1,"Wandelt das Integer-Objekt in einen int-Wert um")),this.addMethod(new T("compareTo",new x([{identifier:"anotherInteger",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert größer als der übergebene Wert, so wird +1 zurückgegeben. Ist er kleiner, so wird -1 zurückgegeben. Sind die Werte gleich, so wird 0 zurückgegeben.")),this.addMethod(new T("equals",new x([{identifier:"anotherInteger",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurück, wenn der Wert gleich dem übergebenen Wert ist.")),this.addMethod(new T("toString",new x([]),$t,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zur Basis 10 zurück.")),this.addMethod(new T("hashCode",new x([]),Bt,(function(e){return e[0].value}),!1,!1,"Gibt den hashCode des Objekts zurück.")),this.addMethod(new T("parseInt",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Number.parseInt(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen int-Wert um")),this.addMethod(new T("parseInt",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Wandelt die Zeichenkette s in einen int-Wert um. Dabei wird s als Zahl im Zahlensystem mit der Basis radix interpretiert.")),this.addMethod(new T("signum",new x([{identifier:"i",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.sign(e[1].value)}),!1,!0,"Gibt das Signum der übergebenen Zahl zurück, also -1 falls negativ, 0 falls 0 und +1 falls positiv.")),this.addMethod(new T("toBinary",new x([{identifier:"i",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return(e[1].value>>>0).toString(2)}),!1,!0,"Gibt die übergebene Zahl als Binärrepräsentation zurück.")),this.addMethod(new T("toHex",new x([{identifier:"i",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return(e[1].value>>>0).toString(16)}),!1,!0,"Gibt die übergebene Zahl als Hexadezimalrepräsentation zurück.")),this.addMethod(new T("toOctal",new x([{identifier:"i",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return(e[1].value>>>0).toString(8)}),!1,!0,"Gibt die übergebene Zahl als Oktalrepräsentation zurück.")),this.addMethod(new T("toString",new x([{identifier:"i",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return e[1].value.toString()}),!1,!0,"Gibt die übergebene Zahl als String-Wert zur Basis 10 zurück.")),this.addMethod(new T("toString",new x([{identifier:"i",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return(e[1].value>>>0).toString(e[2].value)}),!1,!0,"Gibt die übergebene Zahl als String-Wert zur Basis radix zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"i",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die übergebene Zahl als Integer-Objekt zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseInt(e[1].value)}),!1,!0,"Interpretiert die übergebene Zeichenkette als Dezimalzahl und gib sie als Integer-Objekt zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Interpretiert die übergebene Zeichenkette als Zahl zur Basis radix und gib sie als Integer-Objekt zurück."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&ke(t.prototype,n),i&&ke(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(J);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ee(){return(Ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=De(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function De(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ze(e);if(t){var r=ze(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _e(this,n)}}function _e(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}(o,e);var t,n,i,r=Fe(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Float",null,"Wrapper-Klasse, um float-Werte in Collections verenden zu können.")).unboxableAs=[],t.baseClass=e,t.addAttribute(new j("MAX_VALUE",Lt,(function(e){e.value=Number.MAX_VALUE}),!0,_.public,!0,"Der größte Wert, den eine Variable vom Typ float annehmen kann")),t.addAttribute(new j("MIN_VALUE",Lt,(function(e){e.value=Number.MIN_VALUE}),!0,_.public,!0,"Der kleinste Wert, den eine Variable vom Typ float annehmen kann")),t.addAttribute(new j("NaN_VALUE",Lt,(function(e){e.value=Number.NaN}),!0,_.public,!0,'Der "Not a Number"-Wert vom Typ float')),t.addAttribute(new j("NEGATIVE_INFINITY",Lt,(function(e){e.value=Number.NEGATIVE_INFINITY}),!0,_.public,!0,'Der "negative infinity"-Wert vom Typ float')),t.addAttribute(new j("POSITIVE_INFINITY",Lt,(function(e){e.value=Number.POSITIVE_INFINITY}),!0,_.public,!0,'Der "positive infinity"-Wert vom Typ float')),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t}return t=o,(n=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||Ee(ze(o.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[Lt,Wt],this.addMethod(new T("Float",new x([{identifier:"double-value",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Float-Objekt",!0)),this.addMethod(new T("Float",new x([{identifier:"int-value",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Float-Objekt",!0)),this.addMethod(new T("Float",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseFloat(e[1].value)}),!1,!1,"Instanziert ein neues Float-Objekt, indem die übergebene Zeichenkette in einen float-Wert umgewandelt wird.",!0)),this.addMethod(new T("doubleValue",new x([]),Wt,(function(e){return e[0].value}),!1,!1,"Wandelt das Float-Objekt in einen double-Wert um.")),this.addMethod(new T("floatValue",new x([]),Lt,(function(e){return e[0].value}),!1,!1,"Wandelt das Float-Objekt in einen float-Wert um.")),this.addMethod(new T("intValue",new x([]),Bt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Wandelt das Float-Objekt durch Abrunden in einen int-Wert um.")),this.addMethod(new T("compareTo",new x([{identifier:"anotherFloat",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert größer als der übergebene Wert, so wird +1 zurückgegeben. Ist er kleiner, so wird -1 zurückgegeben. Sind die Werte gleich, so wird 0 zurückgegeben.")),this.addMethod(new T("equals",new x([{identifier:"anotherFloat",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurück, wenn der Wert gleich dem übergebenen Wert ist.")),this.addMethod(new T("toString",new x([]),$t,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurück.")),this.addMethod(new T("hashCode",new x([]),Bt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Gibt den hashCode des Objekts zurück.")),this.addMethod(new T("parseFloat",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Lt,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen float-Wert um")),this.addMethod(new T("toString",new x([{identifier:"f",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return""+e[1].value}),!1,!0,"Gibt die übergebene Zahl als String-Wert zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"f",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die übergebene Zahl als Float-Objekt zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Interpretiert die übergebene Zeichenkette als Dezimalzahl und gib sie als Float-Objekt zurück.")),this.addMethod(new T("isNaN",new x([{identifier:"f",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return Number.isNaN(e[1].value)}),!1,!0,"Gibt genau dann true zurück, falls die übergebene float-Zahl NaN (not a Number) ist.")),this.addMethod(new T("isNaN",new x([]),Gt,(function(e){return Number.isNaN(e[0].value)}),!1,!1,"Gibt genau dann true zurück, falls das Objekt NaN (not a Number) ist.")),this.addMethod(new T("isInfinite",new x([{identifier:"f",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return e[1].value==1/0}),!1,!0,"Gibt genau dann true zurück, falls die übergebene float-Zahl INFINTITY ist.")),this.addMethod(new T("isInfinite",new x([]),Gt,(function(e){return e[0].value==1/0}),!1,!1,"Gibt genau dann true zurück, falls das Objekt INFINITY ist."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&Ae(t.prototype,n),i&&Ae(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(J);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function We(){return(We="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Ge(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Ge(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ve(e)););return e}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ve(e);if(t){var r=Ve(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===Be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(o,e);var t,n,i,r=$e(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Character",null,"Wrapper-Klasse, um char-Werte in Collections verenden zu können.")).unboxableAs=[],t.baseClass=e,t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t}return t=o,(n=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||We(Ve(o.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[Ht,$t],this.addMethod(new T("Character",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Character-Objekt",!0)),this.addMethod(new T("charValue",new x([]),Ht,(function(e){return e[0].value}),!1,!1,"Wandelt das Character-Objekt in einen char-Wert um")),this.addMethod(new T("compareTo",new x([{identifier:"anotherCharacter",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert größer als der übergebene Wert, so wird +1 zurückgegeben. Ist er kleiner, so wird -1 zurückgegeben. Sind die Werte gleich, so wird 0 zurückgegeben.")),this.addMethod(new T("equals",new x([{identifier:"anotherCharacter",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurück, wenn der Wert gleich dem übergebenen Wert ist.")),this.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurück.")),this.addMethod(new T("hashCode",new x([]),Bt,(function(e){return e[0].value.charCodeAt(0)}),!1,!1,"Gibt den hashCode des Objekts zurück.")),this.addMethod(new T("charValue",new x([]),Ht,(function(e){return e[0].value}),!1,!1,"Gibt den char-Wert des Objekts zurück.")),this.addMethod(new T("digit",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Number.parseInt(e[1].value,e[2].value)}),!1,!0,"Gibt den numerischen Wert des Zeichens zur Basis radix zurück.")),this.addMethod(new T("forDigit",new x([{identifier:"int-value",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radix",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Ht,(function(e){return e[1].value.toString(e[2].value).charAt(0)}),!1,!0,"Gibt den übergebenen Wert als Ziffer im Zahlensystem zur Basis radix zurück.")),this.addMethod(new T("getNumericValue",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return e[1].value.charCodeAt(0)}),!1,!0,"Wandelt das Zeichen in einen numerischen Wert (Unicode-Wert) um.")),this.addMethod(new T("isLetter",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null!=e[1].value.match(/[a-zäöüß]/i)}),!1,!0,"Gibt genau dann true zurück, wenn das Zeichen ein deutsches Alphabet-Zeichen ist.")),this.addMethod(new T("isLetterOrDigit",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null!=e[1].value.match(/[a-zäöüß0-9]/i)}),!1,!0,"Gibt genau dann true zurück, wenn das Zeichen ein deutsches Alphabet-Zeichen oder eine Ziffer ist.")),this.addMethod(new T("isDigit",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null!=e[1].value.match(/[0-9]/i)}),!1,!0,"Gibt genau dann true zurück, wenn das Zeichen eine Ziffer ist.")),this.addMethod(new T("isWhitespace",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null!=e[1].value.match(/[ \r\n\t]/i)}),!1,!0,"Gibt genau dann true zurück, wenn das Zeichen ein Leerzeichen, Tabulatorzeichen oder Zeilenumbruch ist.")),this.addMethod(new T("toUpperCase",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Ht,(function(e){return e[1].value.toLocaleUpperCase()}),!1,!0,"Wandelt das Zeichen in Großschreibung um.")),this.addMethod(new T("toLowerCase",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Ht,(function(e){return e[1].value.toLocaleLowerCase()}),!1,!0,"Wandelt das Zeichen in Kleinschreibung um.")),this.addMethod(new T("valueOf",new x([{identifier:"char-value",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Wandelt den char-Wert in ein Character-Objekt um."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&Le(t.prototype,n),i&&Le(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(J);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ze(){return(Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Xe(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Xe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tt(e)););return e}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tt(e);if(t){var r=tt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Je(this,n)}}function Je(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return et(e)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(o,e);var t,n,i,r=Ye(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Boolean",null,"Wrapper-Klasse, um boolean-Werte in Collections verenden zu können.")).unboxableAs=[],t.baseClass=e,t.addAttribute(new j("TRUE",et(t),(function(e){e.value=!0}),!0,_.public,!0,"das Boolean-Objekt, das TRUE repräsentiert")),t.addAttribute(new j("FALSE",et(t),(function(e){e.value=!1}),!0,_.public,!0,"das Boolean-Objekt, das FALSE repräsentiert")),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t}return t=o,(n=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||Ze(tt(o.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[Gt],this.addMethod(new T("Boolean",new x([{identifier:"boolean-value",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Boolean-Objekt",!0)),this.addMethod(new T("Boolean",new x([{identifier:"string-value",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=null!=e[1]&&"true"==e[1].value.toLowerCase()}),!1,!1,'Instanziert ein neues Boolean-Objekt: Es nimmt genau dann den Wert true an, wenn die übergebene Zeichenkette ohne Berücksichtigung von Klein-/Großschreibung den Wert "true" hat.',!0)),this.addMethod(new T("booleanValue",new x([]),Gt,(function(e){return e[0].value}),!1,!1,"Wandelt das Boolean-Objekt in einen boolean-Wert um")),this.addMethod(new T("compareTo",new x([{identifier:"anotherBoolean",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return e[0].value==e[1].value?0:1}),!1,!1,"Gibt genau dann 0 zurück, wenn der Wert des Objekts gleich dem übergebenen Wert ist, ansonsten 1.")),this.addMethod(new T("equals",new x([{identifier:"anotherBoolean",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurück, wenn der Wert gleich dem übergebenen Wert ist.")),this.addMethod(new T("toString",new x([]),$t,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurück.")),this.addMethod(new T("hashCode",new x([]),Bt,(function(e){return e[0].value?0:1}),!1,!1,"Gibt den hashCode des Objekts zurück.")),this.addMethod(new T("booleanValue",new x([]),Gt,(function(e){return e[0].value}),!1,!1,"Gibt den boolean-Wert des Objekts zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"boolean-value",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Wandelt den boolean-Wert in ein Boolean-Objekt um.")),this.addMethod(new T("valueOf",new x([{identifier:"string-value",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null!=e[1].value&&"true"==e[1].value.toLowerCase()}),!1,!0,'Wandelt die Zeichenkette in einen boolean-Wert um. Er ergibt true genau dann, wenn die Zeichenkette != null ist und - ohne Berücksichtigung von Klein-/Großschreibung - den Wert "true" hat.')),this.addMethod(new T("parseBoolean",new x([{identifier:"string-value",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null!=e[1].value&&"true"==e[1].value.toLowerCase()}),!1,!0,'Wandelt die Zeichenkette in einen boolean-Wert um. Er ergibt true genau dann, wenn die Zeichenkette != null ist und - ohne Berücksichtigung von Klein-/Großschreibung - den Wert "true" hat.'))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&Ue(t.prototype,n),i&&Ue(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(J);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ot(){return(ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=at(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function at(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ct(e)););return e}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ct(e);if(t){var r=ct(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ut(this,n)}}function ut(e,t){if(t&&("object"===it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt,ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&st(e,t)}(o,e);var t,n,i,r=lt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Double",null,"Wrapper-Klasse, um double-Werte in Collections verenden zu können.")).unboxableAs=[],t.baseClass=e,t.addAttribute(new j("MAX_VALUE",Wt,(function(e){e.value=Number.MAX_VALUE}),!0,_.public,!0,"Der größte Wert, den eine Variable vom Typ double annehmen kann")),t.addAttribute(new j("MIN_VALUE",Wt,(function(e){e.value=Number.MIN_VALUE}),!0,_.public,!0,"Der kleinste Wert, den eine Variable vom Typ double annehmen kann")),t.addAttribute(new j("NaN_VALUE",Wt,(function(e){e.value=Number.NaN}),!0,_.public,!0,'Der "Not a Number"-Wert vom Typ double')),t.addAttribute(new j("NEGATIVE_INFINITY",Wt,(function(e){e.value=Number.NEGATIVE_INFINITY}),!0,_.public,!0,'Der "negative infinity"-Wert vom Typ double')),t.addAttribute(new j("POSITIVE_INFINITY",Wt,(function(e){e.value=Number.POSITIVE_INFINITY}),!0,_.public,!0,'Der "positive infinity"-Wert vom Typ double')),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t}return t=o,(n=[{key:"canCastTo",value:function(e){return this.unboxableAs.indexOf(e)>=0||ot(ct(o.prototype),"canCastTo",this).call(this,e)}},{key:"init",value:function(){this.unboxableAs=[Wt],this.addMethod(new T("Double",new x([{identifier:"double-value",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Double-Objekt",!0)),this.addMethod(new T("Double",new x([{identifier:"int-value",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=e[1].value}),!1,!1,"Instanziert ein neues Double-Objekt",!0)),this.addMethod(new T("Double",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){e[0].value=Number.parseFloat(e[1].value)}),!1,!1,"Instanziert ein neues Double-Objekt, indem die übergebene Zeichenkette in einen double-Wert umgewandelt wird.",!0)),this.addMethod(new T("doubleValue",new x([]),Wt,(function(e){return e[0].value}),!1,!1,"Wandelt das Double-Objekt in einen double-Wert um.")),this.addMethod(new T("floatValue",new x([]),Lt,(function(e){return e[0].value}),!1,!1,"Wandelt das Double-Objekt in einen float-Wert um.")),this.addMethod(new T("intValue",new x([]),Bt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Wandelt das Double-Objekt durch Abrunden in einen int-Wert um.")),this.addMethod(new T("compareTo",new x([{identifier:"anotherDouble",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1].value;return t>n?1:t<n?-1:0}),!1,!1,"Ist der Wert größer als der übergebene Wert, so wird +1 zurückgegeben. Ist er kleiner, so wird -1 zurückgegeben. Sind die Werte gleich, so wird 0 zurückgegeben.")),this.addMethod(new T("equals",new x([{identifier:"anotherDouble",type:this,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann true zurück, wenn der Wert gleich dem übergebenen Wert ist.")),this.addMethod(new T("toString",new x([]),$t,(function(e){return""+e[0].value}),!1,!1,"Gibt den Wert des Objekts als String-Wert zurück.")),this.addMethod(new T("hashCode",new x([]),Bt,(function(e){return Math.trunc(e[0].value)}),!1,!1,"Gibt den hashCode des Objekts zurück.")),this.addMethod(new T("parseDouble",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Wandelt die Zeichenkette in einen double-Wert um")),this.addMethod(new T("toString",new x([{identifier:"f",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return""+e[1].value}),!1,!0,"Gibt die übergebene Zahl als String-Wert zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"f",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return e[1].value}),!1,!0,"Gibt die übergebene Zahl als Double-Objekt zurück.")),this.addMethod(new T("valueOf",new x([{identifier:"s",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),this,(function(e){return Number.parseFloat(e[1].value)}),!1,!0,"Interpretiert die übergebene Zeichenkette als Dezimalzahl und gib sie als Double-Objekt zurück.")),this.addMethod(new T("isNaN",new x([{identifier:"f",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return Number.isNaN(e[1].value)}),!1,!0,"Gibt genau dann true zurück, falls die übergebene double-Zahl NaN (not a Number) ist.")),this.addMethod(new T("isNaN",new x([]),Gt,(function(e){return Number.isNaN(e[0].value)}),!1,!1,"Gibt genau dann true zurück, falls das Objekt NaN (not a Number) ist.")),this.addMethod(new T("isInfinite",new x([{identifier:"f",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return e[1].value==1/0}),!1,!0,"Gibt genau dann true zurück, falls die übergebene double-Zahl INFINTITY ist.")),this.addMethod(new T("isInfinite",new x([]),Gt,(function(e){return e[0].value==1/0}),!1,!1,"Gibt genau dann true zurück, falls das Objekt INFINITY ist."))}},{key:"debugOutput",value:function(e){return""+e.value}}])&&rt(t.prototype,n),i&&rt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(J);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vt(){return(vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=mt(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function mt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mt(e)););return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kt(e,t,n){return t&&wt(e.prototype,t),n&&wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Mt(e);if(t){var r=Mt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot=function(e){St(n,e);var t=jt(n);function n(){var e;return bt(this,n),(e=t.call(this)).identifier="null",e}return kt(n,[{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return e instanceof J||e instanceof te}},{key:"castTo",value:function(e,t){return e}},{key:"equals",value:function(e){return e instanceof J||e instanceof te}},{key:"debugOutput",value:function(e){return"null"}}]),n}(S),Ct=function(e){St(n,e);var t=jt(n);function n(){var e;return bt(this,n),(e=t.call(this)).identifier="var",e}return kt(n,[{key:"getResultType",value:function(e,t){return null}},{key:"compute",value:function(e,t,n){return null}},{key:"canCastTo",value:function(e){return e instanceof J||e instanceof te}},{key:"castTo",value:function(e,t){return e}},{key:"equals",value:function(e){return e instanceof J||e instanceof te}},{key:"debugOutput",value:function(e){return"var"}}]),n}(S),At=function(e){St(n,e);var t=jt(n);function n(){return bt(this,n),t.apply(this,arguments)}return kt(n,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="int",this.description="ganze Zahl",this.operationTable=(gt(e={},r.plus,{int:Bt,Integer:Bt,float:Lt,Float:Lt,double:Wt,Double:Wt,String:$t}),gt(e,r.minus,{none:Bt,int:Bt,Integer:Bt,float:Lt,Float:Lt,double:Wt,Double:Wt}),gt(e,r.multiplication,{int:Bt,Integer:Bt,float:Lt,Float:Lt,double:Wt,Double:Wt}),gt(e,r.modulo,{int:Bt,Integer:Bt}),gt(e,r.division,{int:Bt,Integer:Bt,float:Lt,Float:Lt,double:Wt,Double:Wt}),gt(e,r.doublePlus,{none:Bt}),gt(e,r.doubleMinus,{none:Bt}),gt(e,r.negation,{none:Bt}),gt(e,r.tilde,{none:Bt}),gt(e,r.lower,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.greater,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.lowerOrEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.greaterOrEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.equal,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.notEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.OR,{int:Bt,Integer:Bt}),gt(e,r.XOR,{int:Bt,Integer:Bt}),gt(e,r.ampersand,{int:Bt,Integer:Bt}),gt(e,r.shiftLeft,{int:Bt,Integer:Bt}),gt(e,r.shiftRight,{int:Bt,Integer:Bt}),gt(e,r.shiftRightUnsigned,{int:Bt,Integer:Bt}),e),this.canCastToMap={float:{automatic:!0,needsStatement:!1},double:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},char:{automatic:!0,needsStatement:!0},int:{automatic:!0,needsStatement:!1},Integer:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.integerConstant}},{key:"castTo",value:function(e,t){return t==Lt||t==Wt?{type:t,value:e.value}:t==$t?{type:t,value:""+e.value}:t==Ht?{type:t,value:String.fromCharCode(e.value)}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return n.type,i+n.value;case r.minus:return null==n?-i:i-n.value;case r.multiplication:return i*n.value;case r.division:return n.type==Bt?Math.trunc(i/n.value):i/n.value;case r.modulo:return n.type==Bt?Math.trunc(i%n.value):1;case r.doublePlus:return i++;case r.doubleMinus:return i--;case r.negation:return-i;case r.tilde:return~i;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value;case r.OR:return i|n.value;case r.XOR:return i^n.value;case r.ampersand:return i&n.value;case r.shiftLeft:return i<<n.value;case r.shiftRight:return i>>n.value;case r.shiftRightUnsigned:return i>>>n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),n}(P),Et=function(e){St(n,e);var t=jt(n);function n(){return bt(this,n),t.apply(this,arguments)}return kt(n,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="float",this.description="Fließkommazahl mit einfacher Genauigkeit",this.operationTable=(gt(e={},r.plus,{Integer:Lt,int:Lt,float:Lt,Float:Lt,double:Wt,Double:Wt,String:$t}),gt(e,r.minus,{none:Lt,Integer:Lt,int:Lt,float:Lt,Float:Lt,double:Wt,Double:Wt}),gt(e,r.multiplication,{Integer:Lt,int:Lt,float:Lt,Float:Lt,double:Wt,Double:Wt}),gt(e,r.division,{Integer:Lt,int:Lt,float:Lt,Float:Lt,double:Wt,Double:Wt}),gt(e,r.doublePlus,{none:Lt}),gt(e,r.doubleMinus,{none:Lt}),gt(e,r.negation,{none:Lt}),gt(e,r.lower,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.greater,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.lowerOrEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.greaterOrEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.equal,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.notEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),e),this.canCastToMap={int:{automatic:!1,needsStatement:!0},double:{automatic:!0,needsStatement:!1},float:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},Float:{automatic:!0,needsStatement:!1},Double:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.floatingPointConstant}},{key:"castTo",value:function(e,t){return t==$t?{type:t,value:""+e.value}:t==Bt?{type:t,value:Math.trunc(e.value)}:t==Wt?{type:t,value:e.value}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return n.type,i+n.value;case r.minus:return null==n?-i:i-n.value;case r.multiplication:return i*n.value;case r.division:return i/n.value;case r.doublePlus:return i++;case r.doubleMinus:return i--;case r.negation:return-i;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),n}(P),Dt=function(e){St(n,e);var t=jt(n);function n(){return bt(this,n),t.apply(this,arguments)}return kt(n,[{key:"init",value:function(){var e;this.initialValue=0,this.identifier="double",this.description="Fließkommazahl mit doppelter Genauigkeit",this.operationTable=(gt(e={},r.plus,{int:Wt,Integer:Wt,float:Wt,Float:Wt,double:Wt,Double:Wt,String:$t}),gt(e,r.minus,{none:Wt,int:Wt,Integer:Wt,float:Wt,Float:Wt,double:Wt,Double:Wt}),gt(e,r.multiplication,{int:Wt,Integer:Wt,float:Wt,Float:Wt,double:Wt,Double:Wt}),gt(e,r.division,{int:Wt,Integer:Wt,float:Wt,Float:Wt,double:Wt,Double:Wt}),gt(e,r.doublePlus,{none:Wt}),gt(e,r.doubleMinus,{none:Wt}),gt(e,r.negation,{none:Wt}),gt(e,r.lower,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.greater,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.lowerOrEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.greaterOrEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.equal,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),gt(e,r.notEqual,{int:Gt,float:Gt,double:Gt,Integer:Gt,Float:Gt,Double:Gt}),e),this.canCastToMap={int:{automatic:!1,needsStatement:!0},float:{automatic:!0,needsStatement:!1},double:{automatic:!0,needsStatement:!1},String:{automatic:!0,needsStatement:!0},Float:{automatic:!0,needsStatement:!1},Double:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.floatingPointConstant}},{key:"castTo",value:function(e,t){return t==$t?{type:t,value:""+e.value}:t==Bt?{type:t,value:Math.trunc(e.value)}:t==Lt?{type:t,value:e.value}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return n.type,i+n.value;case r.minus:return null==n?-i:i-n.value;case r.multiplication:return i*n.value;case r.division:return i/n.value;case r.doublePlus:return i++;case r.doubleMinus:return i--;case r.negation:return-i;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return""+e.value}}]),n}(P),It=function(e){St(n,e);var t=jt(n);function n(){return bt(this,n),t.apply(this,arguments)}return kt(n,[{key:"init",value:function(){var e;this.initialValue=!1,this.identifier="boolean",this.description="boolescher Wert (true oder false)",this.operationTable=(gt(e={},r.plus,{String:$t}),gt(e,r.and,{boolean:Gt}),gt(e,r.or,{boolean:Gt}),gt(e,r.not,{none:Gt}),gt(e,r.equal,{boolean:Gt}),gt(e,r.notEqual,{boolean:Gt}),e),this.canCastToMap={String:{automatic:!0,needsStatement:!0},boolean:{automatic:!0,needsStatement:!1},Boolean:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.booleanConstant}},{key:"castTo",value:function(e,t){if(t==$t)return{type:t,value:""+e.value}}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return i+n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value;case r.and:return i&&n.value;case r.or:return i||n.value;case r.not:return!i}}},{key:"debugOutput",value:function(e){return""+e.value}}]),n}(P),Ft=function(e){St(n,e);var t=jt(n);function n(){return bt(this,n),t.apply(this,arguments)}return kt(n,[{key:"init",value:function(){this.initialValue=!1,this.identifier="void",this.description="leerer Rückgabewert",this.operationTable={},this.canCastToMap={}}},{key:"toTokenType",value:function(){return r.keywordVoid}},{key:"castTo",value:function(e,t){return e}},{key:"compute",value:function(e,t,n){return null}},{key:"debugOutput",value:function(e){return"void"}}]),n}(P),_t=function(e){St(n,e);var t=jt(n);function n(e){var i;bt(this,n),(i=t.call(this,"String",null,"Ein Objekt der Klasse String speichert eine Zeichenkette.")).baseClass=e;var r=xt(i);return e.methods.filter((function(e){return"toString"==e.identifier})).forEach((function(e){return e.returnType=r})),i}return kt(n,[{key:"toTokenType",value:function(){return r.stringConstant}},{key:"getResultType",value:function(e,t){if(e==r.keywordInstanceof)return vt(Mt(n.prototype),"getResultType",this).call(this,e,t);var i=this.operationTable[e];return null==i?null:null!=t?i[t.identifier]:i.none}},{key:"init",value:function(){var e;this.operationTable=(gt(e={},r.plus,{String:$t,int:$t,float:$t,double:Wt,boolean:$t,char:$t}),gt(e,r.equal,{String:Gt,null:Gt}),gt(e,r.notEqual,{String:Gt,null:Gt}),gt(e,r.lower,{String:Gt}),gt(e,r.greater,{String:Gt}),gt(e,r.lowerOrEqual,{String:Gt}),gt(e,r.greaterOrEqual,{String:Gt}),e),this.addMethod(new T("length",new x([]),Bt,(function(e){return e[0].value.length}),!1,!1,"Länge der Zeichenkette, d.h. Anzahl der Zeichen in der Zeichenkette.")),this.addMethod(new T("charAt",new x([{identifier:"Position",type:Bt,declaration:null,usagePositions:null,isFinal:!1}]),Ht,(function(e){return e[0].value.charAt(e[1].value)}),!1,!1,"Zeichen an der gegebenen Position.\n**Bem.: ** Position == 0 bedeutet das erste Zeichen in der Zeichenkette, Position == 1 das zweite usw. .")),this.addMethod(new T("equals",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Gt,(function(e){return e[0].value==e[1].value}),!1,!1,"Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (unter Berücksichtigung von Klein-/Großschreibung).")),this.addMethod(new T("compareTo",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Bt,(function(e){return e[0].value.localeCompare(e[1].value,"de",{caseFirst:"upper"})}),!1,!1,"Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind.")),this.addMethod(new T("compareToIgnoreCase",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Bt,(function(e){return e[0].value.localeCompare(e[1].value,"de",{sensitivity:"accent"})}),!1,!1,"Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind.")),this.addMethod(new T("equalsIgnoreCase",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Gt,(function(e){return e[0].value.toLowerCase()==e[1].value.toLowerCase()}),!1,!1,"Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (**ohne** Berücksichtigung von Klein-/Großschreibung).")),this.addMethod(new T("endsWith",new x([{identifier:"suffix",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Gt,(function(e){return e[0].value.endsWith(e[1].value)}),!1,!1,"Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = suffix) endet. Klein-/Großschreibung wird dabei berücksichtigt!")),this.addMethod(new T("startsWith",new x([{identifier:"präfix",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Gt,(function(e){return e[0].value.startsWith(e[1].value)}),!1,!1,"Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = präfix) beginnt. Klein-/Großschreibung wird dabei berücksichtigt!")),this.addMethod(new T("toLowerCase",new x([]),$t,(function(e){return e[0].value.toLocaleLowerCase()}),!1,!1,"Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Großbuchstaben durch den entsprechenden Kleinbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht.")),this.addMethod(new T("toUpperCase",new x([]),$t,(function(e){return e[0].value.toLocaleUpperCase()}),!1,!1,"Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Kleinbuchstaben durch den entsprechenden Großbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht.")),this.addMethod(new T("substring",new x([{identifier:"beginIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!1}]),$t,(function(e){return e[0].value.substring(e[1].value)}),!1,!1,"Gibt das hintere Ende der Zeichenkette ab **beginIndex** zurück. **beginIndex** == 1 bedeutet, dass die Zeichenkette ab dem 2.(!) Zeichen zurückgegeben wird. ")),this.addMethod(new T("substring",new x([{identifier:"beginIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!1},{identifier:"endIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!1}]),$t,(function(e){return e[0].value.substring(e[1].value,e[2].value)}),!1,!1,"Gibt die Teil-Zeichenkette von **beginIndex** bis **endIndex** zurück.\n**Vorsicht: ** beginIndex und endIndex sind nullbasiert, d.h. beginIndex == 0 bedeutet die Position vor dem ersten Zeichen.")),this.addMethod(new T("trim",new x([]),$t,(function(e){return e[0].value.trim()}),!1,!1,"Gibt die Zeichenkette zurück, die entsteht, wenn man am Anfang und Ende der Zeichenkette alle Leerzeichen, Tabs und Zeilenumbrüche entfernt.")),this.addMethod(new T("isEmpty",new x([]),Gt,(function(e){return""==e[0].value}),!1,!1,"Gibt genau dann wahr zurück, wenn die Zeichenkette leer ist.\n**Warnung: ** Die Methode darf nicht mit dem '''null'''-Objekt aufgerufen werden!")),this.addMethod(new T("indexOf",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Bt,(function(e){return e[0].value.indexOf(e[1].value)}),!1,!1,"Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird.")),this.addMethod(new T("indexOf",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1},{identifier:"fromIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!1}]),Bt,(function(e){return e[0].value.indexOf(e[1].value,e[2].value)}),!1,!1,"Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex mit der Suche begonnen.")),this.addMethod(new T("lastIndexOf",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),Bt,(function(e){return e[0].value.lastIndexOf(e[1].value)}),!1,!1,"Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird.")),this.addMethod(new T("lastIndexOf",new x([{identifier:"otherString",type:$t,declaration:null,usagePositions:null,isFinal:!1},{identifier:"fromIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!1}]),Bt,(function(e){return e[0].value.lastIndexOf(e[1].value,e[2].value)}),!1,!1,"Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex - von rechts her beginnend - gesucht.")),this.addMethod(new T("replace",new x([{identifier:"target",type:$t,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),$t,(function(e){return e[0].value.replace(e[1].value,e[2].value)}),!1,!1,"Ersetzt alle Vorkommen von **target** durch **replacement** und gibt die entstandene Zeichenkette zurück. Die Zeichenkette selbst wird nicht verändert.")),this.addMethod(new T("replaceAll",new x([{identifier:"regex",type:$t,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),$t,(function(e){var t=e[1].value,n=new RegExp(t,"g");return e[0].value.replace(n,e[2].value)}),!1,!1,"Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **alle** Fundstellen durch **replacement**.")),this.addMethod(new T("replaceFirst",new x([{identifier:"regex",type:$t,declaration:null,usagePositions:null,isFinal:!1},{identifier:"replacement",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),$t,(function(e){var t=e[1].value,n=new RegExp(t,"");return e[0].value.replace(n,e[2].value)}),!1,!1,"Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **die erste** Fundstelle durch **replacement**.")),this.addMethod(new T("split",new x([{identifier:"regex",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),new fe($t),(function(e){var t,n=e[1].value,i=new RegExp(n,""),r=[],o=pt(e[0].value.split(i));try{for(o.s();!(t=o.n()).done;){var a=t.value;r.push({type:$t,value:a})}}catch(e){o.e(e)}finally{o.f()}return r}),!1,!1,"Teilt die Zeichenkette an den Stellen, die durch den regulären Ausdruck (regex) definiert sind, in Teile auf. Die Fundstellen des regex werden dabei weggelassen. Gibt die Teile als String-Array zurück."))}},{key:"compute",value:function(e,t,i){var o=t.value;switch(e){case r.plus:return i.type==$t||i.type==Ht||i.type,o+i.value;case r.lower:return o.localeCompare(i.value,"de",{caseFirst:"upper"})<0;case r.greater:return o.localeCompare(i.value,"de",{caseFirst:"upper"})>0;case r.lowerOrEqual:return o.localeCompare(i.value,"de",{caseFirst:"upper"})<=0;case r.greaterOrEqual:return o.localeCompare(i.value,"de",{caseFirst:"upper"})>=0;case r.equal:return o==i.value;case r.notEqual:return o!=i.value;case r.keywordInstanceof:return vt(Mt(n.prototype),"compute",this).call(this,e,t,i)}}},{key:"debugOutput",value:function(e){return'"'+e.value+'"'}}]),n}(J),zt=function(e){St(n,e);var t=jt(n);function n(){return bt(this,n),t.apply(this,arguments)}return kt(n,[{key:"init",value:function(){var e;this.initialValue="\0",this.identifier="char",this.description="ein Zeichen",this.operationTable=(gt(e={},r.plus,{String:$t,char:$t}),gt(e,r.equal,{char:Gt}),gt(e,r.notEqual,{char:Gt}),gt(e,r.lower,{char:Gt}),gt(e,r.greater,{char:Gt}),gt(e,r.lowerOrEqual,{char:Gt}),gt(e,r.greaterOrEqual,{char:Gt}),e),this.canCastToMap={int:{automatic:!0,needsStatement:!0},float:{automatic:!0,needsStatement:!0},double:{automatic:!0,needsStatement:!0},String:{automatic:!0,needsStatement:!1},char:{automatic:!0,needsStatement:!1},Character:{automatic:!0,needsStatement:!1}}}},{key:"toTokenType",value:function(){return r.charConstant}},{key:"castTo",value:function(e,t){return t==$t?e:t==Bt||t==Lt||t==Wt?{type:t,value:e.value.charCodeAt(0)}:void 0}},{key:"compute",value:function(e,t,n){var i=t.value;switch(e){case r.plus:return i+n.value;case r.lower:return i<n.value;case r.greater:return i>n.value;case r.lowerOrEqual:return i<=n.value;case r.greaterOrEqual:return i>=n.value;case r.equal:return i==n.value;case r.notEqual:return i!=n.value}}},{key:"debugOutput",value:function(e){return"'"+e.value+"'"}}]),n}(P),Rt=new Ft,Bt=new At,Lt=new Et,Wt=new Dt,Gt=new It;z=Gt;var Nt=new be(null),$t=new _t(Nt),Ht=new zt,Vt=new Ot,Kt=new Ct,Qt=new Oe(Nt),Ut=new Re(Nt),Zt=new ft(Nt),Xt=new Ke(Nt),qt=new nt(Nt),Yt=(gt(dt={},r.integerConstant,Bt),gt(dt,r.floatingPointConstant,Lt),gt(dt,r.booleanConstant,Gt),gt(dt,r.stringConstant,$t),gt(dt,r.charConstant,Ht),gt(dt,r.keywordNull,Vt),dt);function Jt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var en=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hexColorRegExp=/^#([a-fA-F0-9]{6})$/,this.rgbColorRegExp=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,this.rgbaColorRegExp=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/}var t,n,i;return t=e,(n=[{key:"getColorInfo",value:function(e){if(e.startsWith("#")){var t=e.match(this.hexColorRegExp);if(null==t)return null;var n=Number.parseInt(t[1],16);return{red:(n>>16)/255,green:(n>>8&255)/255,blue:(255&n)/255,alpha:1}}if(e.startsWith("rgb")){if(e.startsWith("rgba")){var i=e.match(this.rgbaColorRegExp);return null==i?null:{red:Number.parseInt(i[1])/255,green:Number.parseInt(i[2])/255,blue:Number.parseInt(i[3])/255,alpha:Number.parseFloat(i[4])}}var r=e.match(this.rgbColorRegExp);return null==r?null:{red:Number.parseInt(r[1])/255,green:Number.parseInt(r[2])/255,blue:Number.parseInt(r[3])/255,alpha:1}}return null}}])&&Jt(t.prototype,n),i&&Jt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nn,rn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"intColorToHexRGB",value:function(e){if(null==e)return"---";for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t}},{key:"intColorToRGB",value:function(e){return null==e?"---":"rgb("+((16711680&e)>>16)+", "+((65280&e)>>8)+", "+(255&e)+")"}},{key:"parseColorToOpenGL",value:function(e){if(null==e)return{color:null,alpha:1};var t=this.predefinedColors[e];if(null!=t)return{color:t,alpha:1};var n=e.match(/^#([0-9a-f]{6})$/i);if(n&&n.length>1){var i=n[1];if(i)return{color:65536*parseInt(i.substr(0,2),16)+256*parseInt(i.substr(2,2),16)+parseInt(i.substr(4,2),16),alpha:1}}var r=e.match(/^#([0-9a-f]{8})$/i);if(r&&r.length>1){var o=r[1];if(o)return{color:65536*parseInt(o.substr(0,2),16)+256*parseInt(o.substr(2,2),16)+parseInt(o.substr(4,2),16),alpha:parseInt(o.substr(6,2),16)/255}}var a=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);return a?{color:65536*parseInt(a[1])+256*parseInt(a[2])+parseInt(a[3]),alpha:1}:(a=e.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+\.?\d+)\s*\)$/i))?{color:65536*parseInt(a[1])+256*parseInt(a[2])+parseInt(a[3]),alpha:parseFloat(a[4])}:{color:16711680,alpha:1}}}],(n=null)&&tn(t.prototype,n),i&&tn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function on(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function sn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}rn.predefinedColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedAlmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grau:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldLace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,sand:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},function(e){e[e.number=0]="number",e[e.identifier=1]="identifier",e[e.stringConstant=2]="stringConstant",e[e.characterConstant=3]="characterConstant",e[e.multilineComment=4]="multilineComment",e[e.EndoflineComment=5]="EndoflineComment"}(nn||(nn={}));var ln=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colorLexer=new en,this.spaceTokens=[r.space,r.tab,r.newline],this.correspondingBracket={},this.correspondingBracket[r.leftBracket]=r.rightBracket,this.correspondingBracket[r.leftCurlyBracket]=r.rightCurlyBracket,this.correspondingBracket[r.leftSquareBracket]=r.rightSquareBracket,this.correspondingBracket[r.rightBracket]=r.leftBracket,this.correspondingBracket[r.rightCurlyBracket]=r.leftCurlyBracket,this.correspondingBracket[r.rightSquareBracket]=r.leftSquareBracket}var t,n,i;return t=e,(n=[{key:"lex",value:function(e){if(this.input=e.replace("슠"," "),this.input=e.replace(" "," "),this.tokenList=[],this.errorList=[],this.bracketError=null,this.bracketStack=[],this.pos=0,this.line=1,this.column=1,this.nonSpaceLastTokenType=null,this.colorInformation=[],this.colorIndices=[],0==e.length)return{tokens:this.tokenList,errors:this.errorList,bracketError:null,colorInformation:[]};for(this.currentChar=e.charAt(0),this.nextChar=e.length>1?e.charAt(1):"►";"►"!=this.currentChar;)this.mainState();if(this.bracketStack.length>0){var t=this.bracketStack.pop(),n=this.correspondingBracket[t];this.setBracketError(a[t]+" "+a[n])}return this.processColorIndices(),{tokens:this.tokenList,errors:this.errorList,bracketError:this.bracketError,colorInformation:this.colorInformation}}},{key:"processColorIndices",value:function(){var e,t=on(this.colorIndices);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=this.tokenList[n],o=this.getLastNonSpaceToken(n);if((null==o?void 0:o.tt)==r.keywordNew){var a=this.getNextNonSpaceTokens(n,7);this.compareTokenTypes(a,[r.leftBracket,r.integerConstant,r.comma,r.integerConstant,r.comma,r.integerConstant,r.rightBracket])&&this.colorInformation.push({color:{red:a[1].value/255,green:a[3].value/255,blue:a[5].value/255,alpha:1},range:{startLineNumber:o.position.line,startColumn:o.position.column,endLineNumber:a[6].position.line,endColumn:a[6].position.column+1}})}else{var s=this.getNextNonSpaceTokens(n,2);if(this.compareTokenTypes(s,[r.dot,r.identifier])){var l=s[1].value,u=rn.predefinedColors[l];null!=u&&this.colorInformation.push({color:{red:(u>>16)/255,green:(u>>8&255)/255,blue:(255&u)/255,alpha:1},range:{startLineNumber:i.position.line,startColumn:i.position.column,endLineNumber:s[1].position.line,endColumn:s[1].position.column+l.length}})}}}}catch(e){t.e(e)}finally{t.f()}}},{key:"compareTokenTypes",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].tt!=t[n])return!1;return!0}},{key:"getNextNonSpaceTokens",value:function(e,t){for(var n=[],i=e;n.length<t&&i+1<this.tokenList.length;){var o=this.tokenList[i+1];[r.space,r.newline].indexOf(o.tt)<0&&n.push(o),i++}return n}},{key:"getLastNonSpaceToken",value:function(e){for(var t=e;t-1>0;){var n=this.tokenList[t-1];if([r.space,r.newline].indexOf(n.tt)<0)return n;t--}return null}},{key:"checkClosingBracket",value:function(e){if(0!=this.bracketStack.length){var t=this.bracketStack.pop(),n=this.correspondingBracket[t];e!=n&&this.setBracketError(a[t]+" "+a[n])}else{var i=this.correspondingBracket[e];this.setBracketError(a[i]+" "+a[e])}}},{key:"setBracketError",value:function(e){null==this.bracketError&&(this.bracketError=e)}},{key:"next",value:function(){this.pos++,this.currentChar=this.nextChar,this.pos+1<this.input.length?this.nextChar=this.input.charAt(this.pos+1):this.nextChar="►",this.column++}},{key:"mainState",value:function(){var e=this.currentChar,t=s[e];if(null!=t){switch(t){case r.leftSquareBracket:return"]"==this.nextChar?(this.pushToken(r.leftRightSquareBracket,"[]"),this.next(),void this.next()):(this.pushToken(r.leftSquareBracket,"["),this.bracketStack.push(t),void this.next());case r.rightSquareBracket:this.checkClosingBracket(t);break;case r.leftBracket:this.bracketStack.push(t);break;case r.rightBracket:this.checkClosingBracket(t);break;case r.leftCurlyBracket:this.bracketStack.push(t);break;case r.rightCurlyBracket:this.checkClosingBracket(t);break;case r.and:return"&"==this.nextChar?(this.pushToken(r.and,"&&"),this.next(),void this.next()):"="==this.nextChar?(this.pushToken(r.ANDAssigment,"&="),this.next(),void this.next()):(this.pushToken(r.ampersand,"&"),void this.next());case r.or:return"|"==this.nextChar?(this.pushToken(r.or,"||"),this.next(),void this.next()):"="==this.nextChar?(this.pushToken(r.ORAssigment,"&="),this.next(),void this.next()):(this.pushToken(r.OR,"|"),void this.next());case r.XOR:return"="==this.nextChar?(this.pushToken(r.XORAssigment,"^="),this.next(),void this.next()):(this.pushToken(r.XOR,"^"),void this.next());case r.multiplication:return"="==this.nextChar?(this.pushToken(r.multiplicationAssignment,"*="),this.next(),void this.next()):(this.pushToken(r.multiplication,"*"),void this.next());case r.not:return"="==this.nextChar?(this.pushToken(r.notEqual,"!="),this.next(),void this.next()):(this.pushToken(r.not,"!"),void this.next());case r.division:return"="==this.nextChar?(this.pushToken(r.divisionAssignment,"/="),this.next(),void this.next()):"*"==this.nextChar?void this.lexMultilineComment():"/"==this.nextChar?void this.lexEndofLineComment():(this.pushToken(r.division,"/"),void this.next());case r.modulo:return"="==this.nextChar?(this.pushToken(r.moduloAssignment,"%="),this.next(),void this.next()):(this.pushToken(r.modulo,"/"),void this.next());case r.plus:return"+"==this.nextChar?(this.pushToken(r.doublePlus,"++"),this.next(),void this.next()):!this.isDigit(this.nextChar,10)||[r.identifier,r.integerConstant,r.floatingPointConstant,r.rightBracket,r.rightSquareBracket].indexOf(this.nonSpaceLastTokenType)>=0?"="==this.nextChar?(this.pushToken(r.plusAssignment,"+="),this.next(),void this.next()):(this.pushToken(r.plus,"+"),void this.next()):void this.lexNumber();case r.lower:return"="==this.nextChar?(this.pushToken(r.lowerOrEqual,"<="),this.next(),void this.next()):"<"==this.nextChar?void this.lexShiftLeft():(this.pushToken(r.lower,"<"),void this.next());case r.greater:return"="==this.nextChar?(this.pushToken(r.greaterOrEqual,">="),this.next(),void this.next()):">"==this.nextChar?void this.lexShiftRight():(this.pushToken(r.greater,">"),void this.next());case r.dot:return"."==this.nextChar&&this.pos+2<this.input.length&&"."==this.input[this.pos+2]?(this.pushToken(r.ellipsis,"..."),this.next(),this.next(),void this.next()):(this.pushToken(r.dot,"."),void this.next());case r.assignment:return"="==this.nextChar?(this.pushToken(r.equal,"=="),this.next(),void this.next()):(this.pushToken(r.assignment,"="),void this.next());case r.minus:return"-"==this.nextChar?(this.pushToken(r.doubleMinus,"--"),this.next(),void this.next()):!this.isDigit(this.nextChar,10)||[r.identifier,r.integerConstant,r.floatingPointConstant,r.stringConstant,r.rightBracket,r.rightSquareBracket].indexOf(this.nonSpaceLastTokenType)>=0?"="==this.nextChar?(this.pushToken(r.minusAssignment,"-="),this.next(),void this.next()):(this.pushToken(r.minus,"-"),void this.next()):void this.lexNumber();case r.singleQuote:return void this.lexCharacterConstant();case r.doubleQuote:return void('"'==this.nextChar&&this.pos+3<this.input.length&&'"'==this.input[this.pos+2]?this.lexTripleQuoteStringConstant():this.lexStringConstant());case r.newline:return this.pushToken(r.newline,"\n"),this.line++,this.column=0,void this.next();case r.space:case r.tab:return void this.lexSpace();case r.linefeed:return void this.next();case r.at:return void this.lexAnnotation()}return this.pushToken(t,e),void this.next()}this.isDigit(e,10)?this.lexNumber():this.lexIdentifierOrKeyword()}},{key:"lexShiftRight",value:function(){this.next(),">"==this.nextChar?this.lexShiftRightUnsigned():"="==this.nextChar?(this.pushToken(r.shiftRightAssigment,">>="),this.next(),this.next()):(this.pushToken(r.shiftRight,">>"),this.next())}},{key:"lexShiftRightUnsigned",value:function(){this.next(),"="==this.nextChar?(this.pushToken(r.shiftRightUnsignedAssigment,">>>="),this.next(),this.next()):(this.pushToken(r.shiftRightUnsigned,">>>"),this.next())}},{key:"lexShiftLeft",value:function(){this.next(),"="==this.nextChar?(this.pushToken(r.shiftLeftAssigment,"<<="),this.next(),this.next()):(this.pushToken(r.shiftLeft,"<<"),this.next())}},{key:"pushToken",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.line,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.column,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(""+t).length,o={tt:e,value:t,position:{column:i,line:n,length:r}};this.spaceTokens.indexOf(e)>=0||(this.nonSpaceLastTokenType=e),this.tokenList.push(o)}},{key:"pushError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.line,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.column;this.errorList.push({text:e,position:{line:i,column:r,length:t},level:n})}},{key:"isDigit",value:function(e,t){var n=e.charCodeAt(0);return 10==t?n>=48&&n<=57:2==t?n>=48&&n<=49:8==t?n>=48&&n<=55:16==t?n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70:void 0}},{key:"lexSpace",value:function(){for(var e=this.column,t=this.line,n=this.pos;" "==this.currentChar||"\t"==this.currentChar;)this.next();var i=this.pos;this.pushToken(r.space,this.input.substring(n,i),t,e)}},{key:"lexCharacterConstant",value:function(){var e=this.column,t=this.line;this.next();var n=this.currentChar;if("\\"==n){var i=u[this.nextChar];null==i?(this.pushError("Die Escape-Sequenz \\"+this.nextChar+" gibt es nicht.",2),"'"!=this.nextChar&&(n=this.nextChar,this.next())):(n=i,this.next())}this.next(),"'"!=this.currentChar?this.pushError("Das Ende der char-Konstante wird erwartet (').",1):this.next(),this.pushToken(r.charConstant,n,t,e)}},{key:"lexStringConstant",value:function(){var e=this.line,t=this.column,n="";for(this.next();;){var i=this.currentChar;if("\\"!=i){if('"'==i){this.next();break}if("\n"==i||"►"==i){this.pushError("Innerhalb einer String-Konstante wurde das Zeilenende erreicht.",n.length+1,"error",e,t);break}n+=i,this.next()}else n+=i=this.parseStringLiteralEscapeCharacter()}this.pushToken(r.stringConstant,n,e,t,n.length+2);var o=this.colorLexer.getColorInfo(n);null!=o&&this.colorInformation.push({color:o,range:{startLineNumber:e,endLineNumber:e,startColumn:t+1,endColumn:this.column-1}})}},{key:"lexTripleQuoteStringConstant",value:function(){var e=this.line,t=this.column,n=[];this.next(),this.next(),this.next();for(var i="";["\n","\r"].indexOf(this.currentChar)<0&&"►"!=this.currentChar;)i+=this.currentChar,this.next();(i=i.trim()).length>0&&!i.startsWith("//")&&!i.startsWith("/*")&&this.pushError('Eine Java-Multiline-Stringkonstante beginnt immer mit """ und einem nachfolgenden Zeilenumbruch. Alle nach """ folgenden Zeichen werden überlesen!',i.length+3),"\r"==this.currentChar&&this.next(),"\n"==this.currentChar&&(this.next(),this.line++,this.column=1);for(var o="";;){var a=this.currentChar;if("\\"==a)o+=this.parseStringLiteralEscapeCharacter();else{if('"'==a&&'"'==this.nextChar&&this.pos+2<this.input.length&&'"'==this.input[this.pos+2]){this.next(),this.next(),this.next(),n.push(o);break}if("►"==a){var s,l=0,u=on(n);try{for(u.s();!(s=u.n()).done;)l+=s.value.length}catch(e){u.e(e)}finally{u.f()}this.pushError("Innerhalb einer String-Konstante wurde das Textende erreicht.",l,"error",e,t),n.push(o);break}if("\r"==a)this.next();else{if("\n"==a){n.push(o),o="",this.line++,this.column=1,this.next();continue}o+=a}}this.next()}if(0!=n.length){for(var c=n.pop(),d=0;c.length>d&&" "==c.charAt(d);)d++;var f;f=n.map((function(e){return e.substring(d)})).join("\n"),this.pushToken(r.stringConstant,f,this.line,this.column,f.length+2)}}},{key:"parseStringLiteralEscapeCharacter",value:function(){if(this.next(),"u"==this.currentChar){var e="";for(this.next();"abcdef0123456789".indexOf(this.currentChar)>=0&&e.length<4;)e+=this.currentChar,this.next();return e.length<4?(this.pushError("Die Escape-Sequenz \\u"+e+" gibt es nicht.",1+e.length),""):String.fromCodePoint(parseInt(e,16))}if(null!=u[this.currentChar]){var t=u[this.currentChar];return this.next(),t}return this.pushError("Die Escape-Sequenz \\"+this.currentChar+" gibt es nicht.",2),this.next(),""}},{key:"lexMultilineComment",value:function(){var e=this.line,t=this.column,n=!1,i="/*";for(this.next(),this.next();;){var o=this.currentChar;if("*"==o&&"/"==this.nextChar){this.next(),this.next(),i+="*/";break}if("►"==o){this.pushError("Innerhalb eines Mehrzeilenkommentars (/*... */) wurde das Dateiende erreicht.",1);break}"\n"==o?(this.line++,this.column=0,n=!0,i+=o):n&&" "==o||(i+=o,n=!1),this.next()}this.pushToken(r.comment,i,e,t)}},{key:"lexEndofLineComment",value:function(){var e=this.line,t=this.column,n="//";for(this.next(),this.next();;){var i=this.currentChar;if("\n"==i)break;if("►"==i)break;n+=i,this.next()}this.pushToken(r.comment,n,e,t)}},{key:"lexNumber",value:function(){var e=this.line,t=this.column,n=1;"-"==this.currentChar?(n=-1,this.next()):"+"==this.currentChar&&this.next();var i=this.pos,o=this.currentChar;this.next();var a=10;for("0"==o&&["b","x","0","1","2","3","4","5","6","7"].indexOf(this.currentChar)>=0&&("x"==this.currentChar?(a=16,this.next()):"b"==this.currentChar?(a=2,this.next()):a=8,i=this.pos);this.isDigit(this.currentChar,a);)this.next();var s=r.integerConstant;if("."==this.currentChar){for(s=r.floatingPointConstant,this.next();this.isDigit(this.currentChar,10);)this.next();10!=a&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i))}var l=this.input.substring(i,this.pos);i=this.pos;var u=0;if("e"==this.currentChar){this.next();var c=this.pos;for("-"==this.currentChar&&this.next();this.isDigit(this.currentChar,10);)this.next();10!=a&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i));var d=this.input.substring(c,this.pos);u=Number.parseInt(d)}"d"!=this.currentChar&&"f"!=this.currentChar||(r.floatingPointConstant,this.next(),10!=a&&this.pushError("Eine float/double-Konstante darf nicht mit 0, 0b oder 0x beginnen.",this.pos-i,"error",this.line,this.column-(this.pos-i)));var f=s==r.integerConstant?Number.parseInt(l,a):Number.parseFloat(l);f*=n,0!=u&&(f*=Math.pow(10,u)),this.pushToken(s,f,e,t),16==a&&this.column-t==8&&this.colorInformation.push({color:{red:(f>>16)/255,green:(f>>8&255)/255,blue:(255&f)/255,alpha:1},range:{startLineNumber:e,endLineNumber:e,startColumn:t,endColumn:this.column}})}},{key:"lexAnnotation",value:function(){var e=this.line,t=this.column-1,n=this.pos;this.next();for(var i=this.currentChar;null==s[i]&&!this.isSpace(i)&&"►"!=i;)this.next(),i=this.currentChar;var o=this.pos,a=this.input.substring(n,o);this.pushToken(r.at,a,e,t,a.length+1)}},{key:"lexIdentifierOrKeyword",value:function(){for(var e=this.line,t=this.column,n=this.pos,i=this.currentChar;null==s[i]&&!this.isSpace(i)&&"►"!=i;)this.next(),i=this.currentChar;var o=this.pos,a=this.input.substring(n,o),u=l[a];if(null==u||"number"!=typeof u)"Color"==a&&this.colorIndices.push(this.tokenList.length),this.pushToken(r.identifier,a,e,t);else switch(u){case r.true:this.pushToken(r.booleanConstant,!0,e,t);break;case r.false:this.pushToken(r.booleanConstant,!1,e,t);break;case r.keywordPrint:case r.keywordPrintln:this.nonSpaceLastTokenType==r.dot?this.pushToken(r.identifier,a,e,t):this.pushToken(u,a,e,t);break;default:this.pushToken(u,a,e,t)}}},{key:"isSpace",value:function(e){return" "==e||"\n"==e}}])&&sn(t.prototype,n),i&&sn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function un(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autoFormatTriggerCharacters=["\n"],this.displayName="Java-Autoformat"}var t,n,i;return t=e,(n=[{key:"init",value:function(){monaco.languages.registerDocumentFormattingEditProvider("myJava",this),monaco.languages.registerOnTypeFormattingEditProvider("myJava",this)}},{key:"provideOnTypeFormattingEdits",value:function(e,t,n,i,r){var o=this.format(e);return Promise.resolve(o)}},{key:"deleteOverlappingRanges",value:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];if(!(n.range.endLineNumber<i.range.startLineNumber)&&n.range.endLineNumber==i.range.startLineNumber)if(n.range.endColumn>=i.range.startColumn)e.splice(t+1,1);else if(0==n.range.endColumn&&n.text.length>0&&1==i.range.startColumn&&i.range.endColumn>i.range.startColumn&&""==i.text){var r=n.text.length-(i.range.endColumn-i.range.startColumn);r>0?(n.text=n.text.substr(0,r),e.splice(t+1,1)):r<0?(i.range.endColumn=i.range.startColumn-r,e.splice(t,1),t--):(e.splice(t,2),t--)}}}},{key:"provideDocumentFormattingEdits",value:function(e,t,n){var i=this.format(e);return Promise.resolve(i)}},{key:"format",value:function(e){var t=[],n=e.getValue(monaco.editor.EndOfLinePreference.LF),i=(new ln).lex(n).tokens;if(null==i)return[];for(var o=null,a=0,s=[],l=[],u=!1,c=0,d=0,f=0;f<i.length;f++){var h=i[f];switch(c--,h.tt){case r.keywordSwitch:u=!0;break;case r.keywordCase:case r.keywordDefault:h.position.column>3&&this.deleteSpaces(t,h.position.line,1,3);break;case r.leftCurlyBracket:if(u&&(u=!1,l.push(a+2),a++),a++,s.push(h.position.line),null!=o){var p=o.tt;p!=r.rightBracket&&p!=r.identifier&&p!=r.leftRightSquareBracket||o.position.line==h.position.line&&this.replaceBetween(o,h,t," ")}if(f<i.length-1){var y=i[f+1];y.tt!=r.newline&&y.tt!=r.space&&this.insertSpaces(t,y.position.line,y.position.column,1)}break;case r.rightCurlyBracket:l[l.length-1]==a&&(l.pop(),a--,this.deleteSpaces(t,h.position.line,1,3)),a--;var v=s.pop();if(null!=v&&v!=h.position.line)null!=o&&o.position.line==h.position.line&&this.replace(t,h.position,h.position,"\n"+" ".repeat(3*a));else if(f>0){var m=i[f-1];m.tt!=r.space&&m.tt!=r.newline&&this.insertSpaces(t,h.position.line,h.position.column,1)}break;case r.leftBracket:if(d++,f<i.length-2){var g=i[f+1],b=i[f+2];g.tt==r.space&&b.tt!=r.newline&&(this.deleteSpaces(t,g.position.line,g.position.column,g.position.length),f++,b.tt==r.rightBracket&&(f++,d--))}if(f>1){var w=i[f-1],k=i[f-2];w.tt==r.space&&[r.newline,r.keywordFor].indexOf(k.tt)<0&&!this.isBinaryOperator(k.tt)&&1==w.position.length&&this.deleteSpaces(t,w.position.line,w.position.column,1)}break;case r.rightBracket:if(d--,f>1){var S=i[f-1],P=i[f-2];S.tt==r.space&&P.tt!=r.newline&&this.deleteSpaces(t,S.position.line,S.position.column,S.position.length)}break;case r.newline:if(c=2,f<i.length-2){var j=this.getNextNonSpaceToken(f,i),T=this.isBinaryOperator(null==o?void 0:o.tt)&&(null==o?void 0:o.tt)!=r.colon,x=this.isBinaryOperator(j.tt),M=i[f+1],O=i[f+2],C=0;if(M.tt==r.newline||j.tt==r.comment)break;var A=0;if(M.tt==r.space){if(O.tt==r.newline)break;C=M.position.length,f++,O.tt==r.rightCurlyBracket&&(A=-1)}M.tt==r.rightCurlyBracket&&(A=-1),(x||T)&&(A=1);var E=a+A;d>0&&E++,E<0&&(E=0);var D=3*E;D>C?this.insertSpaces(t,h.position.line+1,0,D-C):D<C&&this.deleteSpaces(t,h.position.line+1,0,C-D)}break;case r.space:f<i.length-1&&i[f+1].tt!=r.comment&&f>0&&i[f-1].tt!=r.newline&&h.position.length>1&&this.deleteSpaces(t,h.position.line,h.position.column,h.position.length-1);break;case r.keywordFor:case r.keywordWhile:if(f<i.length-1){var I=i[f+1];I.tt==r.leftBracket&&this.insertSpaces(t,I.position.line,I.position.column,1)}break;case r.comma:case r.semicolon:if(f>1){var F=i[f-1],_=i[f-2];F.tt==r.newline||_.tt==r.newline||this.isBinaryOperator(_.tt)||F.tt==r.space&&1==F.position.length&&this.deleteSpaces(t,F.position.line,F.position.column,1)}if(f<i.length-1){var z=i[f+1];z.tt!=r.comment&&z.tt!=r.space&&z.tt!=r.newline&&this.insertSpaces(t,z.position.line,z.position.column,1)}break;case r.rightSquareBracket:null!=o&&o.tt==r.leftSquareBracket&&this.replaceBetween(o,h,t,"")}if(this.isBinaryOperator(h.tt)){var R=h.tt==r.lower&&this.lowerBelongsToGenericExpression(f,i),B=h.tt==r.greater&&this.greaterBelongsToGenericExpression(f,i);if(c<=0&&null!=o&&[r.leftBracket,r.assignment,r.comma].indexOf(o.tt)<0){if(f>0){var L=i[f-1],W=R||B?0:1;L.tt==r.space?L.position.length!=W&&this.insertSpaces(t,L.position.line,L.position.column,W-L.position.length):1==W&&this.insertSpaces(t,h.position.line,h.position.column,1)}if(f<i.length-1){var G=i[f+1],N=R?0:1;G.tt==r.space?(B&&f<i.length-2&&i[f+2].tt==r.leftBracket&&(N=0),G.position.length!=N&&this.insertSpaces(t,G.position.line,G.position.column,N-G.position.length)):(B&&G.tt==r.leftBracket&&(N=0),1==N&&this.insertSpaces(t,G.position.line,G.position.column,1))}}}h.tt!=r.space&&h.tt!=r.newline&&(o=h)}return this.deleteOverlappingRanges(t),t}},{key:"getNextNonSpaceToken",value:function(e,t){if(e==t.length-1)return t[e];for(var n=e+1;n<t.length-1&&(t[n].tt==r.space||t[n].tt==r.return);)n++;return t[n]}},{key:"lowerBelongsToGenericExpression",value:function(e,t){for(var n=e+1;n<t.length;){var i=t[n].tt;if(i==r.greater)return!0;if([r.space,r.comma,r.identifier].indexOf(i)<0)return!1;n++}return!1}},{key:"greaterBelongsToGenericExpression",value:function(e,t){for(var n=e-1;n>=0;){var i=t[n].tt;if(i==r.lower)return!0;if([r.space,r.comma,r.identifier].indexOf(i)<0)return!1;n--}return!1}},{key:"isBinaryOperator",value:function(e){return null!=e&&e>=r.modulo&&e<=r.colon}},{key:"replaceBetween",value:function(e,t,n,i){var r={line:e.position.line,column:e.position.column+e.position.length},o={line:t.position.line,column:t.position.column};r.line==o.line&&o.column-r.column==i.length||this.replace(n,r,o,i)}},{key:"deleteSpaces",value:function(e,t,n,i){e.push({range:{startColumn:n,startLineNumber:t,endColumn:n+i+(0==n?1:0),endLineNumber:t},text:""})}},{key:"insertSpaces",value:function(e,t,n,i){i<0?this.deleteSpaces(e,t,n,-i):e.push({range:{startColumn:n,startLineNumber:t,endColumn:n,endLineNumber:t},text:" ".repeat(i)})}},{key:"replace",value:function(e,t,n,i){e.push({range:{startColumn:t.column,startLineNumber:t.line,endColumn:n.column,endLineNumber:n.line},text:i})}}])&&un(t.prototype,n),i&&un(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.themes=[],this.initThemes()}var t,n,i;return t=e,(n=[{key:"switchTheme",value:function(e){var t,n=dn(this.themes);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.name==e){this.internalSwitchTheme(i);break}}}catch(e){n.e(e)}finally{n.f()}}},{key:"internalSwitchTheme",value:function(e){monaco.editor.setTheme(e.monacoTheme);for(var t=document.documentElement,n=0,i=Object.keys(e.cssColors);n<i.length;n++){var r=i[n],o=e.cssColors[r];t.style.setProperty(r,o)}}},{key:"initThemes",value:function(){this.themes.push({name:"dark",monacoTheme:"myCustomThemeDark",cssColors:{"--backgroundDark":"#1e1e1e","--backgroundLight":"#252526","--backgroundHeading":"#37373d","--backgroundSelected":"#2a2d2e","--fontColorNormal":"#c2cccc","--fontColorLight":"#e7e7e7","--slider":"#414141","--loginButtonBackgrond":"#59a15d","--loginButtonFontColor":"#000000","--loginMessageColor":"rgb(122, 48, 48)","--loginButtonHover":"#63a867","--loginButtonActive":"#94ffd1","--scrollbar":"#1e1e1e","--scrollbar-thumb":"#3e3e3e","--scrollbar-thumb-hover":"#5e5e5e","--scrollbar-thumb-active":"#7e7e7e","--submenu-hover":"#094771","--submenu-color":"#ffffff","--menuitemsdivider":"#616162","--file-hover":"hsla(0, 0%, 38%, 0.125)","--file-active":"#094771","--file-active-hover":"rgba(9, 71, 113, 0.827)","--file-errorcount":"red","--inplace-editor":"blue","--contextmenu-background":"#3c3c3c","--contextmenu-color":"rgb(212,212,212)","--contextmenu-hover-background":"#094771","--contextmenu-hover-color":"#ffffff","--error-filename":"#2a709e","--error-line-ative":"#094771","--error-line-hover":"rgba(96, 96, 96, 0.125)","--error-position":"#c0802d","--linecolumn":"#14c714","--reveal-error":"rgba(253, 101, 101, 0.745)","--reveal-method":"#2b2b7d2f","--reveal-errorline-background":"red","--reveal-error-whole-line":"rgba(255, 0, 0, 0.555)","--reveal-programpointer":"rgba(111, 214, 27, 0.337)","--reveal-syntaxelement":"rgb(85,85,85)","--margin-breakpoint":"rgba(255, 0, 0, 0.623)","--speedcontrol-bar":"#9d9d9d","--speedcontrol-grip":"#588555","--speedcontrol-grip-hover":"#89d185","--speedcontrol-display-background":"#383838","--speedcontrol-display-border":"#9d9d9d","--editorTooltip-background":"#252526","--editorTooltip-border":"#454545","--renameInput-color":"#ffffff","--bottomdiv-tabheading-hover":"white","--bottomdiv-tabheading-active":"rgb(97,97,255)","--noErrorMessage":"rgb(37, 211, 37)","--console-top-borderbottom":"#c4c4c4","--console-top-background":"#1e1e1e","--consoleEntry-withBorder":"#303030","--consoleEntryValue":"white","--consoleEntryIdentifier":"rgb(156, 156, 235)","--consoleEntryNoValue":"gray","--consoleEntryCaption":"white","--error-Caption":"rgb(166, 165, 176)","--console-error":"rgb(155, 51, 51)","--deIdentifier":"rgb(156, 156, 235)","--deValue":"white","--helper-background-color":"#383838","--helper-border-color":"#d4d4d4","--arrowBoxButtonOuter-background":"#59a15d","--arrowBoxButtonOuter-border":"#3d3d3d","--arrowBoxButtonOuter-color":"black","--arrowBoxButtonOuter-button-hover":"#63a867","--arrowBox-after":"rgba(136, 183, 213, 0)","--arrowBox-before":"rgba(194, 225, 245, 0)","--defaultOutputColor":"#ffffff","--runInputColor":"#ffffff","--runBackgroundColor":"rgba(255, 255, 255, 0.2)"}}),this.themes.push({name:"light",monacoTheme:"myCustomThemeLight",cssColors:{"--backgroundDark":"white","--backgroundLight":"#f3f3f3","--backgroundHeading":"#dcdcdc","--backgroundSelected":"#e8e8e8","--fontColorNormal":"#756161","--fontColorLight":"#756161","--slider":"#b0b0b0","--loginButtonBackgrond":"#59a15d","--loginButtonFontColor":"#000000","--loginMessageColor":"rgb(122, 48, 48)","--loginButtonHover":"#63a867","--loginButtonActive":"#94ffd1","--scrollbar":"#e3e3e3","--scrollbar-thumb":"#bababa","--scrollbar-thumb-hover":"#8e8e8e","--scrollbar-thumb-active":"#616161","--submenu-hover":"#8080ff","--submenu-color":"#ffffff","--menuitemsdivider":"#cfcfcf","--file-hover":"#e8e8e8","--file-active":"#8080ff","--file-active-hover":"#a0a0ff","--file-errorcount":"red","--inplace-editor":"white","--contextmenu-background":"white","--contextmenu-color":"#756161","--contextmenu-hover-background":"#8080ff","--contextmenu-hover-color":"#a0a0ff","--error-filename":"#ff0000","--error-line-ative":"#ffa0a0","--error-line-hover":"#ffc0c0","--error-position":"#804040","--linecolumn":"#14c714","--reveal-error":"rgba(253, 101, 101, 0.745)","--reveal-method":"#babaec80","--reveal-errorline-background":"red","--reveal-error-whole-line":"rgba(255, 0, 0, 0.555)","--reveal-programpointer":"rgba(111, 214, 27, 0.337)","--reveal-syntaxelement":"#c0c0c0","--margin-breakpoint":"rgba(255, 0, 0, 0.623)","--speedcontrol-bar":"#9d9d9d","--speedcontrol-grip":"#588555","--speedcontrol-grip-hover":"#89d185","--speedcontrol-display-background":"#e0e0e0","--speedcontrol-display-border":"#9d9d9d","--editorTooltip-background":"#e0e0e0","--editorTooltip-border":"#9d9d9d","--renameInput-color":"#000000","--bottomdiv-tabheading-hover":"#424242","--bottomdiv-tabheading-active":"#424242","--noErrorMessage":"rgb(17, 180, 17)","--console-top-borderbottom":"#c4c4c4","--console-top-background":"white","--consoleEntry-withBorder":"#303030","--consoleEntryValue":"#0000a0","--consoleEntryIdentifier":"black","--consoleEntryNoValue":"gray","--consoleEntryCaption":"#756161","--error-Caption":"rgb(166, 165, 176)","--console-error":"rgb(155, 21, 21)","--deIdentifier":"black","--deValue":"#0000a0","--helper-background-color":"#f3f3f3","--helper-border-color":"#606060","--arrowBoxButtonOuter-background":"#59a15d","--arrowBoxButtonOuter-border":"#3d3d3d","--arrowBoxButtonOuter-color":"black","--arrowBoxButtonOuter-button-hover":"#63a867","--arrowBox-after":"rgba(136, 183, 213, 0)","--arrowBox-before":"rgba(194, 225, 245, 0)","--defaultOutputColor":"#303030","--runInputColor":"#000000","--runBackgroundColor":"rgba(0, 0, 0, 0.2)"}})}}])&&hn(t.prototype,n),i&&hn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function mn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var gn=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=e.maxId++,this.beginsNewStackframe=!1,this.childSymbolTables=[],this.variableMap=new Map,this.classContext=null,this.method=null,this.parent=t,this.positionFrom=n,this.positionTo=i,this.classContext=null==t?null:t.classContext,null!=this.parent&&(this.parent.childSymbolTables.push(this),this.method=this.parent.method)}var t,n,i;return t=e,(n=[{key:"getImitation",value:function(){var t=new e(null,{line:1,column:1,length:0},{line:1,column:1e4,length:0});t.beginsNewStackframe=!0;for(var n=this,i=-1;null!=n;)null!=n.classContext&&(t.classContext=n.classContext),n.variableMap.forEach((function(e,n){null==t.variableMap.get(n)&&t.variableMap.set(n,e),e.stackPos>i&&(i=e.stackPos)})),n=n.parent;return t.stackframeSize=i+1,t}},{key:"getLocalVariableCompletionItems",value:function(e){var t=[];return this.variableMap.forEach((function(n,i){0!=i&&(null!=n&&null!=n.type&&n.type instanceof fe&&t.push({label:i+"[]",insertText:i+"[$0]",documentation:"Element des Arrays",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:e}),t.push({label:i,insertText:i,kind:monaco.languages.CompletionItemKind.Variable,range:e}))})),null!=this.parent&&this.parent.classContext==this.classContext&&(t=t.concat(this.parent.getLocalVariableCompletionItems(e))),t}},{key:"findTableAtPosition",value:function(e,t){if(!this.containsPosition(e,t))return null;var n,i=null,r=1e7,o=yn(this.childSymbolTables);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.containsPosition(e,t)){var s=a.findTableAtPosition(e,t);s.positionTo.line-s.positionFrom.line<r&&(i=s,r=s.positionTo.line-s.positionFrom.line)}}}catch(e){o.e(e)}finally{o.f()}return null!=i?i:this}},{key:"containsPosition",value:function(e,t){return!(e<this.positionFrom.line||e>this.positionTo.line)&&(e==this.positionFrom.line?t>=this.positionFrom.column:e!=this.positionTo.line||t<=this.positionTo.column)}}])&&mn(t.prototype,n),i&&mn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sn(){return(Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Pn(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Pn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dn(e)););return e}function jn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Tn(e,t,n){return t&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&On(e,t)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Dn(e);if(t){var r=Dn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return An(this,n)}}function An(e,t){if(t&&("object"===bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return En(e)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}gn.maxId=0;var In=function(e){Mn(n,e);var t=Cn(n);function n(e,i){var r;return xn(this,n),(r=t.call(this,e)).enumValue=i,r}return Tn(n)}(E),Fn=function(e){Mn(n,e);var t=Cn(n);function n(e,i,r){var o;xn(this,n),(o=t.call(this,e,i)).enumInfoList=[],o.identifierToInfoMap={},o.indexToInfoMap={},o.valueList=null,o.baseClass=Nt;var a,s=0,l=wn(r);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=new j(u.identifier,En(o),null,!0,_.public,!0);null!=u.position&&(c.declaration={module:i,position:u.position},c.usagePositions.set(i,[u.position])),o.staticClass.addAttribute(c);var d={identifier:u.identifier,ordinal:s++};o.enumInfoList.push(d),o.identifierToInfoMap[u.identifier]=d,o.indexToInfoMap[d.ordinal]=d}}catch(e){l.e(e)}finally{l.f()}if(i.isSystemModule){o.valueList={type:new fe(En(o)),value:[]};var f,h=wn(o.enumInfoList);try{for(h.s();!(f=h.n()).done;){var p=f.value;p.object=new In(En(o),p),o.valueList.value.push({type:En(o),value:p.object})}}catch(e){h.e(e)}finally{h.f()}}var y=En(o);return o.staticClass.addMethod(new T("getValues",new x([]),new fe(En(o)),(function(e){if(null==o.valueList){var t,n=[],i=wn(o.enumInfoList);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push({type:y,value:r.object})}}catch(e){i.e(e)}finally{i.f()}o.valueList={type:new fe(y),value:n}}return o.valueList.value}),!1,!0)),o.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value.enumValue.identifier}),!1,!1)),o.addMethod(new T("toOrdinal",new x([]),Bt,(function(e){return e[0].value.enumValue.ordinal}),!1,!1)),o}return Tn(n,[{key:"getOrdinal",value:function(e){var t=this.identifierToInfoMap[e];return null==t?-1:t.ordinal}},{key:"debugOutput",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.value;return this.identifier+"."+t.enumValue.identifier}},{key:"canCastTo",value:function(e){return e==Bt||Sn(Dn(n.prototype),"canCastTo",this).call(this,e)}},{key:"castTo",value:function(e,t){if(t==Bt){var i=e.value;return{type:Bt,value:i.enumValue.ordinal}}return Sn(Dn(n.prototype),"castTo",this).call(this,e,t)}}]),n}(J);function _n(e){return function(e){if(Array.isArray(e))return Bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Rn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Rn(e,t){if(e){if("string"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ln(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Wn,Gn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initStackFrameNodes=[]}var t,n,i;return t=e,(n=[{key:"startAdhocCompilation",value:function(e,t,n,i){this.moduleStore=t,this.module=e,this.symbolTableStack=[],this.symbolTableStack.push(n),this.currentSymbolTable=n,this.heap=i;var r=n.stackframeSize;return this.nextFreeRelativeStackPos=r,this.currentProgram=null,this.errorList=[],this.breakNodeStack=[],this.continueNodeStack=[],this.generateMain(!0),this.errorList}},{key:"start",value:function(e,t){if(this.moduleStore=t,this.module=e,this.symbolTableStack=[],this.currentSymbolTable=null,this.currentProgram=null,this.errorList=[],this.nextFreeRelativeStackPos=0,this.module.tokenList.length>0){var n=this.module.tokenList[this.module.tokenList.length-1];this.module.mainSymbolTable.positionTo={line:n.position.line,column:n.position.column+1,length:1}}this.symbolTableStack.push(this.module.mainSymbolTable),this.currentSymbolTable=this.module.mainSymbolTable,this.breakNodeStack=[],this.continueNodeStack=[],this.generateMain(),this.generateClasses(),this.lookForStaticVoidMain(),this.module.errors[3]=this.errorList}},{key:"lookForStaticVoidMain",value:function(){var e=this.module.mainProgram;if(!(null!=e&&e.statements.length>2)){var t,n=null,i=null,o=zn(this.module.classDefinitionsAST);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.type==r.keywordClass){var s,l=a.resolvedType,u=zn(l.staticClass.methods);try{for(u.s();!(s=u.n()).done;){var c=s.value;if("main"==c.identifier&&1==c.parameterlist.parameters.length){var d=c.parameterlist.parameters[0];d.type instanceof fe&&d.type.arrayOfType==$t&&(null!=n?this.pushError("Es existieren mehrere Klassen mit statischen main-Methoden.",a.position):(n=c,i=l.staticClass))}}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}if(null!=n){var f=n.usagePositions[0];null!=n.program&&n.program.statements.length>0&&(f=n.program.statements[0].position),this.initCurrentProgram(),this.module.mainProgram=this.currentProgram,this.pushStatements([{type:r.callMainMethod,position:f,stepFinished:!1,method:n,staticClass:i},{type:r.closeStackframe,position:n.usagePositions.get(this.module)[0]}],!1)}}}},{key:"generateClasses",value:function(){if(null!=this.module.classDefinitionsAST){var e,t=zn(this.module.classDefinitionsAST);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.type==r.keywordClass&&this.generateClass(n),n.type==r.keywordEnum&&this.generateEnum(n),n.type==r.keywordInterface){var i=n.resolvedType;null!=i&&this.checkDoubleMethodDeclaration(i)}}}catch(e){t.e(e)}finally{t.f()}}}},{key:"generateEnum",value:function(e){if(null!=e.resolvedType){this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var t=e.resolvedType;this.currentSymbolTable.classContext=t,this.currentProgram=t.attributeInitializationProgram;var n,i=zn(e.attributes);try{for(i.s();!(n=i.n()).done;){var o=n.value;null==o||o.isStatic||null==o.initialization||this.initializeAttribute(o)}}catch(e){i.e(e)}finally{i.f()}t.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:r.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var a,s=zn(e.methods);try{for(s.s();!(a=s.n()).done;){var l=a.value;null==l||l.isAbstract||l.isStatic||this.compileMethod(l)}}catch(e){s.e(e)}finally{s.f()}this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var u,c=zn(e.values);try{for(c.s();!(u=c.n()).done;){var d=u.value;if(null!=d.constructorParameters){var f={module:this.module,labelManager:null,statements:[]};this.currentProgram=f,this.pushStatements({type:r.pushEnumValue,position:d.position,enumClass:t,valueIdentifier:d.identifier}),this.processEnumConstructorCall(t,d.constructorParameters,d.position,d.commaPositions,d.rightBracketPosition),this.pushStatements({type:r.programEnd,position:d.position,stepFinished:!0});var h=t.identifierToInfoMap[d.identifier];h.constructorCallProgram=f,h.position=d.position}}}catch(e){c.e(e)}finally{c.f()}this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.classContext=t.staticClass,this.currentProgram=t.staticClass.attributeInitializationProgram;var p,y=zn(e.attributes);try{for(y.s();!(p=y.n()).done;){var v=p.value;null!=v&&v.isStatic&&null!=v.initialization&&this.initializeAttribute(v)}}catch(e){y.e(e)}finally{y.f()}this.currentProgram.labelManager.resolveNodes();var m,g=zn(e.methods);try{for(g.s();!(m=g.n()).done;){var b=m.value;null!=b&&b.isStatic&&this.compileMethod(b)}}catch(e){g.e(e)}finally{g.f()}this.checkDoubleMethodDeclaration(t),this.popSymbolTable(null)}}},{key:"processEnumConstructorCall",value:function(e,t,n,i,o){var a,s=[],l=zn(t);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=this.processNode(u);null!=c&&s.push(c.type)}}catch(e){l.e(e)}finally{l.f()}var d=e.getMethodsThatFitWithCasting(e.identifier,s,!0,_.private);if(this.module.pushMethodCallPosition(n,i,e.getMethods(_.private,e.identifier),o),null!=d.error)return this.pushError(d.error,n),{type:$t,isAssignable:!1};for(var f=d.methodList[0],h=null,p=0;p<s.length;p++){p<f.getParameterCount()&&(h=f.getParameterType(p),p==f.getParameterCount()-1&&f.hasEllipsis()&&(h=h.arrayOfType));var y=s[p];y.equals(h)||y instanceof P&&h instanceof P&&y.getCastInformation(h).needsStatement&&this.pushStatements({type:r.castValue,position:null,newType:h,stackPosRelative:1-s.length+p})}var v=0;if(f.hasEllipsis()){var m=s.length-f.getParameterCount()+1;v=-(m-1),this.pushStatements({type:r.makeEllipsisArray,position:t[f.getParameterCount()-1].position,parameterCount:m,stepFinished:!1,arrayType:f.getParameter(f.getParameterCount()-1).type})}this.pushStatements({type:r.callMethod,method:f,position:n,stepFinished:!0,isSuperCall:!1,stackframeBegin:-(s.length+1+v)})}},{key:"generateClass",value:function(e){if(null!=e.resolvedType){this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var t=e.resolvedType,n=t.checkInheritance();""!=n.message&&this.pushError(n.message,e.position,"error",this.getInheritanceQuickFix(e.scopeTo,n));var i=t.baseClass;null!=i&&i.module!=t.module&&i.visibility==_.private&&this.pushError("Die Basisklasse "+i.identifier+" der Klasse "+t.identifier+" ist hier nicht sichtbar.",e.position),this.currentSymbolTable.classContext=t,this.currentProgram=t.attributeInitializationProgram;var o,a=zn(e.attributes);try{for(a.s();!(o=a.n()).done;){var s=o.value;null==s||s.isStatic||null==s.initialization||this.initializeAttribute(s)}}catch(e){a.e(e)}finally{a.f()}t.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:r.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var l,u=zn(e.methods);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(null!=c&&!c.isAbstract&&!c.isStatic){this.compileMethod(c);var d=c.resolvedType;null!=d&&"@Override"==d.annotation&&null!=t.baseClass&&null==t.baseClass.getMethodBySignature(d.signature)&&this.pushError("Die Methode "+d.signature+" ist mit @Override annotiert, überschreibt aber keine Methode gleicher Signatur einer Oberklasse.",c.position,"warning")}}}catch(e){u.e(e)}finally{u.f()}this.checkDoubleMethodDeclaration(t),this.popSymbolTable(null),this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.classContext=t.staticClass,this.currentProgram=t.staticClass.attributeInitializationProgram;var f,h=zn(e.attributes);try{for(h.s();!(f=h.n()).done;){var p=f.value;null!=p&&p.isStatic&&null!=p.initialization&&this.initializeAttribute(p)}}catch(e){h.e(e)}finally{h.f()}t.staticClass.attributeInitializationProgram.statements.length>0&&this.pushStatements({type:r.return,position:this.lastStatement.position,copyReturnValueToStackframePos0:!1,stepFinished:!1,leaveThisObjectOnStack:!0}),this.currentProgram.labelManager.resolveNodes();var y,v=zn(e.methods);try{for(v.s();!(y=v.n()).done;){var m=y.value;null!=m&&m.isStatic&&this.compileMethod(m)}}catch(e){v.e(e)}finally{v.f()}this.popSymbolTable(null)}}},{key:"checkDoubleMethodDeclaration",value:function(e){var t,n={},i=zn(e.methods);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.getSignatureWithReturnParameter();if(null!=n[o]){var a="In der Klasse ";e instanceof te&&(a="Im Interface "),e instanceof Fn&&(a="Im Enum "),this.pushError(a+e.identifier+" gibt es zwei Methoden mit derselben Signatur: "+o,r.usagePositions.get(this.module)[0],"error"),this.pushError(a+e.identifier+" gibt es zwei Methoden mit derselben Signatur: "+o,n[o].usagePositions.get(this.module)[0],"error")}else n[o]=r}}catch(e){i.e(e)}finally{i.f()}}},{key:"getInheritanceQuickFix",value:function(e,t){var n,i="",r=zn(t.missingMethods);try{for(r.s();!(n=r.n()).done;){var o=n.value;i+="\tpublic "+(null==o.returnType?" void":M(o.returnType))+" "+o.identifier+"(",i+=o.parameterlist.parameters.map((function(e){return M(e.type)+" "+e.identifier})).join(", "),i+=") {\n\t\t//TODO: Methode füllen\n\t}\n\n"}}catch(e){r.e(e)}finally{r.f()}return{title:"Fehlende Methoden einfügen",editsProvider:function(t){return[{resource:t,edit:{range:{startLineNumber:e.line,startColumn:e.column-1,endLineNumber:e.line,endColumn:e.column-1},text:i}}]}}}},{key:"getSuperconstructorCalls",value:function(e,t,n){var i,o=zn(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(a.type==r.superConstructorCall?(n||(t.length>0?this.pushError("Ein Konstruktor darf nur einen einzigen Aufruf des Superkonstruktors enthalten.",a.position,"error"):this.pushError("Vor dem Aufruf des Superkonstruktors darf keine andere Anweisung stehen.",a.position,"error")),t.push(a),n=!1):n=a.type==r.scopeNode&&null!=a.statements&&n&&this.getSuperconstructorCalls(a.statements,t,n))}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"compileMethod",value:function(e){var t,n,i,o=e.resolvedType;if(this.checkIfMethodIsVirtual(o),null!=o){this.initCurrentProgram(),o.program=this.currentProgram,this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.currentSymbolTable.method=o;var a,s=1,l=zn(o.getParameterList().parameters);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.stackPos=s++,this.currentSymbolTable.variableMap.set(u.identifier,u)}}catch(e){l.e(e)}finally{l.f()}if(this.nextFreeRelativeStackPos=e.parameters.length+1,o.isConstructor&&this.currentSymbolTable.classContext instanceof J&&null!=e.statements){var c=this.currentSymbolTable.classContext,d=[];this.getSuperconstructorCalls(e.statements,d,!0);var f=d.length>0;if(null!=c&&(null===(t=c.baseClass)||void 0===t?void 0:t.hasConstructor())&&!(null===(n=c.baseClass)||void 0===n?void 0:n.hasParameterlessConstructor())){var h=!1;if(null!=e.statements&&0!=e.statements.length||(h=!0),h||(h=!f),h){var p=null,y=c.baseClass.methods.filter((function(e){return e.isConstructor}));if(1==y.length){var v="super("+y[0].parameterlist.parameters.map((function(e){return e.identifier})).join(", ")+");",m=e.position;p={title:"Aufruf des Konstruktors der Basisklasse einfügen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:m.line+1,startColumn:0,endLineNumber:m.line+1,endColumn:0,message:"",severity:monaco.MarkerSeverity.Error},text:"\t\t"+v+"\n"}}]}}}this.pushError("Die Basisklasse der Klasse "+c.identifier+" besitzt keinen parameterlosen Konstruktor, daher muss diese Konstruktordefinition mit einem Aufruf eines Konstruktors der Basisklasse (super(...)) beginnen.",e.position,"error",p)}}else if(!f&&(null===(i=c.baseClass)||void 0===i?void 0:i.hasParameterlessConstructor())){var g=c.baseClass.getParameterlessConstructor();this.pushStatements([{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0},{type:r.callMethod,method:g,isSuperCall:!0,position:e.position,stackframeBegin:-1}])}}var b=this.moduleStore.getType("Actor").type;if(["act","onKeyTyped","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave"].indexOf(o.identifier)>=0&&this.currentSymbolTable.classContext.hasAncestorOrIs(b)&&this.pushStatements([{type:r.returnIfDestroyed,position:e.position}]),!this.generateStatements(e.statements).withReturnStatement){this.pushStatements({type:r.return,position:e.scopeTo,copyReturnValueToStackframePos0:!1,stepFinished:!0,leaveThisObjectOnStack:!1});var w=o.getReturnType();o.isConstructor||null==w||w==Rt||this.pushError("Die Deklaration der Methode verlangt die Rückgabe eines Wertes vom Typ "+w.identifier+". Es fehlt (mindestens) eine entsprechende return-Anweisung.",e.position)}o.reserveStackForLocalVariables=this.nextFreeRelativeStackPos-e.parameters.length-1,this.popSymbolTable(),this.currentProgram.labelManager.resolveNodes()}}},{key:"checkIfMethodIsVirtual",value:function(e){var t=this.currentSymbolTable.classContext;if(null!=t){var n,i=zn(this.moduleStore.getModules(!1));try{for(i.s();!(n=i.n()).done;){var r,o=zn(n.value.typeStore.typeList);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a instanceof J&&a!=t&&a.hasAncestorOrIs(t)){var s,l=zn(a.methods);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(null!=u&&null!=e&&u.signature==e.signature)return void(e.isVirtual=!0)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}}}},{key:"initializeAttribute",value:function(e){if(null!=e&&null!=e.identifier&&null!=e.initialization){e.isStatic?this.pushStatements({type:r.pushStaticAttribute,attributeIndex:e.resolvedType.index,attributeIdentifier:e.resolvedType.identifier,position:e.initialization.position,klass:this.currentSymbolTable.classContext}):this.pushStatements({type:r.pushAttribute,attributeIndex:e.resolvedType.index,attributeIdentifier:e.identifier,position:e.initialization.position,useThisObject:!0});var t=this.processNode(e.initialization);null!=t&&null!=t.type&&(this.ensureAutomaticCasting(t.type,e.attributeType.resolvedType)||(null==e.attributeType.resolvedType?this.pushError("Der Datentyp von "+e.identifier+" konnte nicht ermittelt werden. ",e.position):this.pushError("Der Wert des Term vom Datentyp "+t.type+" kann dem Attribut "+e.identifier+" vom Typ "+e.attributeType.resolvedType.identifier+" nicht zugewiesen werden.",e.initialization.position)),this.pushStatements({type:r.assignment,position:e.initialization.position,stepFinished:!1,leaveValueOnStack:!1}))}}},{key:"initCurrentProgram",value:function(){this.currentProgram={module:this.module,statements:[],labelManager:null},this.currentProgram.labelManager=new R(this.currentProgram),this.lastStatement=null}},{key:"generateMain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.initCurrentProgram();var t={line:1,column:1,length:0},n=this.module.mainProgramAst;null!=n&&n.length>0&&null!=n[0]&&(t=this.module.mainProgramAst[0].position),e||(this.pushNewSymbolTable(!0,t,{line:1e5,column:1,length:0},this.currentProgram),this.heap={}),this.module.mainProgram=this.currentProgram;var i=!1;null!=this.module.mainProgramAst&&this.module.mainProgramAst.length>0&&(i=!0,this.generateStatements(this.module.mainProgramAst),e&&null!=this.lastStatement&&this.lastStatement.type==r.decreaseStackpointer&&this.removeLastStatement(),this.lastPosition=this.module.mainProgramEnd,null==this.lastPosition&&(this.lastPosition={line:1e5,column:0,length:0}),this.currentSymbolTable.positionTo=this.lastPosition,e||this.popSymbolTable(this.currentProgram,!0),this.heap=null,this.pushStatements({type:r.programEnd,position:this.lastPosition,stepFinished:!0,pauseAfterProgramEnd:!0},!0)),this.currentProgram.labelManager.resolveNodes(),e||i||(this.popSymbolTable(this.currentProgram),this.heap=null)}},{key:"ensureAutomaticCasting",value:function(e,t,n,i){if(null==e||null==t)return!1;if(e.equals(t))return!0;if(!e.canCastTo(t))return t==Gt&&null!=i&&this.checkIfAssignmentInstedOfEqual(i),!1;if(null!=e.unboxableAs&&e.unboxableAs.indexOf(t)>=0)return!0;if(e instanceof J&&t==$t){var o=this.getToStringStatement(e,n);return null!=o&&(this.pushStatements(o),!0)}if(e instanceof P&&(t instanceof P||t==$t)){var a=e.getCastInformation(t);if(!a.automatic)return!1;a.needsStatement&&this.pushStatements({type:r.castValue,newType:t,position:n})}return!0}},{key:"getToStringStatement",value:function(e,t){var n=e.getMethodBySignature("toString()");return null!=n&&n.getReturnType()==$t?{type:r.callMethod,position:t,method:n,isSuperCall:!1,stackframeBegin:-1,stepFinished:!1}:null}},{key:"checkIfAssignmentInstedOfEqual",value:function(e,t){if(null!=e&&e.type==r.binaryOp&&e.operator==r.assignment){var n=e.position;this.pushError("= ist der Zuweisungsoperator. Du willst sicher zwei Werte vergleichen. Dazu benötigst Du den Vergleichsoperator ==.",n,t==Gt?"warning":"error",{title:"= durch == ersetzen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:n.line,startColumn:n.column,endLineNumber:n.line,endColumn:n.column+1,message:"",severity:monaco.MarkerSeverity.Error},text:"=="}}]}})}}},{key:"generateStatements",value:function(e){if(null==e||0==e.length||null==e[0])return{withReturnStatement:!1};var t,n=this.processStatementsInsideBlock(e),i=e[e.length-1];return null!=i?(i.type==r.scopeNode?t=i.positionTo:null!=(t=Object.assign({},i.position))&&(t.column+=t.length,t.length=1),this.lastPosition=t):t=this.lastPosition,{withReturnStatement:n,endPosition:t}}},{key:"processStatementsInsideBlock",value:function(e){var t,n=!1,i=zn(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null!=o){var a=this.processNode(o);null!=a&&null!=a.withReturnStatement&&a.withReturnStatement&&(n=!0),null!=a&&null!=a.type&&a.type!=Rt&&(null!=this.lastStatement&&this.lastStatement.type==r.assignment&&this.lastStatement.leaveValueOnStack?this.lastStatement.leaveValueOnStack=!1:this.pushStatements({type:r.decreaseStackpointer,position:null,popCount:1,stepFinished:!0},!0))}}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"insertStatements",value:function(e,t){if(null!=t){Array.isArray(t)||(t=[t]);var n,i=zn(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.currentProgram.statements.splice(e++,0,r)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"pushStatements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e){if(t&&this.currentProgram.statements.length>0){var n=this.currentProgram.statements[this.currentProgram.statements.length-1];n.stepFinished=!1}if(Array.isArray(e)){var i,o=zn(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.currentProgram.statements.push(a),a.type!=r.return&&a.type!=r.jumpAlways||null!=this.lastStatement&&(this.lastStatement.stepFinished=!1),null!=a.position?this.lastPosition=a.position:a.position=this.lastPosition,this.lastStatement=a}}catch(e){o.e(e)}finally{o.f()}}else this.currentProgram.statements.push(e),e.type!=r.return&&e.type!=r.jumpAlways||null!=this.lastStatement&&this.lastStatement.type!=r.noOp&&(this.lastStatement.stepFinished=!1),null!=e.position?this.lastPosition=e.position:e.position=this.lastPosition,this.lastStatement=e}}},{key:"removeLastStatement",value:function(){var e=this.currentProgram.statements.pop();null!=this.currentProgram.labelManager&&this.currentProgram.labelManager.removeNode(e)}},{key:"pushNewSymbolTable",value:function(e,t,n,i){var o=new gn(this.currentSymbolTable,t,n);if(this.symbolTableStack.push(this.currentSymbolTable),e&&(o.beginsNewStackframe=!0,this.currentSymbolTable.stackframeSize=this.nextFreeRelativeStackPos,this.nextFreeRelativeStackPos=0,null!=i)){var a={type:r.initStackframe,position:t,reserveForLocalVariables:0};i.statements.push(a),this.initStackFrameNodes.push(a)}return this.currentSymbolTable=o,o}},{key:"popSymbolTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.currentSymbolTable;if(this.currentSymbolTable=this.symbolTableStack.pop(),i.variableMap.forEach((function(e){null!=e.declarationError&&e.usedBeforeInitialization&&(t.errorList.push(e.declarationError),e.declarationError=null)})),i.beginsNewStackframe&&(i.stackframeSize=this.nextFreeRelativeStackPos,this.nextFreeRelativeStackPos=this.currentSymbolTable.stackframeSize,null!=e)){var o=this.initStackFrameNodes.pop();if(null!=o&&(o.reserveForLocalVariables=i.stackframeSize),e.statements.length>0&&n){var a=e.statements[e.statements.length-1];-1==[r.jumpAlways,r.jumpIfTrue,r.jumpIfFalse,r.jumpIfFalseAndLeaveOnStack,r.jumpIfTrueAndLeaveOnStack].indexOf(a.type)&&(e.statements[e.statements.length-1].stepFinished=!1)}e.statements.push({type:r.closeStackframe,position:i.positionTo})}}},{key:"pushError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",i=arguments.length>3?arguments[3]:void 0;this.errorList.push({text:e,position:t,quickFix:i,level:n})}},{key:"openBreakScope",value:function(){this.breakNodeStack.push([])}},{key:"openContinueScope",value:function(){this.continueNodeStack.push([])}},{key:"pushBreakNode",value:function(e){0==this.breakNodeStack.length?this.pushError("Eine break-Anweisung ist nur innerhalb einer umgebenden Schleife oder switch-Anweisung sinnvoll.",e.position):(this.breakNodeStack[this.breakNodeStack.length-1].push(e),this.pushStatements(e))}},{key:"pushContinueNode",value:function(e){0==this.continueNodeStack.length?this.pushError("Eine continue-Anweisung ist nur innerhalb einer umgebenden Schleife oder switch-Anweisung sinnvoll.",e.position):(this.continueNodeStack[this.continueNodeStack.length-1].push(e),this.pushStatements(e))}},{key:"closeBreakScope",value:function(e,t){var n,i=zn(this.breakNodeStack.pop());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.registerJumpNode(r,e)}}catch(e){i.e(e)}finally{i.f()}}},{key:"closeContinueScope",value:function(e,t){var n,i=zn(this.continueNodeStack.pop());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.registerJumpNode(r,e)}}catch(e){i.e(e)}finally{i.f()}}},{key:"breakOccured",value:function(){return this.breakNodeStack.length>0&&this.breakNodeStack[this.breakNodeStack.length-1].length>0}},{key:"processNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e)switch(e.type){case r.binaryOp:return this.processBinaryOp(e);case r.unaryOp:return this.processUnaryOp(e);case r.pushConstant:return this.pushConstant(e);case r.callMethod:return this.callMethod(e);case r.identifier:var n=this.resolveIdentifier(e),i=e.variable;return null!=i&&(t?(i.initialized=!0,i.usedBeforeInitialization||(i.declarationError=null)):null==i.initialized||i.initialized||(i.usedBeforeInitialization=!0,this.pushError("Die Variable "+i.identifier+" wird hier benutzt bevor sie initialisiert wurde.",e.position,"info"))),n;case r.selectArrayElement:return this.selectArrayElement(e);case r.incrementDecrementBefore:case r.incrementDecrementAfter:return this.incrementDecrementBeforeOrAfter(e);case r.superConstructorCall:case r.constructorCall:return this.superconstructorCall(e);case r.keywordThis:return this.pushThisOrSuper(e,!1);case r.keywordSuper:return this.pushThisOrSuper(e,!0);case r.pushAttribute:return this.pushAttribute(e);case r.newObject:return this.newObject(e);case r.keywordWhile:return this.processWhile(e);case r.keywordDo:return this.processDo(e);case r.keywordFor:return this.processFor(e);case r.forLoopOverCollection:return this.processForLoopOverCollection(e);case r.keywordIf:return this.processIf(e);case r.keywordSwitch:return this.processSwitch(e);case r.keywordReturn:return this.processReturn(e);case r.localVariableDeclaration:return this.localVariableDeclaration(e);case r.arrayInitialization:return this.processArrayLiteral(e);case r.newArray:return this.processNewArray(e);case r.keywordPrint:case r.keywordPrintln:return this.processPrint(e);case r.castValue:return this.processManualCast(e);case r.keywordBreak:return this.pushBreakNode({type:r.jumpAlways,position:e.position}),null;case r.keywordContinue:return this.pushContinueNode({type:r.jumpAlways,position:e.position}),null;case r.rightBracket:var o=this.processNode(e.termInsideBrackets);return null!=o&&o.type instanceof J&&this.pushTypePosition(e.position,o.type),o;case r.scopeNode:this.pushNewSymbolTable(!1,e.position,e.positionTo);var a=this.processStatementsInsideBlock(e.statements);return this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:a}}}},{key:"processManualCast",value:function(e){var t=this.processNode(e.whatToCast);if(null!=t&&null!=t.type){var n=t.type;if(null!=n&&null!=e.castToType&&null!=e.castToType.resolvedType){var i=e.castToType.resolvedType;if(n.canCastTo(i)){if(n instanceof P&&i instanceof P)n.getCastInformation(i).needsStatement&&this.pushStatements({type:r.castValue,position:e.position,newType:i});else if(n instanceof J&&i==$t){var o=n.getMethodBySignature("toString()");null!=o&&o.getReturnType()==$t?this.pushStatements({type:r.callMethod,position:e.position,method:o,isSuperCall:!1,stackframeBegin:-1,stepFinished:!1}):(this.pushError("Der Datentyp "+n.identifier+" kann (zumindest durch casting) nicht in den Datentyp "+i.identifier+" umgewandelt werden.",e.position),this.pushStatements({type:r.castValue,position:e.position,newType:i}))}return{isAssignable:t.isAssignable,type:i}}if((n instanceof J||n instanceof te)&&(i instanceof J||i instanceof te))return this.pushStatements({type:r.checkCast,position:e.position,newType:i,stepFinished:!1}),{isAssignable:t.isAssignable,type:i};this.pushError("Der Datentyp "+n.identifier+" kann (zumindest durch casting) nicht in den Datentyp "+i.identifier+" umgewandelt werden.",e.position)}}}},{key:"processPrint",value:function(e){var t,n=e.type==r.keywordPrint?r.print:r.println;if(this.module.pushMethodCallPosition(e.position,e.commaPositions,a[e.type],e.rightBracketPosition),null!=e.text){var i=this.processNode(e.text);null!=i&&(this.ensureAutomaticCasting(i.type,$t)||this.pushError("Die Methoden print und println erwarten einen Parameter vom Typ String. Gefunden wurde ein Wert vom Typ "+(null===(t=i.type)||void 0===t?void 0:t.identifier)+".",e.position))}var o=!1;if(null!=e.color){var s=this.processNode(e.color);null!=s&&s.type!=$t&&s.type!=Bt&&(this.ensureAutomaticCasting(s.type,$t)||this.pushError("Die Methoden print und println erwarten als Farbe einen Parameter vom Typ String oder int. Gefunden wurde ein Wert vom Typ "+s.type.identifier+".",e.position)),o=!0}return this.pushStatements({type:n,position:e.position,empty:null==e.text,stepFinished:!0,withColor:o}),null}},{key:"processNewArray",value:function(e){if(null!=e.initialization)return this.processArrayLiteral(e.initialization);var t,n=0,i=zn(e.elementCount);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null==o)break;this.processNode(o),n++}}catch(e){i.e(e)}finally{i.f()}return this.pushStatements({type:r.pushEmptyArray,position:e.position,arrayType:e.arrayType.resolvedType,dimension:n}),{isAssignable:!1,type:e.arrayType.resolvedType}}},{key:"processArrayLiteral",value:function(e){var t,n={type:r.beginArray,position:e.position,arrayType:e.arrayType.resolvedType};this.pushStatements(n);var i,o=zn(e.nodes);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(null!=a)if(a.type==r.arrayInitialization)this.processArrayLiteral(a);else{var s=this.processNode(a);if(null==s)return;var l=e.arrayType.resolvedType.arrayOfType;this.ensureAutomaticCasting(s.type,l,a.position)||this.pushError("Der Datentyp des Terms ("+(null===(t=s.type)||void 0===t?void 0:t.identifier)+") kann nicht in den Datentyp "+(null==l?void 0:l.identifier)+" konvertiert werden.",a.position)}}}catch(e){o.e(e)}finally{o.f()}return this.pushStatements({type:r.addToArray,position:e.position,numberOfElementsToAdd:e.nodes.length}),{isAssignable:!1,type:e.arrayType.resolvedType}}},{key:"localVariableDeclaration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==e.variableType.resolvedType&&(e.variableType.resolvedType=Vt);var n=null!=this.heap&&this.symbolTableStack.length<=2,i={identifier:e.identifier,stackPos:n?null:this.nextFreeRelativeStackPos++,type:e.variableType.resolvedType,usagePositions:new Map,declaration:{module:this.module,position:e.position},isFinal:e.isFinal};if(this.pushUsagePosition(e.position,i),n?(this.pushStatements({type:r.heapVariableDeclaration,position:e.position,pushOnTopOfStackForInitialization:null!=e.initialization,variable:i,stepFinished:null==e.initialization}),this.heap[i.identifier]&&this.pushError("Die Variable "+e.identifier+" darf im selben Sichtbarkeitsbereich (Scope) nicht mehrmals definiert werden.",e.position),this.heap[i.identifier]=i,this.currentSymbolTable.variableMap.set(e.identifier,i)):(this.currentSymbolTable.variableMap.get(e.identifier)&&this.pushError("Die Variable "+e.identifier+" darf im selben Sichtbarkeitsbereich (Scope) nicht mehrmals definiert werden.",e.position),this.currentSymbolTable.variableMap.set(e.identifier,i),this.pushStatements({type:r.localVariableDeclaration,position:e.position,pushOnTopOfStackForInitialization:null!=e.initialization,variable:i,stepFinished:null==e.initialization})),null!=e.initialization){var o=this.processNode(e.initialization);null!=o&&(i.type==Kt?i.type=o.type:null==o.type?this.pushError("Der Typ des Terms auf der rechten Seite des Zuweisungsoperators (=) konnte nicht bestimmt werden.",e.initialization.position):this.ensureAutomaticCasting(o.type,i.type)||this.pushError("Der Term vom Typ "+o.type.identifier+" kann der Variable vom Typ "+i.type.identifier+" nicht zugeordnet werden.",e.initialization.position),this.pushStatements({type:r.assignment,position:e.initialization.position,stepFinished:!0,leaveValueOnStack:!1}))}else if(i.type==Kt)this.pushError("Die Verwendung von var ist nur dann zulässig, wenn eine lokale Variable in einer Anweisung deklariert und initialisiert wird, also z.B. var i = 12;",e.variableType.position);else{var a=" = null";i.type==Bt&&(a=" = 0"),i.type==Wt&&(a=" = 0.0"),i.type==Gt&&(a=" = false"),i.type==Ht&&(a=" = ' '"),i.type==$t&&(a=' = ""'),i.declarationError={text:"Jede lokale Variable sollte vor ihrer ersten Verwendung initialisiert werden.",position:e.position,quickFix:{title:a+" ergänzen",editsProvider:function(t){var n=e.position;return[{resource:t,edit:{range:{startLineNumber:n.line,startColumn:n.column+n.length,endLineNumber:n.line,endColumn:n.column+n.length},text:a}}]}},level:"info"},i.usedBeforeInitialization=!1,i.initialized=t}return null}},{key:"processReturn",value:function(e){var t=this.currentSymbolTable.method;if(null==t)return this.pushError("Eine return-Anweisung ist nur im Kontext einer Methode erlaubt.",e.position),null;if(null!=e.term){if(null==t.getReturnType())return this.pushError("Die Methode "+t.identifier+" erwartet keinen Rückgabewert.",e.position),null;var n=this.processNode(e.term);null!=n&&(this.ensureAutomaticCasting(n.type,t.getReturnType(),null,e)||this.pushError("Die Methode "+t.identifier+" erwartet einen Rückgabewert vom Typ "+t.getReturnType().identifier+". Gefunden wurde ein Wert vom Typ "+n.type.identifier+".",e.position))}else null!=t.getReturnType()&&t.getReturnType()!=Rt&&this.pushError("Die Methode "+t.identifier+" erwartet einen Rückgabewert vom Typ "+t.getReturnType().identifier+", daher ist die leere Return-Anweisung (return;) nicht ausreichend.",e.position);return this.pushStatements({type:r.return,position:e.position,copyReturnValueToStackframePos0:null!=e.term,stepFinished:!0,leaveThisObjectOnStack:!1}),{type:null,isAssignable:!1,withReturnStatement:!0}}},{key:"processSwitch",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=this.processNode(e.condition);if(null!=n&&null!=n.type){var i=n.type,o=i==$t||i==Ht,a=i instanceof Fn;o||i==Bt||a||this.pushError("Der Unterscheidungsterms einer switch-Anweisung muss den Datentyp String, char, int oder enum besitzen. Dieser hier ist vom Typ "+i.identifier,e.condition.position),a&&this.pushStatements({type:r.castValue,position:e.condition.position,newType:Bt});var s={type:r.keywordSwitch,position:e.position,defaultDestination:null,switchType:o?"string":"number",destinationLabels:[],destinationMap:{}};this.pushStatements(s);var l=t.insertJumpNode(r.jumpAlways,e.position,this);s.stepFinished=!0,t.registerSwitchStatement(s),this.openBreakScope();var u,c=e.caseNodes.length>0,d=zn(e.caseNodes);try{for(d.s();!(u=d.n()).done;){var f=u.value;if(null==f.caseTerm){var h=t.markJumpDestination(1),p=this.generateStatements(f.statements);null!=(null==p?void 0:p.withReturnStatement)&&p.withReturnStatement||(c=!1),s.defaultDestination=h}else{var y=null;if(a&&f.caseTerm.type==r.identifier){var v=i.identifierToInfoMap[f.caseTerm.identifier];null==v?this.pushError("Die Enum-Klasse "+i.identifier+" hat kein Element mit dem Bezeichner "+f.caseTerm.identifier,f.position,"error"):y=v.ordinal}else{this.processNode(f.caseTerm);var m=this.lastStatement;m.type==r.pushConstant&&(y=m.value),m.type==r.pushEnumValue&&(y=m.enumClass.getOrdinal(m.valueIdentifier)),this.removeLastStatement()}null==y&&this.pushError("Der Term bei case muss konstant sein.",f.caseTerm.position);var g=t.markJumpDestination(1),b=this.generateStatements(f.statements);null!=(null==b?void 0:b.withReturnStatement)&&b.withReturnStatement||(c=!1),s.destinationLabels.push({constant:y,label:g})}}}catch(e){d.e(e)}finally{d.f()}return null==s.defaultDestination&&(c=!1),t.markJumpDestination(1,l),this.closeBreakScope(l,t),this.popSymbolTable(null),{type:null,isAssignable:!1,withReturnStatement:c}}}},{key:"processIf",value:function(e){var t=this.currentProgram.labelManager,n=this.processNode(e.condition);this.checkIfAssignmentInstedOfEqual(e.condition,null==n?void 0:n.type),null!=n&&n.type!=Gt&&this.pushError("Der Wert des Terms in Klammern hinter 'if' muss den Datentyp boolean besitzen.",e.condition.position);var i,o,a=t.insertJumpNode(r.jumpIfFalse,null,this),s=this.generateStatements(e.statementsIfTrue).withReturnStatement;return null!=e.statementsIfFalse&&(i=t.insertJumpNode(r.jumpAlways,null,this)),t.markJumpDestination(1,a),o=null!=e.statementsIfFalse&&0!=e.statementsIfFalse.length&&this.generateStatements(e.statementsIfFalse).withReturnStatement,null!=i&&t.markJumpDestination(1,i),{type:null,isAssignable:!1,withReturnStatement:s&&o}}},{key:"processFor",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo),this.generateStatements(e.statementsBefore);var n=t.markJumpDestination(1),i=this.processNode(e.condition);null!=i&&i.type!=Gt&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert der Bedingung muss den Datentyp boolean besitzen.",e.condition.position));var o=t.insertJumpNode(r.jumpIfFalse,null,this);this.openBreakScope(),this.openContinueScope();var a=this.generateStatements(e.statements),s=a.withReturnStatement,l=t.markJumpDestination(1);return this.closeContinueScope(l,t),this.generateStatements(e.statementsAfter),t.insertJumpNode(r.jumpAlways,a.endPosition,this,n),t.markJumpDestination(1,o),this.closeBreakScope(o,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:s}}},{key:"processForLoopOverCollection",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=this.nextFreeRelativeStackPos++,i=this.processNode(e.collection);if(null!=i){var o,a=i.type;this.pushStatements({type:r.popAndStoreIntoVariable,position:e.collection.position,stackposOfVariable:n,stepFinished:!1});var s=null;if(a instanceof fe)o=a.arrayOfType,s="array";else if(a instanceof J&&null!=a.getImplementedInterface("Iterable"))s=a.module.isSystemModule?"internalList":"userDefinedIterable",a.getImplementedInterface("Iterable"),o=0==a.typeVariables.length?Nt:a.typeVariables[0].type;else{if(!(a instanceof J&&"Group"==a.identifier))return this.pushError("Mit der vereinfachten for-Schleife (for identifier : collectionOrArray) kann man nur über Arrays oder Klassen, die das Interface Iterable implementieren, iterieren.",e.collection.position),null;s="group",o=this.moduleStore.getType("Shape").type}var l=e.variableType.resolvedType;if(null==l)return null;var u=l==Kt;if(u)l=o,e.variableType.resolvedType=o;else if(!o.canCastTo(l))return this.pushError("Der ElementTyp "+o.identifier+" der Collection kann nicht in den Typ "+l.identifier+" der Iterationsvariable "+e.variableIdentifier+" konvertiert werden.",e.position),null;this.localVariableDeclaration({type:r.localVariableDeclaration,identifier:e.variableIdentifier,initialization:null,isFinal:!1,position:e.variablePosition,variableType:e.variableType},!0);var c=this.nextFreeRelativeStackPos-1,d=this.nextFreeRelativeStackPos++;"array"==s||"internalList"==s||"group"==s?this.pushStatements([{type:r.extendedForLoopInit,position:e.position,stepFinished:!1,stackPosOfCollection:n,stackPosOfElement:c,typeOfElement:l,stackPosOfCounter:d}],!0):this.pushStatements([{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:d,stepFinished:!1},{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:n,stepFinished:!1},{type:r.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:a.getMethod("iterator",new x([])),stackframeBegin:-1},{type:r.assignment,position:e.position,stepFinished:!0,leaveValueOnStack:!1}],!0);var f,h,p=t.markJumpDestination(1);if("array"==s||"internalList"==s||"group"==s){var y={type:r.extendedForLoopCheckCounterAndGetElement,kind:s,position:e.variablePosition,stepFinished:!0,stackPosOfCollection:n,stackPosOfElement:c,stackPosOfCounter:d,destination:0};h=y,f=t.registerJumpNode(y),this.pushStatements(y)}else this.pushStatements([{type:r.pushLocalVariableToStack,position:e.variablePosition,stackposOfVariable:n,stepFinished:!1},{type:r.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:a.getMethod("hasNext",new x([])),stackframeBegin:-1}]),f=t.insertJumpNode(r.jumpIfFalse,null,this),this.pushStatements([{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:c,stepFinished:!1},{type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:n,stepFinished:!1},{type:r.callMethod,position:e.position,stepFinished:!1,isSuperCall:!1,method:a.getMethod("next",new x([])),stackframeBegin:-1},{type:r.assignment,position:e.position,stepFinished:!0,leaveValueOnStack:!1}]);if(!u){var v=this.currentProgram.statements.length;this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:c,stepFinished:!1}),this.ensureAutomaticCasting(o,l),this.currentProgram.statements.length<v+2?this.currentProgram.statements.pop():(this.pushStatements({type:r.popAndStoreIntoVariable,stackposOfVariable:c,position:e.position,stepFinished:!0}),h.stepFinished=!1)}this.openBreakScope(),this.openContinueScope();var m=this.generateStatements(e.statements),g=m.withReturnStatement,b=t.markJumpDestination(1);return this.closeContinueScope(b,t),t.insertJumpNode(r.jumpAlways,m.endPosition,this,p),t.markJumpDestination(1,f),this.closeBreakScope(f,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:g}}}},{key:"processWhile",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=t.markJumpDestination(1),i=this.processNode(e.condition);null!=i&&i.type!=Gt&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert des Terms in Klammern hinter 'while' muss den Datentyp boolean besitzen.",e.condition.position));var o=e.position;null!=e.condition&&(o=e.condition.position);var a=t.insertJumpNode(r.jumpIfFalse,o,this);this.openBreakScope(),this.openContinueScope();var s=this.currentProgram.statements.length,l=this.generateStatements(e.statements),u=l.withReturnStatement;return this.currentProgram.statements.length==s&&this.insertNoOp(e.scopeTo,!1),this.closeContinueScope(n,t),t.insertJumpNode(r.jumpAlways,l.endPosition,this,n),t.markJumpDestination(1,a),this.closeBreakScope(a,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:u}}},{key:"insertNoOp",value:function(e,t){this.pushStatements({type:r.noOp,position:e,stepFinished:t})}},{key:"processDo",value:function(e){var t=this.currentProgram.labelManager;this.pushNewSymbolTable(!1,e.scopeFrom,e.scopeTo);var n=t.markJumpDestination(1);this.openBreakScope(),this.openContinueScope();var i=this.currentProgram.statements.length,o=this.generateStatements(e.statements),a=o.withReturnStatement;this.currentProgram.statements.length==i&&this.insertNoOp(e.scopeTo,!1);var s=t.markJumpDestination(1);this.closeContinueScope(s,t);var l=this.processNode(e.condition);null!=l&&l.type!=Gt&&(this.checkIfAssignmentInstedOfEqual(e.condition),this.pushError("Der Wert des Terms in Klammern hinter 'while' muss den Datentyp boolean besitzen.",e.condition.position)),t.insertJumpNode(r.jumpIfTrue,o.endPosition,this,n);var u=t.markJumpDestination(1);return this.closeBreakScope(u,t),this.popSymbolTable(),{type:null,isAssignable:!1,withReturnStatement:a}}},{key:"newObject",value:function(e){var t;if(null==e.classType||null==e.classType.resolvedType)return null;var n=e.classType.resolvedType;if(!(n instanceof J))return this.pushError(e.classType.identifier+" ist keine Klasse, daher kann davon mit 'new' kein Objekt erzeugt werden.",e.position),null;if(n.isAbstract)return this.pushError("".concat(e.classType.identifier," ist eine abstrakte Klasse, daher kann von ihr mit 'new' kein Objekt instanziert werden. Falls ").concat(e.classType.identifier," nicht-abstrakte Kindklassen besitzt, könntest Du von DENEN mit new Objekte instanzieren..."),e.position),null;n.module!=this.module&&n.visibility!=_.public&&this.pushError("Die Klasse "+n.identifier+" ist hier nicht sichtbar.",e.position);var i={type:r.newObject,position:e.position,class:n,subsequentConstructorCall:!1,stepFinished:!0};this.pushStatements(i),this.pushTypePosition(e.rightBracketPosition,n);var o=[],a=[],s=this.currentProgram.statements;if((null===(t=e.constructorOperands)||void 0===t?void 0:t.length)>0)for(var l=0;l<e.constructorOperands.length;l++){var u=e.constructorOperands[l],c=this.processNode(u);a.push(s.length),null==c?o.push(Rt):o.push(c.type)}var d=ie(n,this.currentSymbolTable.classContext),f=n.getConstructor(o,d);if(this.module.pushMethodCallPosition(e.position,e.commaPositions,n.getMethods(_.public,n.identifier),e.rightBracketPosition),o.length>0||n.hasConstructor()){if(null!=f.error)return this.pushError(f.error,e.position),{type:n,isAssignable:!1};var h=f.methodList[0];this.pushUsagePosition(e.position,h);var p=null,y=this.currentSymbolTable.classContext;null!=y&&y instanceof J&&(p=y.staticClass),h.visibility==_.private&&n!=y&&n!=p&&(n==y||n!=p||y instanceof ee&&n==y.Klass||this.pushError("Die Konstruktormethode ist private und daher hier nicht sichtbar.",e.position));for(var v=null,m=0;m<o.length;m++){m<h.getParameterCount()&&(v=h.getParameterType(m),m==h.getParameterCount()-1&&h.hasEllipsis()&&(v=v.arrayOfType));var g=o[m],b=s.length;if(this.ensureAutomaticCasting(g,v,e.constructorOperands[m].position,e.constructorOperands[m])||this.pushError("Der Wert vom Datentyp "+g.identifier+" kann nicht als Parameter (Datentyp "+v.identifier+") verwendet werden.",e.constructorOperands[m].position),s.length>b){var w=s.splice(b,s.length-b);s.splice.apply(s,[a[m],0].concat(_n(w))),this.currentProgram.labelManager.correctPositionsAfterInsert(a[m],w.length)}}var k=0;if(h.hasEllipsis()){var S=o.length-h.getParameterCount()+1;k=-(S-1),this.pushStatements({type:r.makeEllipsisArray,position:e.constructorOperands[h.getParameterCount()-1].position,parameterCount:S,stepFinished:!1,arrayType:h.getParameter(h.getParameterCount()-1).type})}this.pushStatements({type:r.callMethod,method:h,position:e.position,isSuperCall:!1,stepFinished:null==n.getPostConstructorCallbacks(),stackframeBegin:-(o.length+1+k)},!0),i.subsequentConstructorCall=!0,i.stepFinished=!1}return null!=n.getPostConstructorCallbacks()&&this.pushStatements({type:r.processPostConstructorCallbacks,position:e.position,stepFinished:!0},!0),{type:n,isAssignable:!1}}},{key:"pushAttribute",value:function(e){if(null==e.object||null==e.identifier)return null;var t=this.processNode(e.object);if(null==t)return this.pushError("Links vom Punkt steht kein Objekt.",e.position),null;if(!(t.type instanceof J||t.type instanceof ee||t.type instanceof fe))return null==t.type?this.pushError("Der Ausdruck links vom Punkt hat kein Attribut "+e.identifier+".",e.position):this.pushError("Links vom Punkt steht ein Ausdruck vom Datentyp "+t.type.identifier+". Dieser hat kein Attribut "+e.identifier+".",e.position),null;var n=t.type;if(n instanceof J){var i,o=ie(n,this.currentSymbolTable.classContext),a=n.getAttribute(e.identifier,o),s=null;return null==a.attribute&&(s=n.staticClass.getAttribute(e.identifier,o)),null==a.attribute&&null==s.attribute?(a.foundButInvisible||!s.foundButInvisible?this.pushError(a.error,e.position):this.pushError(s.error,e.position),{type:n,isAssignable:!1}):(null!=a.attribute?(this.pushStatements({type:r.pushAttribute,position:e.position,attributeIndex:a.attribute.index,attributeIdentifier:a.attribute.identifier,useThisObject:!1}),i=a.attribute):(this.pushStatements([{type:r.decreaseStackpointer,position:e.position,popCount:1},{type:r.pushStaticAttribute,position:e.position,klass:s.staticClass,attributeIndex:s.attribute.index,attributeIdentifier:s.attribute.identifier}]),i=s.attribute),this.pushUsagePosition(e.position,i),{type:i.type,isAssignable:!i.isFinal})}if(n instanceof ee){if(n.Klass instanceof Fn)return this.removeLastStatement(),null==n.Klass.enumInfoList.find((function(t){return t.identifier==e.identifier}))&&this.pushError("Die enum-Klasse "+n.identifier+" hat keinen enum-Wert mit dem Bezeichner "+e.identifier,e.position),this.pushStatements({type:r.pushEnumValue,position:e.position,enumClass:n.Klass,valueIdentifier:e.identifier}),{type:n.Klass,isAssignable:!1};var l=ie(n,this.currentSymbolTable.classContext),u=n.getAttribute(e.identifier,l);return null!=u.attribute?(this.removeLastStatement(),this.pushStatements({type:r.pushStaticAttribute,position:e.position,attributeIndex:u.attribute.index,attributeIdentifier:u.attribute.identifier,klass:u.staticClass}),this.pushUsagePosition(e.position,u.attribute),{type:u.attribute.type,isAssignable:!u.attribute.isFinal}):(this.pushError(u.error,e.position),{type:n,isAssignable:!1})}if("length"!=e.identifier)return this.pushError("Der Wert vom Datentyp "+t.type.identifier+" hat kein Attribut "+e.identifier,e.position),null;this.pushStatements({type:r.pushArrayLength,position:e.position});var c=new j("length",Bt,null,!0,_.public,!0,"Länge des Arrays");return this.module.addIdentifierPosition(e.position,c),{type:Bt,isAssignable:!1}}},{key:"pushThisOrSuper",value:function(e,t){var n=this.currentSymbolTable.classContext;t&&null!=n&&(n=n.baseClass);var i=this.currentSymbolTable.method;return null==n||null==i?(this.pushError("Das Objekt "+(t?"super":"this")+" existiert nur innerhalb einer Methodendeklaration.",e.position),null):(this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0}),this.pushTypePosition(e.position,n),{type:n,isAssignable:!1,isSuper:t})}},{key:"superconstructorCall",value:function(e){var t=this.currentSymbolTable.classContext,n=e.type==r.superConstructorCall;n&&(null!=(null==t?void 0:t.baseClass)&&"Object"!=t.baseClass.identifier||this.pushError("Die Klasse ist nur Kindklasse der Klasse Object, daher ist der Aufruf des Superkonstruktors nicht möglich.",e.position));var i,o=this.currentSymbolTable.method;if(null==t||null==o||!o.isConstructor)return this.pushError("Ein Aufruf des Konstruktors oder des Superkonstructors ist nur innerhalb des Konstruktors einer Klasse möglich.",e.position),null;if(n){if((i=t.baseClass)instanceof ee)return this.pushError("Statische Methoden haben keine super-Methodenaufrufe.",e.position),{type:null,isAssignable:!1};null==i&&(i=this.moduleStore.getType("Object").type)}else if((i=t)instanceof ee)return this.pushError("Statische Methoden haben keine this-Methodenaufrufe.",e.position),{type:null,isAssignable:!1};this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0});var a=[];if(null!=e.operands){var s,l=!1,u=zn(e.operands);try{for(u.s();!(s=u.n()).done;){var c=s.value,d=this.processNode(c);null!=d?a.push(d.type):l=!0}}catch(e){u.e(e)}finally{u.f()}if(l)return{type:$t,isAssignable:!1}}var f=i.getConstructor(a,_.protected);if(this.module.pushMethodCallPosition(e.position,e.commaPositions,i.getMethods(_.protected,i.identifier),e.rightBracketPosition),null!=f.error)return this.pushError(f.error,e.position),{type:$t,isAssignable:!1};var h=f.methodList[0];this.pushUsagePosition(e.position,h);var p=0;if(h.hasEllipsis()){var y=a.length-h.getParameterCount()+1;p=-(y-1),this.pushStatements({type:r.makeEllipsisArray,position:e.operands[h.getParameterCount()-1].position,parameterCount:y,stepFinished:!1,arrayType:h.getParameter(h.getParameterCount()-1).type})}return this.pushStatements({type:r.callMethod,method:h,isSuperCall:n,position:e.position,stackframeBegin:-(a.length+1+p)}),{type:null,isAssignable:!1}}},{key:"incrementDecrementBeforeOrAfter",value:function(e){var t=this.processNode(e.operand);if(null!=t)return t.isAssignable?t.type.canCastTo(Lt)?(this.pushStatements({type:e.type,position:e.position,incrementDecrementBy:e.operator==r.doubleMinus?-1:1}),t):(this.pushError("Die Operatoren ++ und -- können nur auf Zahlen angewendet werden, nicht auf Werte des Datentyps "+t.type.identifier,e.position),t):(this.pushError("Die Operatoren ++ und -- können nur auf Variablen angewendet werden, nicht auf konstante Werte oder Rückgabewerte von Methoden.",e.position),t)}},{key:"selectArrayElement",value:function(e){var t=this.processNode(e.object),n=this.processNode(e.index);if(null!=t&&null!=n)return t.type instanceof fe?(this.module.addIdentifierPosition({line:e.position.line,column:e.position.column+e.position.length,length:0},t.type.arrayOfType),this.ensureAutomaticCasting(n.type,Bt)?(this.pushStatements({type:r.selectArrayElement,position:e.position}),{type:t.type.arrayOfType,isAssignable:t.isAssignable}):(this.pushError("Als Index eines Arrays wird ein ganzzahliger Wert erwartet. Gefunden wurde ein Wert vom Typ "+n.type.identifier+".",e.index.position),{type:t.type.arrayOfType,isAssignable:t.isAssignable})):(this.pushError("Der Typ der Variablen ist kein Array, daher ist [] nicht zulässig. ",e.object.position),null)}},{key:"pushTypePosition",value:function(e,t){null!=e&&(e.length>0&&(e={line:e.line,column:e.column+e.length,length:0}),this.module.addIdentifierPosition(e,t))}},{key:"pushUsagePosition",value:function(e,t){if(this.module.addIdentifierPosition(e,t),!(t instanceof P)){var n=t.usagePositions.get(this.module);null==n&&(n=[],t.usagePositions.set(this.module,n)),n.push(e)}}},{key:"resolveIdentifier",value:function(e){if(null==e.identifier)return null;var t=this.findLocalVariable(e.identifier);if(null!=t)return this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:t.stackPos}),this.pushUsagePosition(e.position,t),e.variable=t,{type:t.type,isAssignable:!t.isFinal};if(null!=this.heap){var n=this.heap[e.identifier];if(null!=n)return this.pushStatements({type:r.pushFromHeapToStack,position:e.position,identifier:e.identifier}),this.pushUsagePosition(e.position,n),e.variable=n,{type:n.type,isAssignable:!n.isFinal}}var i=this.findAttribute(e.identifier,e.position);if(null!=i){if(i.isStatic){for(var o=this.currentSymbolTable.classContext,a=o instanceof ee?o:o.staticClass;null!=a&&-1==a.attributes.indexOf(i);)a=a.baseClass;this.pushStatements({type:r.pushStaticAttribute,position:e.position,klass:a,attributeIndex:i.index,attributeIdentifier:i.identifier})}else this.pushStatements({type:r.pushAttribute,position:e.position,attributeIndex:i.index,attributeIdentifier:i.identifier,useThisObject:!0}),e.attribute=i;return this.pushUsagePosition(e.position,i),{type:i.type,isAssignable:!i.isFinal}}var s=this.moduleStore.getType(e.identifier);if(null!=s){var l=s.type;return l instanceof J||l instanceof te?(this.pushStatements({type:r.pushStaticClassObject,position:e.position,klass:l}),this.pushUsagePosition(e.position,l),{type:l instanceof J?l.staticClass:l,isAssignable:!1}):(this.pushError("Der Typ "+l.identifier+" hat keine statischen Attribute/Methoden.",e.position),{type:l,isAssignable:!1})}this.pushError("Der Bezeichner "+e.identifier+" ist hier nicht bekannt.",e.position)}},{key:"findLocalVariable",value:function(e){for(var t=this.currentSymbolTable;null!=t;){var n=t.variableMap.get(e);if(null!=n&&null!=n.stackPos)return n;t=t.parent}return null}},{key:"findAttribute",value:function(e,t){var n=this.currentSymbolTable.classContext;if(null==n)return null;var i=n.getAttribute(e,_.private);if(null!=i.attribute)return i.attribute;if(n instanceof J){var r=n.staticClass.getAttribute(e,_.private);if(null!=r.attribute)return r.attribute}return null}},{key:"callMethod",value:function(e){var t=null;if(null==e.object){var n=this.currentSymbolTable.classContext;if(null==n)return this.pushError("Ein Methodenaufruf (hier: "+e.identifier+") ohne Punktschreibweise ist nur innerhalb anderer Methoden möglich.",e.position),null;this.pushStatements({type:r.pushLocalVariableToStack,position:e.position,stackposOfVariable:0}),t={type:n,isAssignable:!1}}else t=this.processNode(e.object);if(null==t)return null;if(!(t.type instanceof J||t.type instanceof ee||t.type instanceof te&&(null!=e.object.variable||null!=e.object.attribute||null!=e.object.termInsideBrackets)||t.type instanceof Fn))return null==t.type?this.pushError("Werte dieses Datentyps besitzen keine Methoden.",e.position):t.type instanceof te?this.pushError("Methodendefinitionen eines Interfaces können nicht statisch aufgerufen werden.",e.position):this.pushError("Werte des Datentyps "+t.type.identifier+" besitzen keine Methoden.",e.position),null;var i,o=t.type,a=this.currentProgram.statements.length,s=[],l=[],u=this.currentProgram.statements;if(null!=e.operands)for(var c=0;c<e.operands.length;c++){var d=e.operands[c],f=this.processNode(d);l.push(u.length),null==f?s.push(Rt):s.push(f.type)}if(o instanceof te)i=o.getMethodsThatFitWithCasting(e.identifier,s,!1);else{var h=ie(o,this.currentSymbolTable.classContext);i=o.getMethodsThatFitWithCasting(e.identifier,s,!1,h)}if(this.module.pushMethodCallPosition(e.position,e.commaPositions,o.getMethods(_.private,e.identifier),e.rightBracketPosition),null!=i.error)return this.pushError(i.error,e.position),{type:$t,isAssignable:!1};var p=i.methodList[0];this.pushUsagePosition(e.position,p),p.isStatic&&o instanceof J&&"PrintStream"!=o.identifier&&(this.pushError("Es ist kein guter Programmierstil, statische Methoden einer Klasse mithilfe eines Objekts aufzurufen. Besser wäre hier "+o.identifier+"."+p.identifier+"(...).",e.position,"info"),this.insertStatements(a,[{type:r.decreaseStackpointer,position:e.position,popCount:1},{type:r.pushStaticClassObject,position:e.position,klass:o}]));for(var y=null,v=0;v<s.length;v++){v<p.getParameterCount()&&(y=p.getParameterType(v),v==p.getParameterCount()-1&&p.hasEllipsis()&&(y=y.arrayOfType));var m=s[v],g=u.length;if(this.ensureAutomaticCasting(m,y,e.operands[v].position,e.operands[v])||this.pushError("Der Wert vom Datentyp "+m.identifier+" kann nicht als Parameter (Datentyp "+y.identifier+") verwendet werden.",e.operands[v].position),u.length>g){var b=u.splice(g,u.length-g);u.splice.apply(u,[l[v],0].concat(_n(b))),this.currentProgram.labelManager.correctPositionsAfterInsert(l[v],b.length)}}var w=0;if(p.hasEllipsis()){var k=s.length-p.getParameterCount()+1;w=-(k-1),this.pushStatements({type:r.makeEllipsisArray,position:e.operands[p.getParameterCount()-1].position,parameterCount:k,stepFinished:!1,arrayType:p.getParameter(p.getParameterCount()-1).type})}if(p.visibility!=_.public){var S=!0,P=this.currentSymbolTable.classContext;null==P?S=!1:P==o||P instanceof J&&P.implements.indexOf(o)>0||(S=p.visibility!=_.private&&P.hasAncestorOrIs(o)),S||this.pushError("Die Methode "+p.identifier+" ist an dieser Stelle des Programms nicht sichtbar.",e.position)}var j=!1;if(p.isStatic&&null!=t.type&&t.type instanceof ee)switch(t.type.Klass.identifier){case"Input":this.pushStatements({type:r.callInputMethod,method:p,position:e.position,stepFinished:!0,stackframeBegin:-(s.length+1+w)}),j=!0;break;case"SystemTools":case"Robot":["pause","warten"].indexOf(p.identifier)>=0&&(this.pushStatements([{type:r.setPauseDuration,position:e.position,stepFinished:!0},{type:r.pause,position:e.position,stepFinished:!0}]),j=!0)}return j||this.pushStatements({type:r.callMethod,method:p,position:e.position,isSuperCall:null!=t.isSuper&&t.isSuper,stepFinished:!0,stackframeBegin:-(s.length+1+w)}),this.pushTypePosition(e.rightBracketPosition,p.getReturnType()),{type:p.getReturnType(),isAssignable:!1}}},{key:"pushConstant",value:function(e){var t;switch(e.constantType){case r.integerConstant:t=Bt;break;case r.booleanConstant:t=Gt;break;case r.floatingPointConstant:t=Lt;break;case r.stringConstant:t=$t,this.pushTypePosition(e.position,t);break;case r.charConstant:t=Ht;break;case r.keywordNull:t=Vt}return this.pushStatements({type:r.pushConstant,dataType:t,position:e.position,value:e.constant}),{type:t,isAssignable:!1}}},{key:"processBinaryOp",value:function(t){var n=e.assignmentOperators.indexOf(t.operator)>=0;if(t.operator==r.ternaryOperator)return this.processTernaryOperator(t);var i=this.processNode(t.firstOperand,n),o=this.currentProgram.statements.length,s=null;t.operator==r.and?s=this.currentProgram.labelManager.insertJumpNode(r.jumpIfFalseAndLeaveOnStack,t.firstOperand.position,this):t.operator==r.or&&(s=this.currentProgram.labelManager.insertJumpNode(r.jumpIfTrueAndLeaveOnStack,t.firstOperand.position,this));var l=this.processNode(t.secondOperand);if(null==i||null==i.type||null==l||null==l.type)return null;if(n){if(!this.ensureAutomaticCasting(l.type,i.type,t.position,t.firstOperand))return this.pushError("Der Wert vom Datentyp "+l.type.identifier+" auf der rechten Seite kann der Variablen auf der linken Seite (Datentyp "+i.type.identifier+") nicht zugewiesen werden.",t.position),i;i.isAssignable||this.pushError("Dem Term/der Variablen auf der linken Seite des Zuweisungsoperators (=) kann kein Wert zugewiesen werden.",t.position);var u={type:t.operator,position:t.position,stepFinished:!0,leaveValueOnStack:!0};return this.pushStatements(u),i}if(t.firstOperand.type==r.identifier&&null!=t.firstOperand.variable){var c=t.firstOperand.variable;null==c.initialized||c.initialized||(c.usedBeforeInitialization=!0,this.pushError("Die Variable "+c.identifier+" wird hier benutzt bevor sie initialisiert wurde.",t.position,"info"))}var d=i.type.getResultType(t.operator,l.type),f=i.type.unboxableAs,h=l.type.unboxableAs;if(null==d&&(null!=f||null!=h)){var p,y=null==f?[i.type]:f,v=null==h?[l.type]:h,m=zn(y);try{for(m.s();!(p=m.n()).done;){var g,b=p.value,w=zn(v);try{for(w.s();!(g=w.n()).done;){var k=g.value;if(null!=(d=b.getResultType(t.operator,k))){i.type=b,l.type=k;break}}}catch(e){w.e(e)}finally{w.f()}if(null!=d)break}}catch(e){m.e(e)}finally{m.f()}}if(null==d&&t.operator==r.plus&&(i.type instanceof J&&l.type==$t?(this.insertStatements(o,this.getToStringStatement(i.type,t.firstOperand.position)),d=$t,i.type=$t):l.type instanceof J&&i.type==$t&&(this.pushStatements(this.getToStringStatement(l.type,t.firstOperand.position)),d=$t)),t.operator in[r.and,r.or]&&(this.checkIfAssignmentInstedOfEqual(t.firstOperand),this.checkIfAssignmentInstedOfEqual(t.secondOperand)),null==d){var S=[r.ampersand,r.OR].indexOf(t.operator);return S>=0&&i.type==Gt&&l.type==Gt?this.pushError("Die Operation "+a[t.operator]+" ist für die Operanden der Typen "+i.type.identifier+" und "+l.type.identifier+" nicht definiert. Du meintest wahrscheinlich den Operator "+["&& (boolescher UND-Operator)","|| (boolescher ODER-Operator)"][S]+".",t.position,"error",{title:"Operator "+["& &","||"][S]+" verwenden statt "+a[t.operator],editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:t.position.line,startColumn:t.position.column,endLineNumber:t.position.line,endColumn:t.position.column},text:a[t.operator]}}]}}):this.pushError("Die Operation "+a[t.operator]+" ist für die Operanden der Typen "+i.type.identifier+" und "+l.type.identifier+" nicht definiert.",t.position),i}return this.pushStatements({type:r.binaryOp,leftType:i.type,operator:t.operator,position:t.position}),null!=s&&this.currentProgram.labelManager.markJumpDestination(1,s),{type:d,isAssignable:!1}}},{key:"processTernaryOperator",value:function(e){var t=this.processNode(e.firstOperand);if(null!=t&&this.ensureAutomaticCasting(t.type,Gt,null,e.firstOperand)){var n=e.secondOperand;if(null!=n){if(n.type==r.binaryOp&&n.operator==r.colon){var i=this.currentProgram.labelManager,o=i.insertJumpNode(r.jumpIfFalse,e.position,this),a=this.processNode(n.firstOperand),s=i.insertJumpNode(r.jumpAlways,n.firstOperand.position,this);i.markJumpDestination(1,o);var l=this.processNode(n.secondOperand);i.markJumpDestination(1,s);var u=a.type;return null!=l&&u!=l.type&&u.canCastTo(l.type)&&(u=l.type),{type:u,isAssignable:!1}}this.pushError("Auf den Fragezeichenoperator müssen - mit Doppelpunkt getrennt - zwei Alternativterme folgen.",e.position)}}}},{key:"processUnaryOp",value:function(e){var t=this.processNode(e.operand);if(null!=t&&null!=t.type)return e.operator!=r.minus||t.type.canCastTo(Lt)?e.operator==r.not&&t.type!=Gt?(this.checkIfAssignmentInstedOfEqual(e.operand),this.pushError("Der Operator ! ist für den Typ "+t.type.identifier+" nicht definiert.",e.position),t):(this.pushStatements({type:r.unaryOp,operator:e.operator,position:e.position}),t):(this.pushError("Der Operator - ist für den Typ "+t.type.identifier+" nicht definiert.",e.position),t)}}])&&Ln(t.prototype,n),i&&Ln(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Gn.assignmentOperators=[r.assignment,r.plusAssignment,r.minusAssignment,r.multiplicationAssignment,r.divisionAssignment,r.ANDAssigment,r.ORAssigment,r.XORAssigment,r.shiftLeftAssigment,r.shiftRightAssigment,r.shiftRightUnsignedAssigment];var Kn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isInConsoleMode=t,this.lookahead=4,this.endToken={position:{line:0,column:0,length:1},tt:r.endofSourcecode,value:"das Ende des Programms"},this.tokensNotAfterCasting=[r.multiplication,r.division,r.plus,r.minus,r.dot,r.modulo,r.semicolon,r.rightBracket]}var t,n,i;return t=e,(n=[{key:"parse",value:function(e){if(this.module=e,this.tokenList=e.tokenList,this.errorList=[],0==this.tokenList.length)return this.module.mainProgramAst=[],this.module.classDefinitionsAST=[],this.module.typeNodes=[],void(this.module.errors[1]=this.errorList);this.pos=0,this.initializeLookahead(),this.typeNodes=[];var t=this.tokenList[this.tokenList.length-1];this.endToken.position={line:t.position.line,column:t.position.column+t.position.length,length:1};var n=this.parseMain();this.module.mainProgramAst=n.mainProgramAST,this.module.classDefinitionsAST=n.classDefinitionAST,this.module.mainProgramEnd=n.mainProgramEnd,this.module.typeNodes=this.typeNodes,this.module.errors[1]=this.errorList}},{key:"initializeLookahead",value:function(){this.ct=[];for(var e=0;e<this.lookahead;e++){for(var t=this.endToken;!(this.pos>=this.tokenList.length);){var n=this.tokenList[this.pos];if(n.tt==r.comment&&(this.lastComment=n),n.tt!=r.newline&&n.tt!=r.space&&n.tt!=r.comment){t=n,null!=this.lastComment&&(t.commentBefore=this.lastComment,this.lastComment=null);break}this.pos++}this.ct.push(t),e<this.lookahead-1&&this.pos++}this.cct=this.ct[0],this.tt=this.cct.tt,this.position=this.cct.position}},{key:"nextToken",value:function(){var e;for(this.lastToken=this.cct;;){if(this.pos++,this.pos>=this.tokenList.length){e=this.endToken;break}if((e=this.tokenList[this.pos]).tt==r.comment&&(this.lastComment=e),e.tt!=r.newline&&e.tt!=r.space&&e.tt!=r.comment){e.commentBefore=this.lastComment,this.lastComment=null;break}}for(var t=0;t<this.lookahead-1;t++)this.ct[t]=this.ct[t+1];this.ct[this.lookahead-1]=e,this.cct=this.ct[0],this.tt=this.cct.tt,this.position=this.cct.position}},{key:"pushError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;null==n&&(n=Object.assign({},this.position)),this.errorList.push({text:e,position:n,quickFix:i,level:t})}},{key:"expect",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.tt!=e){if(e==r.semicolon&&this.tt==r.endofSourcecode)return!0;var i=this.cct.position;e==r.semicolon&&null!=this.lastToken&&this.lastToken.position.line<i.line&&(i={line:this.lastToken.position.line,column:this.lastToken.position.column+this.lastToken.position.length,length:1});var o=null;return e==r.semicolon&&this.lastToken.position.line<this.cct.position.line&&!this.isOperatorOrDot(this.lastToken.tt)&&(o={title:"Strichpunkt hier einfügen",editsProvider:function(e){return[{resource:e,edit:{range:{startLineNumber:i.line,startColumn:i.column,endLineNumber:i.line,endColumn:i.column,message:"",severity:monaco.MarkerSeverity.Error},text:";"}}]}},n&&this.errorList.length<3&&this.module.main.getSemicolonAngel().register(i,this.module)),this.pushError("Erwartet wird: "+a[e]+" - Gefunden wurde: "+a[this.tt],"error",i,o),!1}return t&&this.nextToken(),!0}},{key:"isOperatorOrDot",value:function(t){if(t==r.dot)return!0;var n,i=$n(e.operatorPrecedence);try{for(i.s();!(n=i.n()).done;){var o,a=$n(n.value);try{for(a.s();!(o=a.n()).done;)if(t==o.value)return!0}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}}},{key:"isEnd",value:function(){return this.cct==this.endToken}},{key:"comesToken",value:function(e){return Array.isArray(e)?e.indexOf(this.tt)>=0:this.tt==e}},{key:"getCurrentPosition",value:function(){return Object.assign({},this.position)}},{key:"getEndOfCurrentToken",value:function(){var e=this.getCurrentPosition();return e.column=e.column+this.position.length,e.length=0,e}},{key:"parseMain",value:function(){for(var t=[],n=[],i={column:0,line:1e4,length:1};!this.isEnd();){var r=this.pos;if(this.comesToken(e.BeforeClassDefinitionTokens)){var o=this.parseClassDefinition();null!=o&&(n=n.concat(o))}else{var a=this.parseStatement();null!=a&&(t=t.concat(a)),i=this.getCurrentPosition()}this.pos==r&&(this.pos++,this.initializeLookahead())}return{mainProgramAST:t,classDefinitionAST:n,mainProgramEnd:i}}},{key:"checkIfStatementHasNoEffekt",value:function(t){if(!this.isInConsoleMode)if(t.type==r.binaryOp&&e.assignmentOperators.indexOf(t.operator)<0){var n="dieses Terms";switch(t.operator){case r.plus:n="dieser Summe";break;case r.minus:n="dieser Differenz";break;case r.multiplication:n="dieses Produkts";break;case r.division:n="dieses Quotienten"}n+=" (Operator "+a[t.operator]+")",this.pushError("Der Wert ".concat(n," wird zwar berechnet, aber danach verworfen. Möchtest Du ihn vielleicht einer Variablen zuweisen?"),"info",t.position)}else[r.unaryOp,r.pushConstant,r.identifier,r.selectArrayElement].indexOf(t.type)>=0&&this.pushError("Der Wert dieses Terms wird zwar berechnet, aber danach verworfen. Möchtest Du ihn vielleicht einer Variablen zuweisen?","info",t.position)}},{key:"parseStatement",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=null;switch(this.tt){case r.leftBracket:case r.identifier:case r.keywordThis:case r.keywordSuper:case r.keywordFinal:case r.charConstant:case r.integerConstant:case r.stringConstant:case r.booleanConstant:case r.floatingPointConstant:case r.keywordNew:var i=this.parseVariableDeclarationOrTerm();t&&this.expect(r.semicolon,!0,!0),n=i;break;case r.leftCurlyBracket:var o=[],s=this.getCurrentPosition();for(this.nextToken();this.tt!=r.rightCurlyBracket&&this.tt!=r.endofSourcecode&&e.BeforeClassDefinitionTokens.indexOf(this.tt)<0;)o=o.concat(this.parseStatement());var l=this.getCurrentPosition();l.column=l.column+l.length,l.length=0,this.expect(r.rightCurlyBracket),n=[{type:r.scopeNode,position:s,positionTo:l,statements:o}];break;case r.keywordWhile:n=this.parseWhile();break;case r.keywordFor:n=this.parseFor();break;case r.keywordDo:n=this.parseDo();break;case r.keywordIf:n=this.parseIf();break;case r.keywordReturn:n=this.parseReturn();break;case r.keywordPrint:case r.keywordPrintln:n=this.parsePrint();break;case r.keywordSwitch:n=this.parseSwitch();break;case r.keywordBreak:var u=this.getCurrentPosition();this.nextToken(),n=[{type:r.keywordBreak,position:u}];break;case r.keywordContinue:var c=this.getCurrentPosition();this.nextToken(),n=[{type:r.keywordContinue,position:c}];break;case r.semicolon:break;default:var d=a[this.tt];d!=this.cct.value&&(d+="("+this.cct.value+")"),d+=" wird hier nicht erwartet.",this.pushError(d);var f=e.BeforeClassDefinitionTokens.indexOf(this.tt)>=0;f||this.nextToken()}if(null==n)for(;this.tt==r.semicolon&&t;)this.nextToken();if(null!=n&&n.length>0){var h=n[n.length-1];null!=h?this.checkIfStatementHasNoEffekt(n[n.length-1]):n=null}return n}},{key:"parseReturn",value:function(){var e,t=this.getCurrentPosition();return this.nextToken(),this.tt!=r.semicolon&&(e=this.parseTerm(),this.expect(r.semicolon,!0,!0)),[{type:r.keywordReturn,position:t,term:e}]}},{key:"parseWhile",value:function(){var e=this.getCurrentPosition();this.nextToken();var t=this.getCurrentPosition();if(this.expect(r.leftBracket,!0)){var n=this.parseTerm(),i=this.getCurrentPosition();this.module.pushMethodCallPosition(e,[],"while",i),this.expect(r.rightBracket,!0),this.tt==r.semicolon&&this.pushError("Diese while-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var o=this.parseStatement(),a=this.getCurrentPosition();return a.length=0,null!=o&&o.length>0&&o[0].type==r.scopeNode&&(a=o[0].positionTo),[{type:r.keywordWhile,position:e,scopeFrom:t,scopeTo:a,condition:n,statements:o}]}return[]}},{key:"parseFor",value:function(){var e=this.getCurrentPosition(),t=[];this.nextToken();var n=this.getCurrentPosition();if(this.expect(r.leftBracket,!0)){if(this.ct[2].tt==r.colon)return this.parseForLoopOverCollection(e,n);var i=this.parseStatement(!1);t.push(this.getCurrentPosition()),this.expect(r.semicolon);var o=this.parseTerm();t.push(this.getCurrentPosition()),this.expect(r.semicolon,!0);var a=this.parseStatement(!1),s=this.getCurrentPosition();this.expect(r.rightBracket,!0),this.module.pushMethodCallPosition(e,t,"for",s),this.tt==r.semicolon&&this.pushError("Diese for-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var l=this.parseStatement(),u=this.getCurrentPosition();return u.length=0,null!=l&&l.length>0&&l[0].type==r.scopeNode&&(u=l[0].positionTo),null==o&&(o={type:r.pushConstant,position:this.getCurrentPosition(),constantType:r.booleanConstant,constant:!0}),[{type:r.keywordFor,position:e,scopeFrom:n,scopeTo:u,condition:o,statementsBefore:i,statementsAfter:a,statements:l}]}return[]}},{key:"parseForLoopOverCollection",value:function(e,t){var n=this.parseType(),i=this.cct.value,o=this.getCurrentPosition();this.nextToken(),this.expect(r.colon,!0);var a=this.parseTerm();this.expect(r.rightBracket,!0),this.tt==r.semicolon&&this.pushError("Diese for-loop wiederholt nur den Strichpunkt (leere Anweisung).","warning");var s=this.parseStatement(),l=this.getCurrentPosition();return l.length=0,null!=s&&s.length>0&&s[0].type==r.scopeNode&&(l=s[0].positionTo),null==a||null==n||null==s?[]:[{type:r.forLoopOverCollection,position:e,scopeFrom:t,scopeTo:l,variableIdentifier:i,variableType:n,variablePosition:o,collection:a,statements:s}]}},{key:"parsePrint",value:function(){var e=this.tt,t=this.getCurrentPosition();if(this.nextToken(),this.expect(r.leftBracket,!1)){var n=this.parseMethodCallParameters(),i=n.nodes;return i.length>2&&this.pushError("Die Methoden print und println haben maximal zwei Parameter.","error",t),this.expect(r.semicolon,!0,!0),[{type:e,position:t,text:0==i.length?null:i[0],color:i.length<=1?null:i[1],commaPositions:n.commaPositions,rightBracketPosition:n.rightBracketPosition}]}return null}},{key:"parseSwitch",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.expect(r.leftBracket,!0)){var t=this.parseTerm();this.module.pushMethodCallPosition(e,[],"switch",this.getCurrentPosition()),this.expect(r.rightBracket);var n=this.getCurrentPosition();this.expect(r.leftCurlyBracket,!0);for(var i={type:r.keywordSwitch,position:e,scopeFrom:n,scopeTo:null,condition:t,caseNodes:[]},o=!1;this.tt==r.keywordCase||this.tt==r.keywordDefault;){var a=this.getCurrentPosition(),s=this.tt==r.keywordDefault;s&&(o?this.pushError("Eine switch-Anweisung darf nur maximal einen default-Zweig haben.","error",a):o=!0),this.nextToken();var l=null;s||(l=this.parseUnary()),this.expect(r.colon,!0);for(var u=[];this.tt!=r.rightCurlyBracket&&this.tt!=r.endofSourcecode&&this.tt!=r.keywordCase&&this.tt!=r.keywordDefault;){var c=this.pos,d=this.parseStatement();null!=d&&(u=u.concat(d)),c==this.pos&&(this.pushError(this.cct.value+" wird hier nicht erwartet."),this.nextToken())}var f={type:r.keywordCase,position:a,caseTerm:l,statements:u};i.caseNodes.push(f)}return i.scopeTo=this.getEndOfCurrentToken(),this.expect(r.rightCurlyBracket,!0),[i]}return null}},{key:"parseIf",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.expect(r.leftBracket,!0)){var t=this.parseTerm(),n=this.getCurrentPosition();this.module.pushMethodCallPosition(e,[],"if",n),this.expect(r.rightBracket,!0),this.tt==r.semicolon&&this.pushError("Falls die Bedingung zutrifft, wird nur der Strichpunkt ausgeführt (leere Anweisung).","warning");var i=this.parseStatement();this.tt==r.semicolon&&this.nextToken();var o=null;return this.comesToken(r.keywordElse)&&(this.nextToken(),o=this.parseStatement()),null==t&&0==this.errorList.length&&(t={type:r.pushConstant,position:this.getCurrentPosition(),constantType:r.booleanConstant,constant:!0}),[{type:r.keywordIf,position:e,condition:t,statementsIfTrue:i,statementsIfFalse:o}]}return[]}},{key:"parseDo",value:function(){var e=this.getCurrentPosition(),t=this.getCurrentPosition();this.nextToken();var n=this.parseStatement();if(this.expect(r.keywordWhile,!0)&&this.expect(r.leftBracket,!0)){var i=this.parseTerm(),o=this.getEndOfCurrentToken();return this.expect(r.rightBracket,!0),[{type:r.keywordDo,position:e,scopeFrom:t,scopeTo:o,condition:i,statements:n}]}return[]}},{key:"comesGenericType",value:function(){return this.ct[1].tt==r.lower&&this.ct[2].tt==r.identifier&&(this.ct[3].tt==r.greater||this.ct[3].tt==r.comma)}},{key:"parseVariableDeclarationOrTerm",value:function(){if(this.tt!=r.identifier&&this.tt!=r.keywordFinal||this.ct[1].tt!=r.identifier&&this.ct[1].tt!=r.leftRightSquareBracket&&!this.comesGenericType())return[this.parseTerm()];var e=[],t=null;do{null!=t&&this.expect(r.comma,!0);var n=this.parseVariableDeclaration(t);e.push(n),t=null==n?void 0:n.variableType}while(this.tt==r.comma);return e}},{key:"parseTerm",value:function(){return this.parseTermBinary(0)}},{key:"parseTermBinary",value:function(t){var n,i=this;n=t<e.operatorPrecedence.length-1?this.parseTermBinary(t+1):this.parsePlusPlusMinusMinus();var o=e.operatorPrecedence[t];if(null==n||o.indexOf(this.tt)<0)return n;for(var a=!0,s=function(){var o=i.tt;a=!1;var s=i.getCurrentPosition();i.nextToken();for(var l=function(){var e=c[u];if(o==r.assignment&&i.tt==e.op){var t=i.getCurrentPosition();i.pushError("Den Operator ".concat(e.wrong," gibt es nicht. Du meintest sicher: ").concat(e.right),"error",Object.assign({},s,{length:2}),{title:"".concat(e.wrong," durch ").concat(e.right," ersetzen"),editsProvider:function(n){return[{resource:n,edit:{range:{startLineNumber:s.line,startColumn:s.column,endLineNumber:s.line,endColumn:t.column+t.length},text:e.right}}]}}),i.nextToken(),o=e.correctOp}},u=0,c=[{op:r.lower,wrong:"=<",right:"<=",correctOp:r.lowerOrEqual},{op:r.greater,wrong:"=>",right:">=",correctOp:r.greaterOrEqual}];u<c.length;u++)l();var d=void 0;if(null!=(d=t<e.operatorPrecedence.length-1?i.parseTermBinary(t+1):i.parsePlusPlusMinusMinus())){var f=!1;if(i.isConstant(n)&&i.isConstant(d)){var h=n,p=d,y=Yt[h.constantType],v=Yt[p.constantType],m=y.getResultType(o,v);if(null!=m){f=!0;var g=y.compute(o,{type:y,value:h.constant},{type:v,value:p.constant});i.considerIntDivisionWarning(o,y,h.constant,v,p.constant,s),h.constantType=m.toTokenType(),h.constant=g,h.position.length=p.position.column+p.position.length-h.position.column}}f||(n={type:r.binaryOp,position:s,operator:o,firstOperand:n,secondOperand:d})}};a||o.indexOf(this.tt)>=0;)s();return n}},{key:"considerIntDivisionWarning",value:function(e,t,n,i,o,a){e==r.division&&this.isIntegerType(t)&&this.isIntegerType(i)&&0!=o&&n/o!=Math.floor(n/o)&&this.pushError("Da "+n+" und "+o+" ganzzahlige Werte sind, wird diese Division als Ganzzahldivision ausgeführt und ergibt den Wert "+Math.floor(n/o)+". Falls das nicht gewünscht ist, hänge '.0' an einen der Operanden.","info",a)}},{key:"isIntegerType",value:function(e){return e==Bt}},{key:"isConstant",value:function(e){return null!=e&&e.type==r.pushConstant}},{key:"parsePlusPlusMinusMinus",value:function(){var e=null,t=null;this.comesToken([r.doublePlus,r.doubleMinus])&&(e=this.tt,t=this.getCurrentPosition(),this.nextToken());var n=this.parseUnary();return null!=e&&(n={type:r.incrementDecrementBefore,position:t,operator:e,operand:n}),this.comesToken([r.doublePlus,r.doubleMinus])&&(n={type:r.incrementDecrementAfter,position:this.getCurrentPosition(),operator:this.tt,operand:n},this.nextToken()),n}},{key:"parseUnary",value:function(){var e,t=this.getCurrentPosition();switch(this.tt){case r.leftBracket:return this.parseDotOrArrayChains(this.bracketOrCasting());case r.minus:case r.not:case r.tilde:t=t;var n=this.tt;if(this.nextToken(),e=this.parseUnary(),this.isConstant(e)){var i=e,o=Yt[i.constantType],a=o.getResultType(n);if(null!=a){var s=o.compute(n,{type:o,value:i.constant});return i.constantType=a.toTokenType(),i.constant=s,t.length=i.position.column-t.column+1,i}}return{type:r.unaryOp,position:t,operand:e,operator:n};case r.keywordSuper:if(this.ct[1].tt==r.leftBracket){this.nextToken();var l=this.parseMethodCallParameters();return e={type:r.superConstructorCall,position:t,operands:l.nodes,commaPositions:l.commaPositions,rightBracketPosition:l.rightBracketPosition}}return e={type:r.keywordSuper,position:t},this.nextToken(),this.parseDotOrArrayChains(e);case r.keywordThis:if(this.ct[1].tt==r.leftBracket){this.nextToken();var u=this.parseMethodCallParameters();return e={type:r.constructorCall,position:t,operands:u.nodes,commaPositions:u.commaPositions,rightBracketPosition:u.rightBracketPosition}}return e={type:r.keywordThis,position:t},this.nextToken(),this.parseDotOrArrayChains(e);case r.keywordNew:return this.parseDotOrArrayChains(this.parseNew());case r.integerConstant:case r.charConstant:case r.floatingPointConstant:case r.stringConstant:case r.booleanConstant:e={type:r.pushConstant,position:this.getCurrentPosition(),constantType:this.tt,constant:this.cct.value};var c=this.tt==r.stringConstant;return this.nextToken(),c?this.parseDotOrArrayChains(e):e;case r.keywordNull:return e={type:r.pushConstant,position:this.getCurrentPosition(),constantType:r.keywordNull,constant:null},this.nextToken(),e;case r.identifier:var d=this.cct.value,f=this.getCurrentPosition();if(this.nextToken(),this.tt==r.leftBracket){var h=this.parseMethodCallParameters(),p=h.rightBracketPosition;e={type:r.callMethod,position:f,rightBracketPosition:p,operands:h.nodes,object:e,identifier:d,commaPositions:h.commaPositions}}else e={type:r.identifier,identifier:d,position:t};return this.parseDotOrArrayChains(e);default:return this.pushError("Erwartet wird eine Variable, ein Methodenaufruf oder this oder super. Gefunden wurde: "+this.cct.value),null}}},{key:"bracketOrCasting",value:function(){var e=this.getCurrentPosition();if(this.nextToken(),this.tt==r.identifier&&this.ct[1].tt==r.rightBracket&&this.tokensNotAfterCasting.indexOf(this.ct[2].tt)<0){var t=this.parseType(),n=this.getCurrentPosition();e.length=n.column-e.column+1,this.expect(r.rightBracket,!0);var i=this.parsePlusPlusMinusMinus();return{type:r.castValue,position:e,castToType:t,whatToCast:i}}var o=this.parseTerm(),a=this.getCurrentPosition();return this.expect(r.rightBracket,!0),this.isConstant(o)?o:{position:a,type:r.rightBracket,termInsideBrackets:o}}},{key:"parseNew",value:function(){this.nextToken();var e=this.getCurrentPosition();if(this.expect(r.identifier,!1)){var t=this.cct.value,n=this.getCurrentPosition();this.nextToken();var i=null;if(this.tt==r.lower){i=[];var o=!0;for(this.nextToken();o&&this.tt==r.identifier||!o&&this.tt==r.comma;)o||this.nextToken(),o=!1,i.push(this.parseType());this.expect(r.greater),0==i.length&&(i=null)}if(this.tt==r.leftSquareBracket||this.tt==r.leftRightSquareBracket){var a={type:r.type,position:e,arrayDimension:0,identifier:t,genericParameterTypes:i};this.typeNodes.push(a);for(var s=[];this.tt==r.leftSquareBracket||this.tt==r.leftRightSquareBracket;)a.arrayDimension++,this.tt==r.leftRightSquareBracket?(s.push(null),this.nextToken()):(this.nextToken(),s.push(this.parseTerm()),this.expect(r.rightSquareBracket,!0));var l=null;return this.tt==r.leftCurlyBracket&&(l=this.parseArrayLiteral(a)),{type:r.newArray,position:e,arrayType:a,elementCount:s,initialization:l}}if(this.tt==r.leftBracket){var u=this.parseMethodCallParameters(),c={type:r.type,position:n,arrayDimension:0,identifier:t,genericParameterTypes:i};return this.typeNodes.push(c),{type:r.newObject,position:e,classType:c,constructorOperands:u.nodes,rightBracketPosition:u.rightBracketPosition,commaPositions:u.commaPositions}}this.pushError("Konstruktoraufruf (also runde Klammer auf) oder Array-Intanzierung (eckige Klammer auf) erwartet.","error",this.getCurrentPosition())}return null}},{key:"parseArrayLiteral",value:function(e){var t=[],n=this.getCurrentPosition(),i=null;if(this.expect(r.leftCurlyBracket,!0),this.tt!=r.rightCurlyBracket)for(var o=!0;o||this.tt==r.comma;){var a=this.getCurrentPosition();o||this.nextToken(),o=!1;var s=void 0;if(this.tt==r.leftCurlyBracket){var l={type:r.type,position:this.getCurrentPosition(),arrayDimension:e.arrayDimension-1,identifier:e.identifier};this.typeNodes.push(l);var u=this.parseArrayLiteral(l);s=u.dimension+1,t.push(u)}else t.push(this.parseTerm()),s=1;null!=i&&i!=s&&this.pushError("Die Dimension dieses Array-Literals ("+(s-1)+" ist ungleich derjenigen der vorangegangenen Array-Literale ("+(i-1)+").","error",a),i=s}return this.expect(r.rightCurlyBracket,!0),{type:r.arrayInitialization,position:n,arrayType:e,dimension:i,nodes:t}}},{key:"parseMethodCallParameters",value:function(){if(this.nextToken(),this.tt==r.rightBracket){var e=this.getCurrentPosition();return this.nextToken(),{rightBracketPosition:e,nodes:[],commaPositions:[]}}for(var t=[],n=[];;){var i=this.pos,o=this.parseTerm();if(null!=o&&t.push(o),this.tt!=r.comma)break;n.push(this.getCurrentPosition()),this.nextToken(),this.pos==i&&this.nextToken()}var a=this.getCurrentPosition();return{rightBracketPosition:this.expect(r.rightBracket,!0)?a:null,nodes:t,commaPositions:n}}},{key:"parseDotOrArrayChains",value:function(e){if(null==e)return null;for(;this.comesToken([r.dot,r.leftSquareBracket]);)if(this.tt==r.dot){if(this.nextToken(),this.tt!=r.identifier)return this.pushError("Erwartet wird der Bezeichner eines Attributs oder einer Methode, gefunden wurde: "+this.cct.value),e;var t=this.cct.value,n=this.getCurrentPosition();if(this.nextToken(),this.tt==r.leftBracket){var i=this.parseMethodCallParameters();e={type:r.callMethod,position:n,rightBracketPosition:i.rightBracketPosition,operands:i.nodes,object:e,identifier:t,commaPositions:i.commaPositions}}else e={type:r.pushAttribute,position:n,identifier:t,object:e}}else{var o=e.position;this.nextToken();var a=this.parseTerm(),s=this.getCurrentPosition(),l=Object.assign({},o);this.expect(r.rightSquareBracket,!0),s.line==o.line?l.length=s.column+s.length-l.column:l=s,e={type:r.selectArrayElement,position:l,index:a,object:e}}return e}},{key:"parseVariableDeclaration",value:function(e){var t=!1;if(this.tt==r.keywordFinal&&(t=!0,this.nextToken()),null==e&&(e=this.parseType()),this.tt!=r.identifier)return this.pushError("Hier wird ein Bezeichner (Name) einer Variable erwartet.","error",this.getCurrentPosition()),null;var n=this.cct.value,i=this.getCurrentPosition();this.nextToken();var o=null;return this.tt==r.assignment&&(this.nextToken(),o=e.arrayDimension>0&&this.tt==r.leftCurlyBracket?this.parseArrayLiteral(e):this.parseTerm()),this.tt==r.endofSourcecode&&null==e&&null==n?null:{type:r.localVariableDeclaration,position:i,identifier:n,variableType:e,initialization:o,isFinal:t}}},{key:"parseType",value:function(){if(this.tt!=r.identifier&&this.tt!=r.keywordVoid)return this.pushError("Erwartet wird ein Datentyp. Dieser muss mit einem Bezeichner beginnen. Gefunden wurde: "+this.cct.value,"error",this.getCurrentPosition()),this.nextToken(),{type:r.type,position:this.getCurrentPosition(),arrayDimension:0,identifier:"int",genericParameterTypes:[]};var e=this.cct.value,t=this.getCurrentPosition();this.nextToken();var n=null;if(this.tt==r.lower){n=[];var i=!0;for(this.nextToken();i&&this.tt==r.identifier||!i&&this.tt==r.comma;)i||this.nextToken(),i=!1,n.push(this.parseType());this.expect(r.greater)}for(var o=0;this.tt==r.leftRightSquareBracket;)o++,t.length+=2,this.nextToken();var a={type:r.type,position:t,arrayDimension:o,identifier:e,genericParameterTypes:n};return this.typeNodes.push(a),a}},{key:"parseClassDefinition",value:function(){var t=this.cct.commentBefore,n=this.collectModifiers();if(!this.comesToken(e.ClassTokens))return this.pushError("Erwartet wird class, interface oder enum. Gefunden wurde: "+this.cct.value),null;var i=this.tt;if(this.nextToken(),this.expect(r.identifier,!1)){var o=this.cct.value,a=this.getCurrentPosition();this.nextToken();var s=[];this.tt==r.lower&&(s=this.parseTypeParameterDefinition());var l=this.parseExtendsImplements(i==r.keywordInterface);if(i==r.keywordEnum)return this.parseEnum(o,l,a,n.visibility,t);var u=this.getCurrentPosition();if(this.expect(r.leftCurlyBracket,!0)){var c=this.parseClassBody(i,o),d=this.getEndOfCurrentToken();switch(this.expect(r.rightCurlyBracket,!0),i){case r.keywordClass:return{type:r.keywordClass,position:a,scopeFrom:u,scopeTo:d,identifier:o,attributes:c.attributes,methods:c.methods,isAbstract:n.isAbstract,visibility:n.visibility,extends:l.extends,implements:l.implements,typeParameters:s,commentBefore:t};case r.keywordInterface:return{type:r.keywordInterface,position:a,identifier:o,scopeFrom:u,scopeTo:d,methods:c.methods,typeParameters:s,extends:l.implements,commentBefore:t}}}}}},{key:"parseTypeParameterDefinition",value:function(){var e=this,t=[],n={};this.expect(r.lower,!0);for(var i=!0,o=function(){i||e.expect(r.comma,!0);var o={type:r.typeParameter,position:e.getCurrentPosition(),identifier:e.cct.value,extends:null,implements:null};null!=n[o.identifier]&&e.pushError("Zwei Typparameter dürfe nicht denselben Bezeichner tragen."),n[o.identifier]=!0,e.nextToken();var a=e.parseTypeParameterBounds();o.extends=a.extends,null!=o.extends&&o.extends.arrayDimension>0&&e.pushError("Der Datentyp des Typparameters "+o.identifier+" darf kein Array sein."),o.implements=a.implements,o.implements.forEach((function(t){t.arrayDimension>0&&e.pushError("Der Datentyp des Typparameters "+o.identifier+" darf kein Array sein.")})),i=!1,t.push(o)};i&&this.tt==r.identifier||!i&&this.tt==r.comma;)o();return this.expect(r.greater,!0),t}},{key:"parseEnum",value:function(e,t,n,i,o){null!=t.extends&&this.pushError("Ein enum kann nicht mit extends erweitert werden."),t.implements.length>0&&this.pushError("Ein enum kann kein Interface implementieren.");var a=this.getCurrentPosition();if(this.expect(r.leftCurlyBracket,!0)){var s=this.parseEnumValues(),l=this.parseClassBody(r.keywordEnum,e),u=this.getEndOfCurrentToken();return this.expect(r.rightCurlyBracket,!0),{type:r.keywordEnum,position:n,scopeFrom:a,scopeTo:u,attributes:l.attributes,methods:l.methods,identifier:e,values:s,visibility:i,commentBefore:o}}return null}},{key:"parseEnumValues",value:function(){for(var e=[],t=0,n=!0;n&&this.tt==r.identifier||this.tt==r.comma;){if(t=this.pos,n||this.nextToken(),n=!1,this.expect(r.identifier,!1)){var i=this.cct.value,o=this.getCurrentPosition();this.nextToken();var a=null,s=[],l=null;if(this.tt==r.leftBracket){var u=this.parseMethodCallParameters();a=u.nodes,s=u.commaPositions,l=u.rightBracketPosition}e.push({type:r.pushEnumValue,constructorParameters:a,identifier:i,position:o,commaPositions:s,rightBracketPosition:l})}this.pos==t&&this.nextToken()}return this.tt==r.semicolon&&this.nextToken(),e}},{key:"parseClassBody",value:function(e,t){for(var n=[],i=[];this.tt!=r.rightCurlyBracket&&this.tt!=r.endofSourcecode;){var o=this.cct.commentBefore,a=null;this.tt==r.at&&(a=this.cct.value,this.nextToken());var s=this.collectModifiers(),l=!1,u=this.getCurrentPosition();this.tt==r.identifier&&this.cct.value==t&&this.ct[1].tt==r.leftBracket&&(l=!0);var c=this.parseType();if(l&&(c={identifier:"void",arrayDimension:0,position:c.position,type:r.type}),l||this.expect(r.identifier,!1)){var d=t;if(l||(u=this.getCurrentPosition(),d=this.cct.value,this.nextToken()),this.tt==r.leftBracket){l&&e==r.keywordEnum&&s.visibility!=_.private&&this.pushError("Konstruktoren in enums müssen private sein.","error",u);var f=this.parseMethodDeclarationParameters(),h=void 0,p=this.getCurrentPosition(),y=p;if(s.isAbstract)this.expect(r.semicolon,!0),l&&this.pushError("Ein Konstruktor kann nicht abstrakt sein.","error",u),h=[];else if(p=this.getCurrentPosition(),h=this.parseStatement(),y=this.getEndOfCurrentToken(),null!=h&&h.length>0&&h[0].type==r.scopeNode){var v=h[0];p=v.position,y=v.positionTo}n.push({type:r.methodDeclaration,identifier:d,position:u,scopeFrom:p,scopeTo:y,parameters:f,statements:h,visibility:s.visibility,isAbstract:s.isAbstract||e==r.keywordInterface,isStatic:s.isStatic,isConstructor:l,returnType:c,annotation:a,isTransient:s.isTransient,commentBefore:o})}else{d==t&&this.pushError("Das Attribut "+t+" darf nicht denselben Bezeichner haben wie die Klasse.","error",u);var m=null;this.tt==r.assignment&&(this.nextToken(),m=c.arrayDimension>0&&this.tt==r.leftCurlyBracket?this.parseArrayLiteral(c):this.parseTerm()),this.expect(r.semicolon),i.push({type:r.attributeDeclaration,identifier:d,position:u,attributeType:c,isStatic:s.isStatic,isFinal:s.isFinal,visibility:s.visibility,initialization:m,annotation:a,isTransient:s.isTransient,commentBefore:o}),e==r.keywordInterface&&this.pushError("Interfaces dürfen keine Attribute enthalten.","error",u)}}}return{methods:n,attributes:i}}},{key:"parseMethodDeclarationParameters",value:function(){var e=[];if(this.nextToken(),this.tt==r.rightBracket)return this.nextToken(),[];for(var t=!1;;){t&&this.pushError("Nur der letzte Parameter darf als Ellipsis (...) definiert werden.");var n=this.tt==r.keywordFinal;n&&this.nextToken();var i=this.parseType();if((t=this.tt==r.ellipsis)&&(this.nextToken(),i.arrayDimension++),this.expect(r.identifier,!1)){var o=this.cct.value;e.push({type:r.parameterDeclaration,position:this.getCurrentPosition(),identifier:o,parameterType:i,isFinal:n,isEllipsis:t}),this.nextToken()}if(this.tt!=r.comma)break;this.nextToken()}return this.expect(r.rightBracket,!0),e}},{key:"parseExtendsImplements",value:function(e){for(var t=this,n=null,i=[];this.comesToken([r.keywordExtends,r.keywordImplements]);)if(this.comesToken(r.keywordExtends)&&!e&&(null!=n&&this.pushError("Eine Klasse kann nicht Unterklasse von zwei anderen Klassen sein, es darf also hier nur ein Mal 'extends...' stehen.","error",n.position),this.nextToken(),null!=(n=this.parseType())&&n.arrayDimension>0&&this.pushError("Der Datentyp der Basisklasse darf kein Array sein.","error",n.position)),!e&&this.comesToken(r.keywordImplements)||e&&this.comesToken(r.keywordExtends)){i.length>0&&this.pushError("Es darf hier nur ein Mal 'implements' stehen, hinter 'implements' ist aber eine kommaseparierte Liste von Interfaces erlaubt.","warning"),this.nextToken();for(var o=!0;o&&this.tt==r.identifier||!o&&this.tt==r.comma;)o||this.nextToken(),o=!1,i.push(this.parseType())}return i.forEach((function(e){e.arrayDimension>0&&t.pushError(e.identifier+"[] ist kein Interface, sondern ein Array. Array-Datentypen sind hier nicht erlaubt.")})),{extends:n,implements:i}}},{key:"parseTypeParameterBounds",value:function(){var e=null,t=[];for(this.comesToken(r.keywordExtends)&&(this.nextToken(),e=this.parseType());this.comesToken(r.ampersand);)this.nextToken(),t.push(this.parseType());return{extends:e,implements:t}}},{key:"collectModifiers",value:function(){for(var e=_.public,t=!1,n=!1,i=!1,o=!1,a=!1,s=!1;!a;)switch(this.tt){case r.keywordPublic:e=_.public,this.nextToken();break;case r.keywordPrivate:e=_.private,this.nextToken();break;case r.keywordProtected:e=_.protected,this.nextToken();break;case r.keywordStatic:n=!0,t&&!s&&(this.pushError("Die Modifier 'abstract' und 'static' können nicht kombiniert werden."),s=!0),this.nextToken();break;case r.keywordAbstract:t=!0,n&&!s&&(this.pushError("Die Modifier 'abstract' und 'static' können nicht kombiniert werden."),s=!0),this.nextToken();break;case r.keywordFinal:i=!0,this.nextToken();break;case r.keywordTransient:o=!0,this.nextToken();break;default:a=!0}return{isAbstract:t,isStatic:n,visibility:e,isFinal:i,isTransient:o}}}])&&Vn(t.prototype,n),i&&Vn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Zn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Kn.assignmentOperators=[r.assignment,r.plusAssignment,r.minusAssignment,r.multiplicationAssignment,r.divisionAssignment,r.moduloAssignment,r.ANDAssigment,r.XORAssigment,r.ORAssigment,r.shiftLeftAssigment,r.shiftRightAssigment,r.shiftRightUnsignedAssigment],Kn.operatorPrecedence=[Kn.assignmentOperators,[r.ternaryOperator],[r.colon],[r.or],[r.and],[r.OR],[r.XOR],[r.ampersand],[r.equal,r.notEqual],[r.keywordInstanceof,r.lower,r.lowerOrEqual,r.greater,r.greaterOrEqual],[r.shiftLeft,r.shiftRight,r.shiftRightUnsigned],[r.plus,r.minus],[r.multiplication,r.division,r.modulo]],Kn.TokenTypeToVisibilityMap=(Nn(Wn={},r.keywordPublic,_.public),Nn(Wn,r.keywordPrivate,_.private),Nn(Wn,r.keywordProtected,_.protected),Wn),Kn.forwardToInsideClass=[r.keywordPublic,r.keywordPrivate,r.keywordProtected,r.keywordVoid,r.identifier,r.rightCurlyBracket,r.keywordStatic,r.keywordAbstract,r.keywordClass,r.keywordEnum,r.keywordInterface],Kn.ClassTokens=[r.keywordClass,r.keywordEnum,r.keywordInterface],Kn.VisibilityTokens=[r.keywordPrivate,r.keywordProtected,r.keywordPublic],Kn.BeforeClassDefinitionTokens=Kn.ClassTokens.concat(Kn.VisibilityTokens).concat(r.keywordAbstract).concat(Kn.ClassTokens);var Xn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.primitiveTypes=["String","Integer","Double","Boolean","Float","Character"]}var t,n,i;return t=e,(n=[{key:"toJson",value:function(e){this.objectToIndexMap=new Map,this.nextIndex=0;var t=JSON.stringify(this.toJsonObj(e));return this.objectToIndexMap=null,t}},{key:"toJsonObj",value:function(e){var t=this,n=e.type,i=e.value;if(null==i)return null;if((n instanceof J||n instanceof te)&&this.primitiveTypes.indexOf(n.identifier)<0){if(n instanceof Fn)return i.enumValue.ordinal;var r=i;return this.objectToJsonObj(r)}return n instanceof fe?i.map((function(e){return t.toJsonObj(e)})):e.value}},{key:"objectToJsonObj",value:function(e){var t=this.objectToIndexMap.get(e);if(null!=t)return{"!i":t};t=this.nextIndex++,this.objectToIndexMap.set(e,t);var n=e.class,i={"!k":n.identifier,"!i":t};if(n.module.isSystemModule)return null;for(;null!=n;){var r,o=!0,a=void 0,s=Qn(n.attributes);try{for(s.s();!(r=s.n()).done;){var l=r.value;l.isStatic||l.isTransient||(o&&(o=!1,a={},i[n.identifier]=a),a[l.identifier]=this.toJsonObj(e.attributes[l.index]))}}catch(e){s.e(e)}finally{s.f()}n=n.baseClass}return i}},{key:"fromJson",value:function(e,t,n,i){this.indexToObjectMap={},this.valuesToResolve=[];var r,o=JSON.parse(e),a=this.fromJsonObj(o,t,n,i),s=Qn(this.valuesToResolve);try{for(s.s();!(r=s.n()).done;){var l=r.value,u=this.indexToObjectMap[l.i];null!=u&&(l.v.type=u.type,l.v.value=u.value)}}catch(e){s.e(e)}finally{s.f()}return this.indexToObjectMap=null,this.valuesToResolve=null,a.value}},{key:"fromJsonObj",value:function(e,t,n,i){var r=this;if(null==e)return{type:t,value:null};if((t instanceof J||t instanceof te)&&this.primitiveTypes.indexOf(t.identifier)<0){if(t instanceof Fn)return{type:t,value:t.indexToInfoMap[e].object};var o=e;return this.objectFromJsonObj(o,t,n,i)}return t instanceof fe?{type:t,value:e.map((function(e){return r.fromJsonObj(e,t.arrayOfType,n,i)}))}:{type:t,value:e}}},{key:"objectFromJsonObj",value:function(e,t,n,i){var r=e["!k"],o=e["!i"];if(null!=r){for(var a=n.getType(r).type,s=a,l=i.instantiateObjectImmediately(s);null!=s;){var u=l.attributes,c=e[s.identifier];if(null!=u&&null!=e){var d,f=Qn(s.attributes);try{for(f.s();!(d=f.n()).done;){var h=d.value;h.isStatic||h.isTransient||(u[h.index]=this.fromJsonObj(c[h.identifier],h.type,n,i))}}catch(e){f.e(e)}finally{f.f()}}s=s.baseClass}var p={type:a,value:l};return this.indexToObjectMap[o]=p,p}var y=e["!i"],v=this.indexToObjectMap[y];return null==v?(v={type:t,value:null},this.valuesToResolve.push({v:v,i:y}),v):{type:v.type,value:v.value}}}])&&Zn(t.prototype,n),i&&Zn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ei,ti=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.moduleToTypeParameterListMap=new Map,this.genericTypes=[],this.genericTypesInClassDefinitions=[],this.typeParameterList=[]}var t,n,i;return t=e,(n=[{key:"start",value:function(e){this.classes=[],this.interfaces=[],this.enums=[],this.unresolvedTypes=new Map,this.moduleStore=e,this.resolveTypesInModules(),this.setupClassesAndInterfaces();var t=this.resolveTypeVariables();this.resolveUnresolvedTypes(!1),this.resolveGenericTypes(t),this.resolveExtendsImplements();var n=this.resolveGenericTypes(this.genericTypes);this.resolveUnresolvedTypes(!0),this.resolveGenericTypes(n),this.setupMethodsAndAttributes(),this.checkDoubleIdentifierDefinition(),this.checkGenericTypesAgainsTypeGuards(),this.setupAttributeIndices()}},{key:"setupAttributeIndices",value:function(){var e,t=qn(this.classes);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.resolvedType.setupAttributeIndicesRecursive(),null!=n.resolvedType.staticClass&&n.resolvedType.staticClass.setupAttributeIndicesRecursive()}}catch(e){t.e(e)}finally{t.f()}var i,r=qn(this.enums);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.resolvedType.setupAttributeIndicesRecursive(),null!=o.resolvedType.staticClass&&o.resolvedType.staticClass.setupAttributeIndicesRecursive()}}catch(e){r.e(e)}finally{r.f()}}},{key:"checkGenericTypesAgainsTypeGuards",value:function(){var t,n=qn(this.genericTypes);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(null!=i.typeNode.genericParameterTypes){var r=i.typeNode.resolvedType;if(null!=r.isGenericVariantFrom)if(r.typeVariables.length==r.isGenericVariantFrom.typeVariables.length){for(var o=0;o<r.typeVariables.length;o++){var a=null,s=r.typeVariables[o],l=r.isGenericVariantFrom.typeVariables[o],u=i.typeNode.genericParameterTypes[o];s.scopeFrom=l.scopeFrom,s.scopeTo=l.scopeTo,s.identifier=l.identifier,a="",s.type.hasAncestorOrIs(l.type)||(a+="Die Klasse "+s.type.identifier+" ist keine Unterklasse von "+l.type.identifier+" und pass damit nicht zum Typparamter "+l.identifier+" der Klasse "+r.isGenericVariantFrom.identifier+". ");var c,d=[],f=qn(l.type.implements);try{for(f.s();!(c=f.n()).done;){var h=c.value;s.type.implementsInterface(h)||d.push(h.identifier)}}catch(e){f.e(e)}finally{f.f()}d.length>0&&(a+="Die Klasse "+s.identifier+" implementiert nicht die Interfaces "+d.join(", ")),""!=a&&i.module.errors[2].push({position:u.position,text:"Der angegebene Wert des Typparameters passt nicht zur Definition: "+a,level:"error"})}this.adjustMethodsAndAttributesToTypeParameters(r,e.WATCHDOG)}else i.module.errors[2].push({position:i.typeNode.position,text:"Der Generische Typ "+r.isGenericVariantFrom.identifier+" hat "+r.isGenericVariantFrom.typeVariables.length+" Typparameter. Hier wurden aber "+r.typeVariables.length+" angegeben.",level:"error"})}}}catch(e){n.e(e)}finally{n.f()}}},{key:"adjustMethodsAndAttributesToTypeParameters",value:function(e,t){if(!(t<=0)&&null!=e&&null!=e.isGenericVariantFrom&&0!=e.typeVariables.length){var n,i=!1,r=[],o=qn(e.methods);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=this.getAdjustedMethod(a,e.typeVariables,t-1);i=i||s.altered,r.push(s.newMethod)}}catch(e){o.e(e)}finally{o.f()}if(i&&(e.methods=r),e instanceof J){var l,u=[],c=new Map,d=!1,f=qn(e.attributes);try{for(f.s();!(l=f.n()).done;){var h=l.value,p=this.getAdjustedAttribute(h,e.typeVariables,t-1);d=d||p.altered,u.push(p.newAttribute),c.set(h.identifier,p.newAttribute)}}catch(e){f.e(e)}finally{f.f()}d&&(e.attributes=u,e.attributeMap=c),this.adjustMethodsAndAttributesToTypeParameters(e.baseClass,t-1)}else{var y,v=qn(e.extends);try{for(v.s();!(y=v.n()).done;){var m=y.value;this.adjustMethodsAndAttributesToTypeParameters(m,t-1)}}catch(e){v.e(e)}finally{v.f()}}}}},{key:"getAdjustedAttribute",value:function(e,t,n){var i=this.getAdjustedType(e.type,t,!0,n-1);if(i.altered){var r=Object.create(e);return r.type=i.newType,{altered:!0,newAttribute:r}}return{altered:!1,newAttribute:e}}},{key:"getAdjustedMethod",value:function(e,t,n){var i,r=this.getAdjustedType(e.returnType,t,!0,n-1),o=!1,a=[],s=qn(e.parameterlist.parameters);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=this.getAdjustedType(l.type,t,!1,n-1);if(u.altered){o=!0;var c=Object.create(l);c.type=u.newType,a.push(c)}else a.push(l)}}catch(e){s.e(e)}finally{s.f()}if(r.altered||o){var d=Object.create(e);return r.altered&&(d.returnType=r.newType),o&&(d.parameterlist=new x(a)),{altered:!0,newMethod:d}}return{altered:!1,newMethod:e}}},{key:"getAdjustedType",value:function(e,t,n,i){if(null==e)return{altered:!1,newType:e};if(1==e.isTypeVariable){var r,o=qn(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.identifier==e.identifier)return{altered:!0,newType:a.type}}}catch(e){o.e(e)}finally{o.f()}return{altered:!1,newType:e}}if((e instanceof J||e instanceof te)&&e.typeVariables.length>0){var s,l=[],u=!1,c=qn(e.typeVariables);try{for(c.s();!(s=c.n()).done;){var d=s.value,f=this.getAdjustedType(d.type,t,!1,i-1);f.altered?(l.push({identifier:d.identifier,scopeFrom:d.scopeFrom,scopeTo:d.scopeTo,type:f.newType}),u=!0):l.push(d)}}catch(e){c.e(e)}finally{c.f()}if(u){var h=e.clone();return h.typeVariables=l,n&&this.adjustMethodsAndAttributesToTypeParameters(h,i-1),{altered:!0,newType:h}}return{altered:!1,newType:e}}if(e instanceof fe){var p=this.getAdjustedType(e.arrayOfType,t,n,i-1);return{altered:p.altered,newType:p.altered?new fe(p.newType):e}}return{altered:!1,newType:e}}},{key:"resolveGenericTypes",value:function(e){for(var t=!1,n=e.slice(0);!t;){t=!0;for(var i=0;i<n.length;i++){var r=n[i];this.resolveGenericType(r)&&(t=!1),null!=r.typeNode.genericParameterTypes&&null==r.typeNode.genericParameterTypesResolved||(n.splice(n.indexOf(r),1),i--)}}return n}},{key:"resolveGenericType",value:function(e){if(null!=e.typeNode.genericParameterTypesResolved)return!1;if(null==e.typeNode.genericParameterTypes)return!0;var t=e.typeNode.resolvedType;if(null==t||!(t instanceof te||t instanceof J))return e.typeNode.genericParameterTypes=null,!1;if(!t.typeVariablesReady)return!1;for(var n=[],i=0;i<e.typeNode.genericParameterTypes.length;i++){var r=e.typeNode.genericParameterTypes[i],o=r.resolvedType;if(null==o)return!1;if(null!=r.genericParameterTypes&&null==r.genericParameterTypesResolved)return!1;if(!(o instanceof te||o instanceof J))return e.module.errors[2].push({position:r.position,text:"Hier wird ein Interface- oder Klassentyp erwartet. Der Typ "+r.identifier+" ist aber keiner.",level:"error"}),e.typeNode.genericParameterTypes=null,!0;n.push(r.resolvedType)}var a=new Map;if(t.typeVariables.length!=n.length)return e.module.errors[2].push({position:e.typeNode.position,text:(t instanceof J?"Die Klasse ":"Das Interface ")+t.identifier+" hat "+t.typeVariables.length+" Typparameter, hier sind aber "+n.length+" angegeben.",level:"error"}),e.typeNode.genericParameterTypes=null,!0;for(var s=0,l=0,u=n;l<u.length;l++){var c=u[l],d=t.typeVariables[s];if(c instanceof te){var f=Nt.clone();f.implements.push(c),c=f}var h={identifier:d.identifier,scopeFrom:d.scopeFrom,scopeTo:d.scopeTo,type:c};a.set(t.typeVariables[s].type,h.type),s++}var p=this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(t,a);return e.typeNode.resolvedType=p,e.typeNode.genericParameterTypesResolved=!0,!0}},{key:"propagateTypeParameterToBaseClassesAndImplementedInterfaces",value:function(e,t){if(e instanceof J){var n=e.clone();n.typeVariables=[];var i,r=qn(e.typeVariables);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=t.get(o.type),s=o;null!=a&&(s={identifier:o.identifier,scopeFrom:o.scopeFrom,scopeTo:o.scopeTo,type:a}),n.typeVariables.push(s)}}catch(e){r.e(e)}finally{r.f()}var l=e.baseClass;null!=l&&null!=l.isGenericVariantFrom&&n.setBaseClass(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(l,t)),n.implements=[];var u,c=qn(e.implements);try{for(c.s();!(u=c.n()).done;){var d=u.value;null==d.isGenericVariantFrom?n.implements.push(d):n.implements.push(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(d,t))}}catch(e){c.e(e)}finally{c.f()}return n}var f=e.clone();f.typeVariables=[];var h,p=qn(e.typeVariables);try{for(p.s();!(h=p.n()).done;){var y=h.value,v=t.get(y.type),m=y;null!=v&&(m={identifier:y.identifier,scopeFrom:y.scopeFrom,scopeTo:y.scopeTo,type:v}),f.typeVariables.push(m)}}catch(e){p.e(e)}finally{p.f()}f.extends=[];var g,b=qn(e.extends);try{for(b.s();!(g=b.n()).done;){var w=g.value;null==w.isGenericVariantFrom?f.extends.push(w):f.extends.push(this.propagateTypeParameterToBaseClassesAndImplementedInterfaces(w,t))}}catch(e){b.e(e)}finally{b.f()}return f}},{key:"checkDoubleIdentifierDefinition",value:function(){var e,t=new Map,n=qn(this.moduleStore.getModules(!1));try{for(n.s();!(e=n.n()).done;){var i,r=e.value,o=qn(r.typeStore.typeList);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=t.get(a.identifier);if(null!=s){r.errors[1].push({text:"Der Typbezeichner "+a.identifier+" wurde mehrfach definiert, nämlich in den Modulen "+r.file.name+" und "+s.file.name+".",position:a.declaration.position,level:"error"});var l=s.typeStore.getType(a.identifier);null!=l&&s.errors[1].push({text:"Der Typbezeichner "+a.identifier+" wurde mehrfach definiert, nämlich in den Modulen "+s.file.name+" und "+r.file.name+".",position:l.declaration.position,level:"error"})}else t.set(a.identifier,r)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}var u,c=this.moduleStore.getBaseModule(),d=qn(this.typeParameterList);try{for(d.s();!(u=d.n()).done;){var f=u.value,h=f.ci.module,p=t.get(f.tpn.identifier);if(null==p&&null!=c.typeStore.getType(f.tpn.identifier)&&(p=c),null!=p){h.errors[1].push({text:"Der Typbezeichner "+f.tpn.identifier+" wurde mehrfach definiert, nämlich in den Modulen "+h.file.name+" und "+p.file.name+".",position:f.tpn.position,level:"error"});var y=p.typeStore.getType(f.tpn.identifier);null!=y&&p!=c&&p.errors[1].push({text:"Der Typbezeichner "+f.tpn.identifier+" wurde mehrfach definiert, nämlich in den Modulen "+p.file.name+" und "+h.file.name+".",position:y.declaration.position,level:"error"})}}}catch(e){d.e(e)}finally{d.f()}}},{key:"resolveUnresolvedTypes",value:function(e){var t,n=qn(this.moduleStore.getModules(!1));try{for(n.s();!(t=n.n()).done;)t.value.dependsOnModules=new Map}catch(e){n.e(e)}finally{n.f()}var i,r=qn(this.moduleStore.getModules(!1));try{for(r.s();!(i=r.n()).done;){var o,a=i.value,s=this.unresolvedTypes.get(a),l=[],u=qn(s);try{for(u.s();!(o=u.n()).done;){var c=o.value;this.resolveType(c,a,e)||l.push(c)}}catch(e){u.e(e)}finally{u.f()}this.unresolvedTypes.set(a,l)}}catch(e){r.e(e)}finally{r.f()}}},{key:"addFromJsonMethod",value:function(e){var t=this,n=this.main.getInterpreter();e.addMethod(new T("fromJson",new x([{identifier:"jsonString",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),e,(function(i){var r=i[1].value;return(new Xn).fromJson(r,e,t.moduleStore,n)}),!1,!0,"Konvertiert eine Json-Zeichenkette in ein ".concat(e.identifier,'-Objekt ("deserialisieren"). Vor dem Deserialisieren eines Objekts werden die Attributinitialisierer angewandt und - falls vorhanden - ein parameterloser Konstruktor ausgeführt. Der Algorithmus kommt auch mit zyklischen Objektreferenzen zurecht.'),!1))}},{key:"addToJsonMethod",value:function(e){e.addMethod(new T("toJson",new x([]),$t,(function(e){return(new Xn).toJson(e[0])}),!1,!1,"Konvertiert ein Objekt (rekursiv mitsamt referenzierter Objekte) in eine Json-Zeichenkette. Nicht konvertiert werden Systemklassen (außer: ArrayList) sowie mit dem Schlüsselwort transient ausgezeichnete Attribute."))}},{key:"setupMethodsAndAttributes",value:function(){var e,t=[],n=qn(t=(t=t.concat(this.classes)).concat(this.enums));try{for(n.s();!(e=n.n()).done;){var i,r=e.value,o=qn(r.methods);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.setupMethod(a,r.resolvedType.module,r.resolvedType);null!=s&&(null!=a.commentBefore&&(s.documentation=""+a.commentBefore.value),r.resolvedType.addMethod(s))}}catch(e){o.e(e)}finally{o.f()}this.addFromJsonMethod(r.resolvedType),this.addToJsonMethod(r.resolvedType);var l,u=qn(r.attributes);try{for(u.s();!(l=u.n()).done;){var c=l.value;this.resolveType(c.attributeType,r.resolvedType.module,!0);var d=c.attributeType.resolvedType;if(null!=d){var f=new j(c.identifier,d,null,c.isStatic,c.visibility,c.isFinal);c.resolvedType=f,null!=c.commentBefore&&(f.documentation=""+c.commentBefore.value),f.annotation=c.annotation,f.isTransient=c.isTransient,null!=r.resolvedType.attributeMap.get(f.identifier)&&r.resolvedType.module.errors[2].push({text:"Es darf nicht mehrere Attribute mit demselben Bezeichner '"+f.identifier+"' in derselben Klassse geben.",position:c.position,level:"error"}),r.resolvedType.addAttribute(f),this.pushUsagePosition(r.resolvedType.module,c.position,f),f.declaration={module:r.resolvedType.module,position:c.position}}}}catch(e){u.e(e)}finally{u.f()}}}catch(e){n.e(e)}finally{n.f()}var h,p=qn(this.interfaces);try{for(p.s();!(h=p.n()).done;){var y,v=h.value,m=qn(v.methods);try{for(m.s();!(y=m.n()).done;){var g=y.value,b=this.setupMethod(g,v.resolvedType.module,v.resolvedType);null!=b&&v.resolvedType.addMethod(b)}}catch(e){m.e(e)}finally{m.f()}}}catch(e){p.e(e)}finally{p.f()}}},{key:"setupMethod",value:function(e,t,n){var i=!0;i=i&&this.resolveType(e.returnType,t,!0);var r,o=[],a=qn(e.parameters);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i=i&&this.resolveType(s.parameterType,t,!0)){var l={definition:s.position,identifier:s.identifier,usagePositions:new Map,type:s.parameterType.resolvedType,declaration:{module:t,position:s.position},isFinal:s.isFinal,isEllipsis:s.isEllipsis};o.push(l),this.pushUsagePosition(t,s.position,l)}}}catch(e){a.e(e)}finally{a.f()}var u=new x(o);if(i){var c=new T(e.identifier,u,e.returnType.resolvedType,null,e.isAbstract,e.isStatic);return c.isConstructor=e.identifier==n.identifier,c.visibility=e.visibility,c.isConstructor=e.isConstructor,e.resolvedType=c,c.annotation=e.annotation,this.pushUsagePosition(t,e.position,c),c.declaration={module:t,position:e.position},c}return null}},{key:"pushUsagePosition",value:function(e,t,n){if(e.addIdentifierPosition(t,n),!(n instanceof P)){var i=n.usagePositions.get(e);null==i&&(i=[],n.usagePositions.set(e,i)),i.push(t)}}},{key:"resolveType",value:function(e,t,n){if(null==e.resolvedType){var i=this.moduleStore.getType(e.identifier);if(null!=i){var r=i.type;return t.dependsOnModules.set(i.module,!0),this.pushUsagePosition(t,e.position,r),r=ni(r,e.arrayDimension),this.registerGenericType(e,t,!1),e.resolvedType=r,!0}var o=this.moduleToTypeParameterListMap.get(t);if(null!=o){var a,s=qn(o);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.identifier==e.identifier){var u=e.position;if((u.line>l.scopeFrom.line||u.line==l.scopeFrom.line&&u.column>=l.scopeFrom.column)&&(u.line<l.scopeTo.line||u.line==l.scopeTo.line&&u.column<=l.scopeTo.column))return this.pushUsagePosition(t,e.position,l.type),e.resolvedType=l.type,!0}}}catch(e){s.e(e)}finally{s.f()}}if(n){var c=e.identifier.length>0&&e.identifier[0].toUpperCase()==e.identifier[0]?"Die Klasse":"Der Typ";t.errors[2].push({position:e.position,text:c+" "+e.identifier+" konnte nicht gefunden werden."+("string"==e.identifier?" Meinten Sie String (großgeschrieben)?":""),level:"error",quickFix:"string"==e.identifier?{title:"String groß schreiben",editsProvider:function(t){return[{resource:t,edit:{range:{startLineNumber:e.position.line,startColumn:e.position.column-1,endLineNumber:e.position.line,endColumn:e.position.column+6},text:"String"}}]}}:null})}return e.resolvedType=null,!1}return!0}},{key:"resolveExtendsImplements",value:function(){var e,t=qn(this.classes);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,r=i.resolvedType,o=qn(i.implements);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.resolveType(a,r.module,!0);var s=a.resolvedType;null!=s&&(s instanceof te?(r.implements.push(s),a.resolvedType=s):r.module.errors[2].push({position:a.position,text:"Der Typ "+a.identifier+" ist kein interface, darf also nicht bei implements... stehen.",level:"error"}))}}catch(e){o.e(e)}finally{o.f()}if(null!=i.extends){this.resolveType(i.extends,r.module,!0);var l=i.extends.resolvedType;if(null==l||!(l instanceof J)){r.module.errors[2].push({position:i.extends.position,text:"Der Typ "+i.extends.identifier+" ist keine Klasse, darf also nicht hinter extends stehen.",level:"error"});continue}r.setBaseClass(l),i.extends.resolvedType=l}else r.setBaseClass(this.moduleStore.getType("Object").type)}}catch(e){t.e(e)}finally{t.f()}var u,c=qn(this.interfaces);try{for(c.s();!(u=c.n()).done;){var d,f=u.value,h=f.resolvedType,p=qn(f.extends);try{for(p.s();!(d=p.n()).done;){var y=d.value;this.resolveType(y,h.module,!0);var v=y.resolvedType;null!=v&&(v instanceof te?(h.extends.push(v),y.resolvedType=v):h.module.errors[2].push({position:y.position,text:"Der Typ "+y.identifier+" ist kein interface, darf also nicht bei extends... stehen.",level:"error"}))}}catch(e){p.e(e)}finally{p.f()}}}catch(e){c.e(e)}finally{c.f()}}},{key:"setupClassesAndInterfaces",value:function(){var e,t=qn(this.moduleStore.getModules(!1));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!=n.classDefinitionsAST){var i,o=qn(n.classDefinitionsAST);try{for(o.s();!(i=o.n()).done;){var a=i.value;switch(a.type){case r.keywordClass:this.classes.push(a);var s=new J(a.identifier,n);if(null!=a.commentBefore&&(s.documentation=""+a.commentBefore.value),a.resolvedType=s,s.visibility=a.visibility,s.isAbstract=a.isAbstract,n.typeStore.addType(s),this.pushUsagePosition(n,a.position,s),s.declaration={module:n,position:a.position},this.registerTypeVariables(a,s),null!=a.extends&&this.registerGenericType(a.extends,n,!0),null!=a.implements){var l,u=qn(a.implements);try{for(u.s();!(l=u.n()).done;){var c=l.value;this.registerGenericType(c,n,!0)}}catch(e){u.e(e)}finally{u.f()}}break;case r.keywordEnum:this.enums.push(a);var d=new Fn(a.identifier,n,a.values);null!=a.commentBefore&&(d.documentation=""+a.commentBefore.value),a.resolvedType=d,d.visibility=a.visibility,n.typeStore.addType(d),this.pushUsagePosition(n,a.position,d),d.declaration={module:n,position:a.position};break;case r.keywordInterface:this.interfaces.push(a);var f=new te(a.identifier,n);if(null!=a.commentBefore&&(f.documentation=""+a.commentBefore.value),a.resolvedType=f,n.typeStore.addType(f),this.pushUsagePosition(n,a.position,f),f.declaration={module:n,position:a.position},this.registerTypeVariables(a,f),null!=a.extends){var h,p=qn(a.extends);try{for(p.s();!(h=p.n()).done;){var y=h.value;this.registerGenericType(y,n,!0)}}catch(e){p.e(e)}finally{p.f()}}}}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){t.e(e)}finally{t.f()}}},{key:"resolveTypeVariables",value:function(){for(var e=this.typeParameterList.slice(0),t=!1,n=this.genericTypesInClassDefinitions.slice(0);!t;){this.resolveUnresolvedTypes(!1),n=this.resolveGenericTypes(n),t=!0;for(var i=0;i<e.length;i++){var r=e[i],o=!0,a=null==r.tpn.extends?[]:[r.tpn.extends];null!=r.tpn.implements&&(a=a.concat(r.tpn.implements));var s,l=qn(a);try{for(l.s();!(s=l.n()).done;){var u=s.value;null!=u.genericParameterTypes&&1!=u.genericParameterTypesResolved&&(o=!1)}}catch(e){l.e(e)}finally{l.f()}o&&(this.resolveTypeVariable(r),e.splice(e.indexOf(r),1),i--,t=!1)}}return n}},{key:"resolveTypeVariable",value:function(e){var t;if((t=null!=e.tpn.extends&&null!=e.tpn.extends.resolvedType?e.tpn.extends.resolvedType.clone():Nt.clone()).identifier=e.tpn.identifier,t.isTypeVariable=!0,t.declaration={module:e.ci.module,position:e.tpn.position},null!=e.tpn.implements){var n,i=qn(e.tpn.implements);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.implements.indexOf(r.resolvedType)<0&&t.implements.push(r.resolvedType)}}catch(e){i.e(e)}finally{i.f()}}var o={identifier:e.tpn.identifier,type:t,scopeFrom:e.cdn.position,scopeTo:e.cdn.scopeTo};e.ci.typeVariables[e.index]=o,e.ci.typeVariablesReady=!0;var a,s=qn(e.ci.typeVariables);try{for(s.s();!(a=s.n()).done;)null==a.value&&(e.ci.typeVariablesReady=!1)}catch(e){s.e(e)}finally{s.f()}var l=this.moduleToTypeParameterListMap.get(e.ci.module);null==l&&(l=[],this.moduleToTypeParameterListMap.set(e.ci.module,l)),l.push(o),this.pushUsagePosition(e.ci.module,e.tpn.position,t)}},{key:"registerTypeVariables",value:function(e,t){var n,i=0,r=qn(e.typeParameters);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(null!=o.extends&&this.registerGenericType(o.extends,t.module,!0),null!=o.implements){var a,s=qn(o.implements);try{for(s.s();!(a=s.n()).done;){var l=a.value;this.registerGenericType(l,t.module,!0)}}catch(e){s.e(e)}finally{s.f()}}t.typeVariablesReady=!1,t.typeVariables.push(null),this.typeParameterList.push({tpn:o,tp:{identifier:o.identifier,type:null,scopeFrom:e.position,scopeTo:e.scopeTo},ci:t,cdn:e,index:i++})}}catch(e){r.e(e)}finally{r.f()}}},{key:"resolveTypesInModules",value:function(){var e,t=qn(this.moduleStore.getModules(!1));try{for(t.s();!(e=t.n()).done;){var n=e.value,i=[];this.unresolvedTypes.set(n,i);var r,o=qn(n.typeNodes);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(null==a.resolvedType){var s=this.moduleStore.getType(a.identifier);if(null!=s){var l=s.type;this.pushUsagePosition(n,a.position,l),a.resolvedType=ni(l,a.arrayDimension),this.registerGenericType(a,n,!1)}else i.push(a)}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}}},{key:"registerGenericType",value:function(e,t,n){if(null!=e.genericParameterTypes)n?this.genericTypesInClassDefinitions.push({typeNode:e,module:t}):this.genericTypes.push({typeNode:e,module:t});else{var i=e.resolvedType;if(null!=i&&i instanceof J&&i.typeVariables.length>0){var r=i.clone();r.typeVariables=[],e.resolvedType=r}}}}])&&Jn(t.prototype,n),i&&Jn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ni(e,t){for(;t>0;)e=new fe(e),t--;return e}function ii(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function oi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}ti.WATCHDOG=5,function(e){e[e.compiling=0]="compiling",e[e.error=1]="error",e[e.compiledButNothingToRun=2]="compiledButNothingToRun",e[e.readyToRun=3]="readyToRun"}(ei||(ei={}));var ai=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.compilerStatus=ei.compiledButNothingToRun}var t,n,i;return t=e,(n=[{key:"compile",value:function(e){var t,n;this.compilerStatus=ei.compiling;var i=performance.now();e.clearUsagePositions();var r,o=new ln,a=ii(e.getModules(!1));try{for(a.s();!(r=a.n()).done;){var s=r.value;s.file.dirty=!1,s.clear();var l=o.lex(s.getProgramTextFromMonacoModel());s.errors[0]=l.errors,s.tokenList=l.tokens,s.bracketError=l.bracketError,s.colorInformation=l.colorInformation,s.file.name==(null===(n=null===(t=this.main.getCurrentlyEditedModule())||void 0===t?void 0:t.file)||void 0===n?void 0:n.name)&&null!=this.main.getBottomDiv()&&this.main.getBottomDiv().errorManager.showParenthesisWarning(l.bracketError)}}catch(e){a.e(e)}finally{a.f()}this.main.getSemicolonAngel().startRegistering();var u,c=new Kn(!1),d=ii(e.getModules(!1));try{for(d.s();!(u=d.n()).done;){var f=u.value;c.parse(f)}}catch(e){d.e(e)}finally{d.f()}new ti(this.main).start(e);var h,p=new Gn,y=ii(e.getModules(!1));try{for(y.s();!(h=y.n()).done;){var v=h.value;p.start(v,e)}}catch(e){y.e(e)}finally{y.f()}var m,g=!0,b=ii(e.getModules(!1));try{for(b.s();!(m=b.n()).done;){var w=m.value;w.dependsOnModulesWithErrors=w.hasErrors(),w.dependsOnModulesWithErrors&&(g=!1)}}catch(e){b.e(e)}finally{b.f()}for(var k=!1;!k;){k=!0;var S,P=ii(e.getModules(!1));try{for(P.s();!(S=P.n()).done;){var j=S.value;if(!j.dependsOnModulesWithErrors){var T,x=ii(e.getModules(!1));try{for(x.s();!(T=x.n()).done;){var M=T.value;if(j.dependsOnModules.get(M)&&M.dependsOnModulesWithErrors){j.dependsOnModulesWithErrors=!0,k=!1;break}}}catch(e){x.e(e)}finally{x.f()}}}}catch(e){P.e(e)}finally{P.f()}}this.atLeastOneModuleIsStartable=!1;var O,C=ii(e.getModules(!1));try{for(C.s();!(O=C.n()).done;){var A=O.value;A.isStartable=A.hasMainProgram()&&!A.dependsOnModulesWithErrors,A.isStartable&&(this.atLeastOneModuleIsStartable=!0),this.main instanceof Gk&&!this.main.config.withFileList||A.renderStartButton()}}catch(e){C.e(e)}finally{C.f()}this.atLeastOneModuleIsStartable?this.compilerStatus=ei.readyToRun:this.compilerStatus=g?ei.error:ei.compiledButNothingToRun;var E=performance.now()-i,D="Compiled in "+(E=Math.round(100*E)/100)+" ms.";return this.main.getCurrentWorkspace().compilerMessage=D,this.main.getSemicolonAngel().healSemicolons(),null}}])&&oi(t.prototype,n),i&&oi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ui(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ci(e,t,n){return t&&ui(e.prototype,t),n&&ui(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function di(e,t){return(di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pi(e);if(t){var r=pi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return hi(this,n)}}function hi(e,t){if(t&&("object"===si(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&di(e,t)}(n,e);var t=fi(n);function n(e){var i;li(this,n),i=t.call(this,"ListIteratorImpl",e);var r=e.typeStore.getType("Object");i.setBaseClass(r);var o=r.clone();o.identifier="E",o.isTypeVariable=!0;var a={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:o};i.typeVariables.push(a);var s=e.typeStore.getType("Iterator").clone();return s.typeVariables=[a],i.implements.push(s),i.addMethod(new T("hasNext",new x([]),Gt,(function(e){return e[0].value.intrinsicData.IteratorHelper.hasNext()}),!1,!1,"Gibt genau dann true zurück, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),i.addMethod(new T("next",new x([]),o,(function(e){return e[0].value.intrinsicData.IteratorHelper.next()}),!1,!1,"Gibt das nächste Element der Collection zurück.")),i.addMethod(new T("remove",new x([]),null,(function(e){return e[0].value.intrinsicData.IteratorHelper.remove()}),!1,!1,"Löscht das letzte durch next zurückgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als nächstes durch next zurückgegeben wird.")),i}return ci(n,null,[{key:"getIterator",value:function(e,t,n,i){var r=n.typeStore.getType("ListIteratorImpl"),o=new E(r);return o.intrinsicData.IteratorHelper=new vi(e,t,i),{value:o,type:r}}}]),n}(J),vi=function(){function e(t,n,i){switch(li(this,e),this.listHelper=t,this.interpreter=n,this.kind=i,i){case"ascending":this.nextPos=0;break;case"descending":this.nextPos=t.objectArray.length-1}}return ci(e,[{key:"remove",value:function(){switch(this.kind){case"ascending":0==this.nextPos?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos>this.listHelper.objectArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."):(this.listHelper.valueArray.splice(this.nextPos-1,1),this.listHelper.objectArray.splice(this.nextPos-1,1),this.nextPos-=1);break;case"descending":this.nextPos==this.listHelper.objectArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos<0?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."):(this.listHelper.valueArray.splice(this.nextPos+1,1),this.listHelper.objectArray.splice(this.nextPos+1,1),this.nextPos+=1)}}},{key:"next",value:function(){switch(this.kind){case"ascending":return this.nextPos>this.listHelper.objectArray.length-1?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."),null):this.listHelper.objectArray[this.nextPos++].value;case"descending":return this.nextPos<0?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."),null):this.listHelper.objectArray[this.nextPos--].value}}},{key:"hasNext",value:function(){switch(this.kind){case"ascending":return this.nextPos<this.listHelper.objectArray.length;case"descending":return this.nextPos>=0}}}]),e}();function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ki(e,t,n){return t&&wi(e.prototype,t),n&&wi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xi(e);if(t){var r=xi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ti(this,n)}}function Ti(e,t){if(t&&("object"===mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pi(e,t)}(n,e);var t=ji(n);function n(e){var i;Si(this,n),i=t.call(this,"ArrayList",e,"Liste mit Zugriff auf das n-te Objekt in konstanter Zeit, Einfügen in konstanter Zeit und Suchen in linearer Zeit");var r=e.typeStore.getType("Object");i.setBaseClass(r);var o=e.typeStore.getType("Collection"),a=r.clone();a.identifier="A",a.isTypeVariable=!0;var s={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:a};i.typeVariables.push(s);var l=e.typeStore.getType("List").clone();l.typeVariables=[s],i.implements.push(l);var u=e.typeStore.getType("Iterator").clone();return u.typeVariables=[s],i.addMethod(new T("ArrayList",new x([]),null,(function(t){var n=t[0].value,i=new Oi(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert eine neue ArrayList",!0)),i.addMethod(new T("iterator",new x([]),u,(function(t){var n=t[0].value.intrinsicData.ListHelper;return yi.getIterator(n,n.interpreter,e,"ascending").value}),!0,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück.")),i.addMethod(new T("add",new x([{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"Fügt der Liste ein Element hinzu. Gibt genau dann true zurück, wenn sich der Zustand der Liste dadurch geändert hat.")),i.addMethod(new T("add",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"element",type:a,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=e[2];return t.intrinsicData.ListHelper.add(i,n)}),!1,!1,"Fügt das Element an der Position index der Liste ein. Tipp: Das erste Element der Liste hat index == 0.")),i.addMethod(new T("get",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t,n=e[0].value,i=e[1].value;return null===(t=n.intrinsicData.ListHelper.get(i))||void 0===t?void 0:t.value}),!1,!1,"Gibt das i-te Element der Liste zurück.")),i.addMethod(new T("remove",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.remove(n),null}),!0,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),i.addMethod(new T("indexOf",new x([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.indexOf(n)}),!0,!1,"Gibt den Index des Elements o zurück. Gibt -1 zurück, wenn die Liste das Element o nicht enthält. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),i.addMethod(new T("addAll",new x([{identifier:"c",type:o,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.addAll(n)}),!0,!1,"Fügt alle Elemente von c dieser Collection hinzu.")),i.addMethod(new T("clear",new x([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!0,!1,"Entfernt alle Element aus dieser Collection.")),i.addMethod(new T("contains",new x([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!0,!1,"Testet, ob die Collection das Element enthält.")),i.addMethod(new T("remove",new x([{identifier:"o",type:a,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!0,!1,"Entfernt das Element o aus der Collection. Gibt true zurück, wenn die Collection das Element enthalten hatte.")),i.addMethod(new T("isEmpty",new x([]),Gt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!0,!1,"Testet, ob die Collection das leer ist.")),i.addMethod(new T("size",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!0,!1,"Gibt die Anzahl der Elemente der Collection zurück.")),i.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),i}return ki(n)}(J),Oi=function(){function e(t,n,i){Si(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.valueArray=[],this.objectArray=[]}return ki(e,[{key:"allElementsPrimitive",value:function(){var e,t=gi(this.valueArray);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!(n.type instanceof P||["String","_Double","Integer","Boolean","Character"].indexOf(n.type.identifier)>=0))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive())return"["+this.objectArray.map((function(e){return""+e})).join(", ")+"]";for(var e={line:1,column:1,length:1},t=[{type:r.noOp,position:e,stepFinished:!1},{type:r.pushConstant,dataType:$t,value:"[",position:e,stepFinished:!1}],n=new x([]),i=0;i<this.valueArray.length;i++){var o=this.valueArray[i];null==o.value||o.type instanceof P||o.type instanceof _t?t.push({type:r.pushConstant,dataType:$t,value:null==o.value?"null":o.type.castTo(o,$t).value,position:e,stepFinished:!1}):(t.push({type:r.pushConstant,dataType:o.type,value:o.value,stepFinished:!1,position:e}),t.push({type:r.callMethod,method:o.type.getMethod("toString",n),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:e})),t.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:e}),i<this.valueArray.length-1&&(t.push({type:r.pushConstant,dataType:$t,value:", ",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:e}))}t.push({type:r.pushConstant,dataType:$t,value:"]",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:e}),t.push({type:r.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:e,methodWasInjected:!0});var a={module:this.module,statements:t,labelManager:null},s=new T("toString",new x([]),$t,a,!1,!1);return this.interpreter.runTimer(s,[],(function(){}),!0),""}},{key:"addAll",value:function(t){if(t.intrinsicData.ListHelper instanceof e){var n=t.intrinsicData.ListHelper;return null!=n&&(this.valueArray=this.valueArray.concat(n.valueArray.map((function(e){return{type:e.type,value:e.value}}))),this.objectArray=this.objectArray.concat(n.objectArray)),!0}var i=t.class.getMethod("iterator",new x([]));if(null==i)return this.interpreter.throwException("Der an die Methode addAll übergebene Paramter besitzt keine Methode iterator()."),!1;if(!i.invoke){var r,o=this.execute(i,[{value:t,type:t.class}]);if(null!=o.error)return this.interpreter.throwException("Fehler beim holen des Iterators."),!1;for(var a=o.value.value,s=a.class.getMethod("next",new x([])),l=a.class.getMethod("hasNext",new x([])),u=s.returnType,c={value:a,type:a.class};;){var d=this.execute(l,[c]);if(null!=d.error)return this.interpreter.throwException("Fehler beim Ausführen der hasNext-Methode"),!1;if(1!=d.value.value)break;var f=this.execute(s,[c]);if(null!=f.error)return this.interpreter.throwException("Fehler beim Ausführen der next-Methode"),!1;var h=f.value.value;this.objectArray.push(h),this.valueArray.push({value:h,type:u})}return!0}for(var p=i.invoke([{value:t,type:t.class}]),y=p.class.getMethod("next",new x([])),v=p.class.getMethod("hasNext",new x([])),m=(y.returnType,{value:p,type:p.class});v.invoke([m]);){var g=y.invoke([m]);this.objectArray.push(g),this.valueArray.push({value:g,type:(r=g,"string"==typeof r?$t:"number"==typeof r?Number.isInteger(r)?Bt:Lt:"boolean"==typeof r?Gt:r instanceof E?r.class:void 0)})}}},{key:"execute",value:function(e,t){return e.invoke?{value:{value:e.invoke([]),type:e.returnType},error:null}:this.interpreter.executeImmediatelyInNewStackframe(e.program,t)}},{key:"get",value:function(e){return e>=0&&e<this.valueArray.length?this.valueArray[e]:(this.interpreter.throwException("Der ArrayList-Index ist außerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null)}},{key:"remove",value:function(e){return e>=0&&e<this.valueArray.length?(this.valueArray.splice(e,1),this.objectArray.splice(e,1),null):(this.interpreter.throwException("Der ArrayList-Index ist außerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null)}},{key:"add",value:function(e,t){return null==t?(this.valueArray.push({type:e.type,value:e.value}),this.objectArray.push(e.value)):t<=this.objectArray.length&&t>=0?(this.valueArray.splice(t,0,{type:e.type,value:e.value}),this.objectArray.splice(t,0,e.value)):this.interpreter.throwException("Der ArrayList-Index ist außerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),!0}},{key:"pop",value:function(){return 0==this.objectArray.length?(this.interpreter.throwException("Der ArrayList-Index ist außerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null):(this.valueArray.pop(),this.objectArray.pop())}},{key:"peek",value:function(){return 0==this.objectArray.length?(this.interpreter.throwException("Der ArrayList-Index ist außerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". "),null):this.objectArray[this.objectArray.length-1]}},{key:"indexOf",value:function(e){return this.objectArray.indexOf(e.value)}},{key:"size",value:function(){return this.objectArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"removeObject",value:function(e){var t=this.objectArray.indexOf(e.value);t>=0&&(this.objectArray.splice(t,1),this.valueArray.splice(t,1))}},{key:"contains",value:function(e){return this.objectArray.indexOf(e.value)>=0}},{key:"clear",value:function(){this.valueArray=[],this.objectArray=[]}},{key:"peek_last_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[this.objectArray.length-1]}},{key:"peek_first_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[0]}},{key:"removeLast_or_error",value:function(){return 0==this.objectArray.length?null:(this.valueArray.pop(),this.objectArray.pop())}},{key:"addLast",value:function(e){return this.valueArray.push({type:e.type,value:e.value}),this.objectArray.push(e.value),!0}},{key:"addFirst",value:function(e){return this.valueArray.splice(0,0,{type:e.type,value:e.value}),this.objectArray.splice(0,0,e.value),!0}},{key:"removeFirstOccurrence",value:function(e){var t=this.objectArray.indexOf(e.value);return t>=0&&(this.valueArray.splice(t,1),this.objectArray.splice(t,1),!0)}},{key:"peek_or_null",value:function(){return 0==this.objectArray.length?null:this.objectArray[this.objectArray.length-1]}},{key:"poll_or_null",value:function(){return 0==this.objectArray.length?null:(this.valueArray.pop(),this.objectArray.pop())}},{key:"removeFirst_or_error",value:function(){if(0!=this.objectArray.length){var e=this.objectArray[0];return this.objectArray.splice(0,1),this.valueArray.splice(0,1),e}this.interpreter.throwException("Der ArrayList-Index ist außerhalb des Intervalls von 0 bis "+(this.valueArray.length-1)+". ")}}]),e}();function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_i(e);if(t){var r=_i(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ii(this,n)}}function Ii(e,t){if(t&&("object"===Ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fi(e)}function Fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ei(e,t)}(o,e);var t,n,i,r=Di(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Collection",e,"Interface für Listen, Maps, Sets usw. mit Methoden zum Einfügen von Objekten, Zugriff auf Objekte und zur Ermittlung der Anzahl der Objekte");var n=e.typeStore.getType("Object"),i=n.clone();i.identifier="E",i.isTypeVariable=!0;var a={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=e.typeStore.getType("Iterable").clone();return s.typeVariables=[a],t.extends.push(s),t.addMethod(new T("add",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Fügt der Collection ein Element hinzu. Gibt genau dann true zurück, wenn sich der Zustand der Collection dadurch geändert hat.")),t.addMethod(new T("addAll",new x([{identifier:"c",type:Fi(t),declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Fügt alle Elemente von c dieser Collection hinzu.")),t.addMethod(new T("clear",new x([]),null,null,!0,!1,"Entfernt alle Element aus dieser Collection.")),t.addMethod(new T("contains",new x([{identifier:"o",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Testet, ob die Collection das Element enthält.")),t.addMethod(new T("remove",new x([{identifier:"o",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Entfernt das Element o aus der Collection. Gibt true zurück, wenn die Collection das Element enthalten hatte.")),t.addMethod(new T("isEmpty",new x([]),Gt,null,!0,!1,"Testet, ob die Collection das leer ist.")),t.addMethod(new T("size",new x([]),Bt,null,!0,!1,"Gibt die Anzahl der Elemente der Collection zurück.")),t}return t=o,n&&Ai(t.prototype,n),i&&Ai(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Li(e,t){return(Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ni(e);if(t){var r=Ni(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Gi(this,n)}}function Gi(e,t){if(t&&("object"===Ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}(o,e);var t,n,i,r=Wi(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Iterable",e,"Interface mit Funktionalität zum iterieren (d.h. Durchlaufen aller Elemente)");var n=e.typeStore.getType("Object").clone();n.identifier="E",n.isTypeVariable=!0;var i={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:n};t.typeVariables.push(i);var a=e.typeStore.getType("Iterator").clone();return a.typeVariables=[i],t.addMethod(new T("iterator",new x([]),a,null,!0,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück.")),t}return t=o,n&&Bi(t.prototype,n),i&&Bi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zi(e);if(t){var r=Zi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ui(this,n)}}function Ui(e,t){if(t&&("object"===Hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ki(e,t)}(o,e);var t,n,i,r=Qi(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Iterator",e);var n=e.typeStore.getType("Object").clone();n.identifier="E",n.isTypeVariable=!0;var i={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:n};return t.typeVariables.push(i),t.addMethod(new T("hasNext",new x([]),Gt,null,!0,!1,"Gibt genau dann true zurück, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),t.addMethod(new T("next",new x([]),n,null,!0,!1,"Gibt das nächste Element der Collection zurück.")),t.addMethod(new T("remove",new x([]),null,null,!0,!1,"Löscht das letzte durch next zurückgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als nächstes durch next zurückgegeben wird.")),t}return t=o,n&&Vi(t.prototype,n),i&&Vi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function qi(e){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ji(e,t){return(Ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=nr(e);if(t){var r=nr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return tr(this,n)}}function tr(e,t){if(t&&("object"===qi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ji(e,t)}(o,e);var t,n,i,r=er(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"List",e,"Interface mit Methoden einer Liste (d.h. Anfügen von Elementen nur am Ende)");var n=e.typeStore.getType("Object"),i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var a={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=e.typeStore.getType("Collection").clone();return s.typeVariables=[a],t.extends.push(s),t.addMethod(new T("get",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),i,null,!0,!1,"Gibt das Element der Liste an der Stelle index zurück. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),t.addMethod(new T("remove",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),t.addMethod(new T("indexOf",new x([{identifier:"o",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Bt,null,!0,!1,"Gibt den Index des Elements o zurück. Gibt -1 zurück, wenn die Liste das Element o nicht enthält. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),t}return t=o,n&&Yi(t.prototype,n),i&&Yi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ur(e);if(t){var r=ur(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lr(this,n)}}function lr(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(o,e);var t,n,i,r=sr(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Stack",e,"Stack (Stapelspeicher)");e.typeStore.getType("Object");var n=e.typeStore.getType("Vector");t.setBaseClass(n),t.typeVariables=n.typeVariables;var i=t.typeVariables[0].type;return t.addMethod(new T("push",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n),n.value}),!1,!1,"Pushed ein Element oben auf den Stack. Gibt das gerade gepushte Element zurück.")),t.addMethod(new T("pop",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.pop()}),!1,!1,"Nimmt das oberste Element vom Stack und gibt es zurück.")),t.addMethod(new T("peek",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.peek()}),!1,!1,"Gibt das oberste Element des Stacks zurück, nimmt es aber nicht vom Stack herunter.")),t.addMethod(new T("empty",new x([]),Gt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!0,!1,"Testet, ob die Collection das leer ist.")),t.addMethod(new T("search",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1],i=t.intrinsicData.ListHelper,r=i.indexOf(n);return-1==r?r:i.objectArray.length-r}),!0,!1,"Gibt die Position des Objekts auf dem Stack zurück. Dabei hat das oberste Element den Index 1, das nächstunterste den Index 2 usw. . Falls sich das Objekt nicht auf dem Stack befindet, wird -1 zurückgegeben.")),t}return t=o,n&&or(t.prototype,n),i&&or(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mr(e);if(t){var r=mr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return yr(this,n)}}function yr(e,t){if(t&&("object"===dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vr(e)}function vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hr(e,t)}(o,e);var t,n,i,r=pr(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Vector",e,"Liste mit Zugriff auf das n-te Element in konstanter Zeit");var n=e.typeStore.getType("Object");t.setBaseClass(n);var i=n.clone();i.identifier="A",i.isTypeVariable=!0;var a={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=e.typeStore.getType("List").clone();s.typeVariables=[a],t.implements.push(s);var l=e.typeStore.getType("Iterator").clone();return l.typeVariables=[a],t.addMethod(new T("Vector",new x([]),null,(function(t){var n=t[0].value,i=new Oi(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert ein neues Vector-Objekt",!0)),t.addMethod(new T("iterator",new x([]),l,(function(t){var n=t[0].value.intrinsicData.ListHelper;return yi.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück.")),t.addMethod(new T("add",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"Fügt der Liste ein Element hinzu. Gibt genau dann true zurück, wenn sich der Zustand der Liste dadurch geändert hat.")),t.addMethod(new T("get",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.get(n).value}),!1,!1,"Gibt das i-te Element der Liste zurück.")),t.addMethod(new T("remove",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.remove(n).value,null}),!1,!1,"Entfernt das Element an der Stelle index. WICHTIG: Das erste Element hat den Index 0. Es ist 0 <= index < size()")),t.addMethod(new T("indexOf",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.indexOf(n)}),!1,!1,"Gibt den Index des Elements o zurück. Gibt -1 zurück, wenn die Liste das Element o nicht enthält. WICHTIG: Das erste Element hat den Index 0, das letzte den Index size() - 1. ")),t.addMethod(new T("addAll",new x([{identifier:"c",type:vr(t),declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.addAll(n)}),!1,!1,"Fügt alle Elemente von c dieser Collection hinzu.")),t.addMethod(new T("clear",new x([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),t.addMethod(new T("contains",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthält.")),t.addMethod(new T("remove",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurück, wenn die Collection das Element enthalten hatte.")),t.addMethod(new T("isEmpty",new x([]),Gt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),t.addMethod(new T("size",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurück.")),t}return t=o,n&&fr(t.prototype,n),i&&fr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jr(e);if(t){var r=jr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pr(this,n)}}function Pr(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}(o,e);var t,n,i,r=Sr(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Set",e,"Interface mit Methoden eines Set, d.h. einer Menge, die jedes Element maximal einmal enthält");var n=e.typeStore.getType("Object"),i=e.typeStore.getType("Object").clone();i.identifier="E",i.isTypeVariable=!0;var a={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=e.typeStore.getType("Collection").clone();return s.typeVariables=[a],t.extends.push(s),t.addMethod(new T("contains",new x([{identifier:"o",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Gibt genau dann true zurück, wenn das Set das Objekt o enthält.")),t.addMethod(new T("containsAll",new x([{identifier:"c",type:s,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Gibt genau dann true zurück, wenn das Set alle Elemente der übergebenen Collection enthält.")),t}return t=o,n&&wr(t.prototype,n),i&&wr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Cr(e,t,n){return t&&Or(e.prototype,t),n&&Or(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ir(e);if(t){var r=Ir(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Dr(this,n)}}function Dr(e,t){if(t&&("object"===xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ar(e,t)}(n,e);var t=Er(n);function n(e){var i;Mr(this,n),i=t.call(this,"SetIteratorImpl",e);var r=e.typeStore.getType("Object");i.setBaseClass(r);var o=r.clone();o.identifier="E",o.isTypeVariable=!0;var a={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:o};i.typeVariables.push(a);var s=e.typeStore.getType("Iterator").clone();return s.typeVariables=[a],i.implements.push(s),i.addMethod(new T("hasNext",new x([]),Gt,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.hasNext()}),!1,!1,"Gibt genau dann true zurück, wenn sich noch mindestens ein weiteres Element in der Collection befindet.")),i.addMethod(new T("next",new x([]),o,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.next()}),!1,!1,"Gibt das nächste Element der Collection zurück.")),i.addMethod(new T("remove",new x([]),null,(function(e){return e[0].value.intrinsicData.SetIteratorHelper.remove()}),!1,!1,"Löscht das letzte durch next zurückgegebene Objekt. Diese Methode beeinflusst nicht, welches Element als nächstes durch next zurückgegeben wird.")),i}return Cr(n,null,[{key:"getIterator",value:function(e,t,n,i){var r=n.typeStore.getType("SetIteratorImpl"),o=new E(r);return o.intrinsicData.SetIteratorHelper=new _r(e,t,i),{value:o,type:r}}}]),n}(J),_r=function(){function e(t,n,i){switch(Mr(this,e),this.MapHelper=t,this.interpreter=n,this.kind=i,i){case"ascending":this.nextPos=0;break;case"descending":this.nextPos=t.valueArray.length-1}}return Cr(e,[{key:"remove",value:function(){switch(this.kind){case"ascending":0==this.nextPos?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos>this.MapHelper.valueArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."):(this.MapHelper.removeObject(this.MapHelper.valueArray[this.nextPos-1].value),this.nextPos-=1);break;case"descending":this.nextPos==this.MapHelper.valueArray.length-1?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl noch nie next() aufgerufen wurde."):this.nextPos<0?this.interpreter.throwException("Die Methode remove() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."):(this.MapHelper.removeObject(this.MapHelper.valueArray[this.nextPos+1].value),this.nextPos+=1)}}},{key:"next",value:function(){switch(this.kind){case"ascending":return this.nextPos>this.MapHelper.valueArray.length-1?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."),null):this.MapHelper.valueArray[this.nextPos++].value;case"descending":return this.nextPos<0?(this.interpreter.throwException("Die Methode next() des Iterators wurde aufgerufen, obwohl das letzte Element schon beim vorherigen Aufruf zurückgegeben worden war."),null):this.MapHelper.valueArray[this.nextPos--].value}}},{key:"hasNext",value:function(){switch(this.kind){case"ascending":return this.nextPos<this.MapHelper.valueArray.length;case"descending":return this.nextPos>=0}}}]),e}();function zr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Br(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Lr=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.valueArray=[],this.map=new Map}var t,n,i;return t=e,(n=[{key:"allElementsPrimitive",value:function(){var e,t=zr(this.valueArray);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!(n.type instanceof P||["String","_Double","Integer","Boolean","Character"].indexOf(n.type.identifier)>=0))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive())return"["+this.valueArray.map((function(e){return""+e.value})).join(", ")+"]";for(var e={line:1,column:1,length:1},t=[{type:r.noOp,position:e,stepFinished:!1},{type:r.pushConstant,dataType:$t,value:"[",position:e,stepFinished:!1}],n=new x([]),i=0;i<this.valueArray.length;i++){var o=this.valueArray[i];o.type instanceof P||o.type instanceof _t?t.push({type:r.pushConstant,dataType:$t,value:o.type.castTo(o,$t).value,position:e,stepFinished:!1}):(t.push({type:r.pushConstant,dataType:o.type,value:o.value,stepFinished:!1,position:e}),t.push({type:r.callMethod,method:o.type.getMethod("toString",n),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:e})),t.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:e}),t.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:e}),i<this.valueArray.length-1&&(t.push({type:r.pushConstant,dataType:$t,value:", ",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:e}))}t.push({type:r.pushConstant,dataType:$t,value:"]",position:e,stepFinished:!1}),t.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:e}),t.push({type:r.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:e,methodWasInjected:!0});var a={module:this.module,statements:t,labelManager:null},s=new T("toString",new x([]),$t,a,!1,!1);return this.interpreter.runTimer(s,[],(function(){return console.log("List.toString fertig!")}),!0),""}},{key:"adAll",value:function(e){var t=!1,n=e.intrinsicData.ListHelper;if(null!=n){var i,r=zr(n.valueArray);try{for(r.s();!(i=r.n()).done;){var o=i.value;t=t||this.addToSet(o)}}catch(e){r.e(e)}finally{r.f()}}return t}},{key:"addToSet",value:function(e){return!this.contains(e)&&(this.valueArray.push(e),this.map.set(e.value,!0),!0)}},{key:"size",value:function(){return this.valueArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"removeObject",value:function(e){if(null==this.map.get(e.value))return!1;for(var t=0;t<this.valueArray.length;t++)this.valueArray[t].value==e.value&&this.valueArray.splice(t,1);this.map.delete(e.value)}},{key:"contains",value:function(e){return null!=this.map.get(e.value)}},{key:"clear",value:function(){this.valueArray=[],this.map.clear()}}])&&Br(t.prototype,n),i&&Br(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Kr(e);if(t){var r=Kr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Hr(this,n)}}function Hr(e,t){if(t&&("object"===Wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nr(e,t)}(o,e);var t,n,i,r=$r(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"HashSet",e,"Set mit Zugriffszeit proportional zu log(Anzahl der Elemente)");var n=e.typeStore.getType("Object");t.setBaseClass(n);var i=n.clone();i.identifier="E",i.isTypeVariable=!0;var a={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=e.typeStore.getType("Set").clone();s.typeVariables=[a],t.implements.push(s);var l=e.typeStore.getType("Iterator").clone();return l.typeVariables=[a],t.addMethod(new T("HashSet",new x([]),null,(function(t){var n=t[0].value,i=new Lr(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert ein neues HashSet",!0)),t.addMethod(new T("iterator",new x([]),l,(function(t){var n=t[0].value.intrinsicData.ListHelper;return Fr.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück.")),t.addMethod(new T("add",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addToSet(n)}),!1,!1,"Fügt der Liste ein Element hinzu. Gibt genau dann true zurück, wenn sich der Zustand der Liste dadurch geändert hat.")),t.addMethod(new T("addAll",new x([{identifier:"c",type:Vr(t),declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"Fügt alle Elemente von c dieser Collection hinzu.")),t.addMethod(new T("clear",new x([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),t.addMethod(new T("contains",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthält.")),t.addMethod(new T("remove",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurück, wenn die Collection das Element enthalten hatte.")),t.addMethod(new T("isEmpty",new x([]),Gt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),t.addMethod(new T("size",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurück.")),t.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),t}return t=o,n&&Gr(t.prototype,n),i&&Gr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=eo(e);if(t){var r=eo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Yr(this,n)}}function Yr(e,t){if(t&&("object"===Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}(o,e);var t,n,i,r=qr(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"LinkedHashSet",e,"Ein LinkedHashSet speichert jedes Element nur genau ein Mal.");var n=e.typeStore.getType("Object");t.setBaseClass(n);var i=n.clone();i.identifier="E",i.isTypeVariable=!0;var a={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=e.typeStore.getType("Set").clone();s.typeVariables=[a],t.implements.push(s);var l=e.typeStore.getType("Iterator").clone();return l.typeVariables=[a],t.addMethod(new T("LinkedHashSet",new x([]),null,(function(t){var n=t[0].value,i=new Lr(n,e.main.getInterpreter(),e);n.intrinsicData.MapHelper=i}),!1,!1,"Instanziert ein neues LinkedHashSet",!0)),t.addMethod(new T("iterator",new x([]),l,(function(t){var n=t[0].value.intrinsicData.ListHelper;return Fr.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück.")),t.addMethod(new T("add",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addToSet(n)}),!1,!1,"Fügt der Liste ein Element hinzu. Gibt genau dann true zurück, wenn sich der Zustand der Liste dadurch geändert hat.")),t.addMethod(new T("addAll",new x([{identifier:"c",type:Jr(t),declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.adAll(n)}),!1,!1,"Fügt alle Elemente von c dieser Collection hinzu.")),t.addMethod(new T("clear",new x([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),t.addMethod(new T("contains",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthält.")),t.addMethod(new T("remove",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurück, wenn die Collection das Element enthalten hatte.")),t.addMethod(new T("isEmpty",new x([]),Gt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),t.addMethod(new T("size",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurück.")),t.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),t}return t=o,n&&Zr(t.prototype,n),i&&Zr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=so(e);if(t){var r=so(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ao(this,n)}}function ao(e,t){if(t&&("object"===no(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ro(e,t)}(o,e);var t,n,i,r=oo(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Queue",e);var n=e.typeStore.getType("Object").clone();n.identifier="E",n.isTypeVariable=!0;var i={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:n};t.typeVariables.push(i);var a=e.typeStore.getType("Collection").clone();return a.typeVariables=[i],t.extends.push(a),t.addMethod(new T("remove",new x([]),n,null,!0,!1,"Entfernt das Element am Kopf der Liste und gibt es zurück. Führt zum Fehler, wenn die Liste leer ist.")),t.addMethod(new T("poll",new x([{identifier:"element",type:n,declaration:null,usagePositions:null,isFinal:!0}]),n,null,!0,!1,"Entfernt das Element am Kopf der Liste und gibt es zurück. Gibt null zurück, wenn die Liste leer ist.")),t.addMethod(new T("peek",new x([]),n,null,!0,!1,"Gibt das Element am Kopf der Liste zurück, entfernt es aber nicht. Gib null zurück, wenn die Liste leer ist.")),t}return t=o,n&&io(t.prototype,n),i&&io(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=yo(e);if(t){var r=yo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return po(this,n)}}function po(e,t){if(t&&("object"===uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fo(e,t)}(o,e);var t,n,i,r=ho(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Deque",e,"Interface für Liste mit zweiseitigem Zugriff (insbesondere Anfügen an beiden Enden)");var n=e.typeStore.getType("Object").clone();n.identifier="E",n.isTypeVariable=!0;var i={identifier:"E",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:n};t.typeVariables.push(i);var a=e.typeStore.getType("Queue").clone();a.typeVariables=[i],t.extends.push(a),t.addMethod(new T("removeFirstOccurrence",new x([{identifier:"element",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Löscht das Erste Vorkommen des Objekts. Gibt true zurück, wenn die Liste dadurch verändert wurde.")),t.addMethod(new T("removeLastOccurrence",new x([{identifier:"element",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Löscht das Letzte Vorkommen des Objekts. Gibt true zurück, wenn die Liste dadurch verändert wurde.")),t.addMethod(new T("addFirst",new x([{identifier:"element",type:n,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"Fügt das Element am Anfang der Liste hinzu.")),t.addMethod(new T("addLast",new x([{identifier:"element",type:n,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"Fügt das Element am Ende der Liste hinzu.")),t.addMethod(new T("removeFirst",new x([]),n,null,!0,!1,"Entfernt das Element am Anfang der Liste und gibt es zurück. Führt zum Fehler, wenn die Liste leer ist.")),t.addMethod(new T("removeLast",new x([]),n,null,!0,!1,"Entfernt das Element am Ende der Liste und gibt es zurück. Führt zum Fehler, wenn die Liste leer ist.")),t.addMethod(new T("peekFirst",new x([]),n,null,!0,!1,"Gibt das Element am Anfang der Liste zurück, entfernt es aber nicht. Gib null zurück, wenn die Liste leer ist.")),t.addMethod(new T("peekLast",new x([]),n,null,!0,!1,"Gibt das Element am Ende der Liste zurück, entfernt es aber nicht. Gib null zurück, wenn die Liste leer ist.")),t.addMethod(new T("push",new x([{identifier:"element",type:n,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!0,!1,"Fügt das Element am Ende der Liste hinzu.")),t.addMethod(new T("pop",new x([]),n,null,!0,!1,"Gibt das Element am Ende der Liste zurück und entfernt es von der Liste. Erzeugt einen Fehler, wenn die Liste leer ist."));var s=e.typeStore.getType("Iterator").clone();return s.typeVariables=[i],t.addMethod(new T("descendingIterator",new x([]),s,null,!0,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück, der die Liste in umgekehrter Reihenfolge (Ende -> Anfang) durchläuft.")),t}return t=o,n&&co(t.prototype,n),i&&co(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Po(e);if(t){var r=Po(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ko(this,n)}}function ko(e,t){if(t&&("object"===mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return So(e)}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bo(e,t)}(o,e);var t,n,i,r=wo(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"LinkedList",e,"Verkettete Liste");var n=e.typeStore.getType("Object");t.setBaseClass(n);var i=n.clone();i.identifier="A",i.isTypeVariable=!0;var a={identifier:"A",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=e.typeStore.getType("Deque").clone();s.typeVariables=[a],t.implements.push(s);var l=e.typeStore.getType("Iterator").clone();return l.typeVariables=[a],t.addMethod(new T("LinkedList",new x([]),null,(function(t){var n=t[0].value,i=new Oi(n,e.main.getInterpreter(),e);n.intrinsicData.ListHelper=i}),!1,!1,"Instanziert eine neue LinkedList",!0)),t.addMethod(new T("iterator",new x([]),l,(function(t){var n=t[0].value.intrinsicData.ListHelper;return yi.getIterator(n,n.interpreter,e,"ascending").value}),!1,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück.")),t.addMethod(new T("descendingIterator",new x([]),l,(function(t){var n=t[0].value.intrinsicData.ListHelper;return yi.getIterator(n,n.interpreter,e,"descending").value}),!1,!1,"Gibt einen Iterator über die Elemente dieser Collection zurück, der die Liste in umgekehrter Reihenfolge durchläuft (Ende -> Anfang).")),t.addMethod(new T("add",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"Fügt der Liste am Ende ein Element hinzu. Gibt genau dann true zurück, wenn sich der Zustand der Liste dadurch geändert hat.")),t.addMethod(new T("addAll",new x([{identifier:"c",type:So(t),declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.ListHelper.addAll(n)}),!1,!1,"Fügt alle Elemente von c dieser Collection hinzu.")),t.addMethod(new T("clear",new x([]),null,(function(e){return e[0].value.intrinsicData.ListHelper.clear()}),!1,!1,"Entfernt alle Element aus dieser Collection.")),t.addMethod(new T("contains",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.contains(n)}),!1,!1,"Testet, ob die Collection das Element enthält.")),t.addMethod(new T("remove",new x([{identifier:"o",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeObject(n)}),!1,!1,"Entfernt das Element o aus der Collection. Gibt true zurück, wenn die Collection das Element enthalten hatte.")),t.addMethod(new T("isEmpty",new x([]),Gt,(function(e){return e[0].value.intrinsicData.ListHelper.isEmpty()}),!1,!1,"Testet, ob die Collection das leer ist.")),t.addMethod(new T("size",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ListHelper.size()}),!1,!1,"Gibt die Anzahl der Elemente der Collection zurück.")),t.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value.intrinsicData.ListHelper.to_String()}),!1,!1)),t.addMethod(new T("remove",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.removeFirst_or_error()}),!1,!1,"Entfernt das Element am Kopf der Liste und gibt es zurück. Führt zum Fehler, wenn die Liste leer ist.")),t.addMethod(new T("poll",new x([]),i,(function(e){var t=e[0].value;e[1];return t.intrinsicData.ListHelper.poll_or_null()}),!1,!1,"Entfernt das Element am Kopf der Liste und gibt es zurück. Gibt null zurück, wenn die Liste leer ist.")),t.addMethod(new T("peek",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.peek_or_null()}),!1,!1,"Gibt das Element am Kopf der Liste zurück, entfernt es aber nicht. Gib null zurück, wenn die Liste leer ist.")),t.addMethod(new T("removeFirstOccurrence",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeFirstOccurrence(n)}),!1,!1,"Löscht das Erste Vorkommen des Objekts. Gibt true zurück, wenn die Liste dadurch verändert wurde.")),t.addMethod(new T("removeLastOccurrence",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.removeFirstOccurrence(n)}),!1,!1,"Löscht das Letzte Vorkommen des Objekts. Gibt true zurück, wenn die Liste dadurch verändert wurde.")),t.addMethod(new T("addFirst",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addFirst(n)}),!1,!1,"Fügt das Element am Anfang der Liste hinzu.")),t.addMethod(new T("addLast",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.addLast(n)}),!1,!1,"Fügt das Element am Ende der Liste hinzu.")),t.addMethod(new T("removeFirst",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.removeFirst_or_error()}),!1,!1,"Entfernt das Element am Anfang der Liste und gibt es zurück. Führt zum Fehler, wenn die Liste leer ist.")),t.addMethod(new T("removeLast",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.removeLast_or_error()}),!1,!1,"Entfernt das Element am Ende der Liste und gibt es zurück. Führt zum Fehler, wenn die Liste leer ist.")),t.addMethod(new T("peekFirst",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.peek_first_or_null()}),!1,!1,"Gibt das Element am Anfang der Liste zurück, entfernt es aber nicht. Gib null zurück, wenn die Liste leer ist.")),t.addMethod(new T("peekLast",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.peek_last_or_null()}),!1,!1,"Gibt das Element am Ende der Liste zurück, entfernt es aber nicht. Gib null zurück, wenn die Liste leer ist.")),t.addMethod(new T("push",new x([{identifier:"element",type:i,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.ListHelper.add(n)}),!1,!1,"Fügt das Element am Ende der Liste hinzu.")),t.addMethod(new T("pop",new x([]),i,(function(e){return e[0].value.intrinsicData.ListHelper.pop()}),!1,!1,"Gibt das Element am Ende der Liste zurück und entfernt es von der Liste. Erzeugt einen Fehler, wenn die Liste leer ist.")),t}return t=o,n&&go(t.prototype,n),i&&go(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ao(e);if(t){var r=Ao(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Co(this,n)}}function Co(e,t){if(t&&("object"===To(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mo(e,t)}(o,e);var t,n,i,r=Oo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Console",e,"Klasse zur Textausgabe in der Konsole.")).setBaseClass(e.typeStore.getType("Object")),t.addMethod(new T("log",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!1}]),null,(function(t){var n;null===(n=e.main.getBottomDiv())||void 0===n||n.console.$consoleTab.find(".jo_console-top").append("<div>"+t[1].value+"</div>")}),!1,!0)),t}return t=o,n&&xo(t.prototype,n),i&&xo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Do(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _o=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$runDiv=t,this.main=n,this.color="",this.lastSpan="",this.maxLines=2e3,this.$lines=[],this.newLines=0,this.printCommands=[],this.currentLinelength=0,this.beginOfLineState=!0,jQuery((function(){i.$outputDiv=t.find(".jo_output"),i.clear();var e=i,n=0,r=!1,o=performance.now();setInterval((function(){e.printCommands.length>0&&(e.doPrinting(),performance.now()-o>200?e.$outputDiv[0].scrollTop=e.$outputDiv[0].scrollHeight:r=!0,o=performance.now()),n++%20==0&&r&&setTimeout((function(){e.$outputDiv[0].scrollTop=e.$outputDiv[0].scrollHeight,r=!1}),200)}),50)}))}var t,n,i;return t=e,(n=[{key:"getGraphicsDiv",value:function(){return this.$runDiv.find(".jo_graphics")}},{key:"showProgramEnd",value:function(){var e=this.$runDiv.find(".jo_run-programend");e.show(),e.addClass("jo_programendkf"),setTimeout((function(){e.removeClass("jo_programendkf"),e.hide()}),3e3)}},{key:"doPrinting",value:function(){if(this.newLines>=this.maxLines){this.$outputDiv.empty();for(var e=this.printCommands.length-1,t=0;e>=0;){if(this.printCommands[e].newLine&&++t>=this.maxLines){this.printCommands.splice(0,e+1);break}e--}}this.newLines=0,null!=this.$lastSpan&&(this.$lastSpan.remove(),this.lastSpan.endsWith("</span>")&&(this.lastSpan=this.lastSpan.substring(0,this.lastSpan.length-7)));var n,i=Do(this.printCommands);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(this.beginOfLineState&&r.text.startsWith(" ")?r.text.match(/^( *)(.*)$/)[2].length>0&&(this.beginOfLineState=!1):r.text.length>0&&(this.beginOfLineState=!1),r.text=r.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),null==r.color&&(r.color="var(--defaultOutputColor)"),""!=this.lastSpan&&this.color==r.color||(""!=this.lastSpan&&(this.lastSpan+="</span>"),this.lastSpan+='<span style="color: '+r.color+'">',r.newLine&&""==r.text&&(this.lastSpan+="​"),this.color=r.color),this.currentLinelength<=1e4&&(this.lastSpan+=r.text,this.currentLinelength+=r.text.length),r.newLine){this.beginOfLineState=!0,this.lastSpan.endsWith("</span>")||(this.lastSpan+="</span>"),this.$lastSpan=jQuery(this.lastSpan),this.$lastDiv.append(this.$lastSpan),this.lastSpan="",this.$lastSpan=null,this.$lastDiv=jQuery("<div></div>");var o=this.main.getInterpreter().inputManager.$input;null!=o?this.$lastDiv.insertBefore(o):this.$outputDiv.append(this.$lastDiv),this.$lines.push(this.$lastDiv),this.currentLinelength=0}}}catch(e){i.e(e)}finally{i.f()}if(""!=this.lastSpan&&(this.lastSpan.endsWith("</span>")||(this.lastSpan+="</span>"),this.$lastSpan=jQuery(this.lastSpan),this.$lastDiv.append(this.$lastSpan)),this.$lines.length>1.5*this.maxLines){var a,s=this.$lines.length-this.maxLines,l=Do(this.$lines.splice(0,s));try{for(l.s();!(a=l.n()).done;)a.value.remove()}catch(e){l.e(e)}finally{l.f()}}this.printCommands=[]}},{key:"clear",value:function(){this.$outputDiv.empty(),this.$lastDiv=jQuery("<div></div>"),this.$lines.push(this.$lastDiv),this.$outputDiv.append(this.$lastDiv),this.currentLinelength=0,this.color="",this.lastSpan="",this.printCommands=[]}},{key:"print",value:function(e,t){if(null!=e){if("number"==typeof t){for(t=t.toString(16);t.length<6;)t="0"+t;t="#"+t}if((e=e.toString()).indexOf("\n")>=0)for(var n=e.split("\n"),i=0;i<n.length;i++){var r=n[i],o=i<n.length-1;""==r&&i==n.length-1||(this.printCommands.push({text:r,color:t,newLine:o}),o&&this.newLines++)}else this.printCommands.push({text:e,color:t,newLine:!1})}}},{key:"println",value:function(e,t){null==e&&(e=""),this.print(e+"\n",t)}}])&&Fo(t.prototype,n),i&&Fo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ro=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$runDiv=t,this.main=n}var t,n,i;return t=e,(n=[{key:"readInput",value:function(e,t,n){var i=e.getReturnType(),r=t[1].value,o=3==t.length?t[2].value:null,a=this.main.getInterpreter().printManager;null!=r&&""!=r&&(a.beginOfLineState=!0,a.println("\n"+r),a.doPrinting()),this.$input=jQuery('<input class="jo_newInput" type="text"/>'),a.$outputDiv.append(this.$input);var s=null==o?"":o;this.$input.val(s);var l=this;this.$input.on("keydown",(function(e){"Enter"==e.key&&l.onSubmit(i,n)})),setTimeout((function(){l.$input.focus()}),200),a.$outputDiv.on("mousedown.inputmanager",(function(e){setTimeout((function(){var e;null===(e=l.$input)||void 0===e||e.focus()}),200)}))}},{key:"onSubmit",value:function(e,t){var n=this.$input.val(),i=this.main.getInterpreter().printManager,r=this.parse(n,e);if(null!=r.error)return this.$input.detach(),i.println(r.error,"#ff0000"),i.doPrinting(),i.$outputDiv.append(this.$input),this.$input[0].scrollIntoView(),void this.$input.focus();i.$outputDiv.off("mousedown.inputmanager"),i.println(n),this.$input.off("keydown"),this.hide(),t(r.value)}},{key:"parse",value:function(e,t){if(t==$t)return{error:null,value:{value:e,type:t}};if(t==Ht)return 0==e.length?{error:"Leere Eingabe. Erwartet wird ein Zeichen.",value:null}:e.length>1?{error:"Zu lange Eingabe. Erwartet wird ein Zeichen.",value:null}:{error:null,value:{value:e,type:t}};if(t==Ht)return"true"!=e&&"false"!=e?{error:"Erwartet wird true oder false.",value:null}:{error:null,value:{value:"true"==e,type:t}};e=e.replace(",",".");var n=Number(e);return null==n?{error:"Erwartet wird eine Zahl.",value:null}:t==Bt?n!=Math.round(n)?{error:"Erwartet wird eine ganze Zahl.",value:null}:{error:null,value:{value:Math.round(n),type:t}}:{error:null,value:{value:n,type:t}}}},{key:"hide",value:function(){null!=this.$input&&(this.$input.remove(),this.$input=null)}}])&&zo(t.prototype,n),i&&zo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Lo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"registerPerformanceEntry",value:function(t,n){var i=e.performanceData.find((function(e){return e.url==t}));null==i&&(i={count:0,sumTime:0,url:t},e.performanceData.push(i)),i.count++;var r=Math.round(performance.now()-n);i.sumTime+=r,e.performanceDataCount++}},{key:"sendDataToServer",value:function(){if(performance.now()-e.lastTimeSent>18e4){var t={data:e.performanceData};e.performanceData=[],e.performanceDataCount=0,e.lastTimeSent=performance.now(),Wo("collectPerformanceData",t,(function(){}))}}}],(n=null)&&Bo(t.prototype,n),i&&Bo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wo(e,t,n,i){Go(!0);var r=performance.now();$.ajax({type:"POST",async:!0,data:JSON.stringify(t),contentType:"application/json",url:"servlet/"+e,success:function(t){if(Lo.registerPerformanceEntry(e,r),Go(!1),null!=t.success&&0==t.success||"string"==typeof t&&""==t){var o="Fehler bei der Bearbeitung der Anfrage";null!=t.message&&(o=t.message),i&&i(o)}else n(t)},error:function(e,t){if(Go(!1),i){var n="Server nicht erreichbar.";return 0!=e.status&&(n=""+e.status),void i(t+": "+n)}}})}function Go(e){e?jQuery(".jo_network-busy").show():jQuery(".jo_network-busy").hide()}function No(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Lo.performanceData=[],Lo.performanceDataCount=0,Lo.lastTimeSent=performance.now();var $o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.networkManager=n,this.unsentMessages=[],this.connect()}var t,n,i;return t=e,(n=[{key:"connect",value:function(){var e=this;this.state="connecting",Wo("getWebSocketToken",{},(function(t){var n=(window.location.protocol.startsWith("https")?"wss://":"ws://")+window.location.host+"/servlet/subscriptionwebsocket";e.connection=new WebSocket(n),e.connection.onerror=function(t){e.onError(t)},e.connection.onclose=function(t){e.onClose(t)},e.connection.onmessage=function(t){e.onMessage(t)},e.connection.onopen=function(n){var i={command:1,token:t.token};e.state="connected",e.sendIntern(JSON.stringify(i))},setTimeout((function(){"subscribed"!=e.state&&(e.networkManager.forcedUpdateEvery=1,e.networkManager.counterTillForcedUpdate=1)}),7e3)}))}},{key:"disconnect",value:function(){this.state="connected",this.sendIntern(JSON.stringify({command:2}))}},{key:"sendIntern",value:function(e){if("disconnected"!=this.state)try{this.connection.send(e)}catch(e){console.log(e)}}},{key:"onClose",value:function(e){this.state="disconnected"}},{key:"onMessage",value:function(e){var t=JSON.parse(e.data);if(null!=t.command)switch(t.command){case 1:this.state="subscribed";break;case 2:this.networkManager.sendUpdates((function(){}),!0);break;case 3:this.state="disconnected"}}},{key:"onError",value:function(e){console.log("Fehler beim Notifier-Websocket")}}])&&No(t.prototype,n),i&&No(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ho(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ko(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$updateTimerDiv=n,this.ownUpdateFrequencyInSeconds=25,this.teacherUpdateFrequencyInSeconds=5,this.updateFrequencyInSeconds=25,this.forcedUpdateEvery=25,this.forcedUpdatesInARow=0,this.secondsTillNextUpdate=this.updateFrequencyInSeconds,this.errorHappened=!1}var t,n,i;return t=e,(n=[{key:"initializeTimer",value:function(){var e=this,t=this;this.$updateTimerDiv.find("svg").attr("width",t.updateFrequencyInSeconds),null!=this.interval&&clearInterval(this.interval),this.counterTillForcedUpdate=this.forcedUpdateEvery,this.interval=setInterval((function(){if(null!=t.main.user){if(t.secondsTillNextUpdate--,t.secondsTillNextUpdate<0){t.secondsTillNextUpdate=t.updateFrequencyInSeconds,t.counterTillForcedUpdate--;var n=0==t.counterTillForcedUpdate;n&&(e.forcedUpdatesInARow++,t.counterTillForcedUpdate=e.forcedUpdateEvery,e.forcedUpdatesInARow>50&&(t.counterTillForcedUpdate=10*e.forcedUpdateEvery)),t.sendUpdates((function(){}),n,!1)}var i=e.$updateTimerDiv.find(".jo_updateTimerRect");i.attr("width",t.secondsTillNextUpdate+"px"),t.errorHappened?(i.css("fill","#c00000"),e.$updateTimerDiv.attr("title","Fehler beim letzten Speichervorgang -> Werd's wieder versuchen")):(i.css("fill","#008000"),e.$updateTimerDiv.attr("title",t.secondsTillNextUpdate+" Sekunden bis zum nächsten Speichern")),Lo.sendDataToServer()}}),1e3)}},{key:"initializeNotifierClient",value:function(){this.notifierClient=new $o(this.main,this)}},{key:"sendUpdates",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==this.main.user||this.main.user.is_testuser)null!=e&&e();else{this.main.projectExplorer.writeEditorTextToFile();var o=null===(t=this.main.rightDiv)||void 0===t?void 0:t.classDiagram,a=this.main.user.settings;((null==o?void 0:o.dirty)||this.main.userDataDirty)&&(this.main.userDataDirty=!1,a.classDiagram=null==o?void 0:o.serialize(),this.sendUpdateUserSettings((function(){}),r),this.forcedUpdatesInARow=0),o.dirty=!1;var s,l=[],u=[],c=Ho(this.main.workspaceList);try{for(c.s();!(s=c.n()).done;){var d=s.value;d.saved||(l.push(d.getWorkspaceData(!1)),d.saved=!0,this.forcedUpdatesInARow=0);var f,h=Ho(d.moduleStore.getModules(!1));try{for(h.s();!(f=h.n()).done;){var p=f.value;p.file.saved||(this.forcedUpdatesInARow=0,p.file.text=p.getProgramTextFromMonacoModel(),u.push(p.getFileData(d)),p.file.saved=!0)}}catch(e){h.e(e)}finally{h.f()}}}catch(e){c.e(e)}finally{c.f()}var y={workspacesWithoutFiles:l,files:u,owner_id:this.main.workspacesOwnerId,userId:this.main.user.id,language:0,currentWorkspaceId:null===(n=this.main.currentWorkspace)||void 0===n?void 0:n.id,getModifiedWorkspaces:i},v=this;if(l.length>0||u.length>0||i)r?navigator.sendBeacon("sendUpdates",JSON.stringify(y)):Wo("sendUpdates",y,(function(t){v.errorHappened=!t.success,v.errorHappened||(null!=t.workspaces&&v.updateWorkspaces(y,t),null!=t.filesToForceUpdate&&v.updateFiles(t.filesToForceUpdate),null==e)||e()}),(function(){v.errorHappened=!0}));else if(null!=e)return void e()}}},{key:"sendCreateWorkspace",value:function(e,t,n){if(this.main.user.is_testuser)return e.id=Math.round(1e7*Math.random()),void n(null);Wo("createOrDeleteFileOrWorkspace",{type:"create",entity:"workspace",data:e.getWorkspaceData(!1),owner_id:t,userId:this.main.user.id},(function(t){e.id=t.id,n(null)}),n)}},{key:"sendCreateFile",value:function(e,t,n,i){if(this.main.user.is_testuser)return e.file.id=Math.round(1e7*Math.random()),void i(null);Wo("createOrDeleteFileOrWorkspace",{type:"create",entity:"file",data:e.getFileData(t),owner_id:n,userId:this.main.user.id},(function(t){e.file.id=t.id,i(null)}),i)}},{key:"sendDuplicateWorkspace",value:function(e,t){this.main.user.is_testuser?t("Diese Aktion ist für den Testuser nicht möglich.",null):Wo("duplicateWorkspace",{workspace_id:e.id,language:0},(function(e){t(e.message,e.workspace)}),t)}},{key:"sendDistributeWorkspace",value:function(e,t,n,i){this.main.user.is_testuser?i("Diese Aktion ist für den Testuser nicht möglich."):this.sendUpdates((function(){Wo("distributeWorkspace",{workspace_id:e.id,class_id:null==t?void 0:t.id,student_ids:n,language:0},(function(e){i(e.message)}),i)}),!1)}},{key:"sendSetSecret",value:function(e,t,n,i){Wo("setRepositorySecret",{repository_id:e,newSecretRead:t,newSecretWrite:n},(function(e){i(e)}),(function(e){alert(e)}))}},{key:"sendCreateRepository",value:function(e,t,n,i,r){this.main.user.is_testuser?r("Diese Aktion ist für den Testuser nicht möglich."):this.sendUpdates((function(){Wo("createRepository",{workspace_id:e.id,publish_to:t,name:n,description:i},(function(t){e.moduleStore.getModules(!1).forEach((function(e){e.file.is_copy_of_id=e.file.id,e.file.repository_file_version=1})),e.repository_id=t.repository_id,e.has_write_permission_to_repository=!0,r(t.message,t.repository_id)}),r)}),!0)}},{key:"sendDeleteWorkspaceOrFile",value:function(e,t,n){this.main.user.is_testuser?n(null):Wo("createOrDeleteFileOrWorkspace",{type:"delete",entity:e,id:t,userId:this.main.user.id},(function(e){e.success?n(null):n("Netzwerkfehler!")}),n)}},{key:"sendUpdateUserSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.main.user.is_testuser)e(null);else{var n={settings:this.main.user.settings,userId:this.main.user.id};t?navigator.sendBeacon("updateUserSettings",JSON.stringify(n)):Wo("updateUserSettings",n,(function(t){t.success?e(null):e("Netzwerkfehler!")}),e)}}},{key:"updateWorkspaces",value:function(e,t){var n=this,i=new Map,r=[];e.files.forEach((function(e){return r.push(e.id)})),t.workspaces.workspaces.forEach((function(e){return i.set(e.id,e)}));var o,a=[],s=Ho(t.workspaces.workspaces);try{var l=function(){var e=o.value;0==n.main.workspaceList.filter((function(t){return t.id==e.id})).length&&(a.push(e.name),n.createNewWorkspaceFromWorkspaceData(e))};for(s.s();!(o=s.n()).done;)l()}catch(e){s.e(e)}finally{s.f()}var u,c=Ho(this.main.workspaceList);try{for(c.s();!(u=c.n()).done;){var d=u.value,f=i.get(d.id);null!=f&&function(){var e=new Map;f.files.forEach((function(t){return e.set(t.id,t)}));var t,i=new Map,o=Ho(d.moduleStore.getModules(!1));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.file.id;i.set(s,a);var l=e.get(s);null==l?(n.main.projectExplorer.fileListPanel.removeElement(a),n.main.currentWorkspace.moduleStore.removeModule(a)):r.indexOf(s)<0&&a.file.text!=l.text&&(a.file.text=l.text,a.model.setValue(l.text),a.file.saved=!0,a.lastSavedVersionId=a.model.getAlternativeVersionId()),a.file.version=l.version}}catch(e){o.e(e)}finally{o.f()}var u,c=Ho(f.files);try{for(c.s();!(u=c.n()).done;){var h=u.value;null==i.get(h.id)&&n.createFile(d,h)}}catch(e){c.e(e)}finally{c.f()}}()}}catch(e){c.e(e)}finally{c.f()}if(a.length>0){var h=a.length>1?"Folgende Workspaces hat Deine Lehrkraft Dir gesendet: ":"Folgenden Workspace hat Deine Lehrkraft Dir gesendet: ";h+=a.join(", "),alert(h)}this.main.projectExplorer.workspaceListPanel.sortElements(),this.main.projectExplorer.fileListPanel.sortElements()}},{key:"updateFiles",value:function(e){var t,n=new Map,i=Ho(this.main.workspaceList);try{for(i.s();!(t=i.n()).done;){var r,o=Ho(t.value.moduleStore.getModules(!1));try{for(o.s();!(r=o.n()).done;){var a=r.value;n[a.file.id]=a}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}var s,l=Ho(e);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=n[u.id];null!=c&&c.file.text!=u.text&&(c.file.text=u.text,c.model.setValue(u.text),c.file.saved=!0,c.lastSavedVersionId=c.model.getAlternativeVersionId(),c.file.version=u.version)}}catch(e){l.e(e)}finally{l.f()}}},{key:"createNewWorkspaceFromWorkspaceData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.main.createNewWorkspace(e.name,e.owner_id);if(n.id=e.id,n.repository_id=e.repository_id,n.has_write_permission_to_repository=e.has_write_permission_to_repository,n.path=e.path,n.isFolder=e.isFolder,n.moduleStore.dirty=!0,null!=e.settings&&e.settings.startsWith("{")){var i=JSON.parse(e.settings);n.settings=i,n.moduleStore.setAdditionalLibraries(i.libraries)}this.main.workspaceList.push(n);var r=e.path.split("/");1==r.length&&""==r[0]&&(r=[]);var o={name:e.name,externalElement:n,iconClass:null==e.repository_id?"workspace":"repository",isFolder:e.isFolder,path:r};this.main.projectExplorer.workspaceListPanel.addElement(o,!0),n.panelElement=o,null!=n.repository_id&&n.renderSynchronizeButton(o);var a,s=Ho(e.files);try{for(s.s();!(a=s.n()).done;){var l=a.value;this.createFile(n,l)}}catch(e){s.e(e)}finally{s.f()}return t&&(this.main.projectExplorer.workspaceListPanel.sortElements(),this.main.projectExplorer.fileListPanel.sortElements()),n}},{key:"createFile",value:function(e,t){var n=null;e==this.main.currentWorkspace&&(n={name:t.name,externalElement:null},this.main.projectExplorer.fileListPanel.addElement(n,!0));var i={id:t.id,name:t.name,dirty:!0,saved:!0,text:t.text,version:t.version,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:!0,workspace_id:e.id,panelElement:n},r=this.main.projectExplorer.getNewModule(i);null!=n&&(n.externalElement=r),e.moduleStore.putModule(r)}}])&&Ko(t.prototype,n),i&&Ko(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Uo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Xo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var qo=function(){function e(t,n,i,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.children=[],this.isOpen=!1,this.caption=t,this.parent=n,null!=n&&n.children.push(this),this.value=r,this.type=o,this.variable=a,this.identifier=i}var t,n,i;return t=e,(n=[{key:"getLevel",value:function(){return null==this.parent?0:this.parent.getLevel()+1}},{key:"getIndent",value:function(){return 0==this.getLevel()?0:15}},{key:"render",value:function(){var e=this;if(null==this.$debuggerElement){this.$debuggerElement=jQuery("<div>"),this.$debuggerElement.addClass("jo_debuggerElement"),this.$debuggerElement.css("margin-left",this.getIndent()+"px");var t=jQuery('<div class="jo_deFirstline"><span class="jo_deIdentifier">'+this.identifier+'</span>:&nbsp;<span class="jo_deValue"></span></div>');this.$debuggerElement.append(t),(this.type instanceof fe||this.type instanceof J&&!(this.type instanceof Fn)&&this.type!=$t||this.type instanceof ee||this.type instanceof te)&&(this.canOpen=!0,this.$debuggerElement.addClass("jo_canOpen"),this.$debuggerElement.append(jQuery('<div class="jo_deChildContainer"></div>')),this.$debuggerElement.find(".jo_deFirstline").on("mousedown",(function(t){null!=e.value&&null!=e.value.value?(0==e.children.length&&e.onFirstOpening(),e.$debuggerElement.toggleClass("jo_expanded"),e.isOpen=!e.isOpen):e.children=[],t.stopPropagation()})))}this.renderValue()}},{key:"onFirstOpening",value:function(){if(this.children=[],this.type instanceof J){var t=this.value.value,n=null==t.intrinsicData?null:t.intrinsicData.ListHelper;if(null!=n)this.renderListElements(n);else{var i,r=Uo(this.value.type.getAttributes(_.private));try{for(r.s();!(i=r.n()).done;){var o=i.value,a=new e(null,this,o.identifier,t.getValue(o.index),o.type,null);a.render(),this.$debuggerElement.find(".jo_deChildContainer").append(a.$debuggerElement)}}catch(e){r.e(e)}finally{r.f()}}}else if(this.type instanceof fe)for(var s=this.value.value,l=this.$debuggerElement.find(".jo_deChildContainer"),u=0;u<s.length&&u<100;u++){var c=new e(null,this,"["+u+"]",s[u],this.type.arrayOfType,null);c.render(),l.append(c.$debuggerElement)}else if(this.type instanceof ee){var d,f=Uo(this.type.getAttributes(_.private));try{for(f.s();!(d=f.n()).done;){var h=d.value,p=this.type.classObject,y=new e(null,this,h.identifier,p.getValue(h.index),h.type,null);y.render(),this.$debuggerElement.find(".jo_deChildContainer").append(y.$debuggerElement)}}catch(e){f.e(e)}finally{f.f()}}else if(this.type instanceof te)if(null!=this.value.value&&this.value.value instanceof E){var v,m=this.value.value,g=Uo(m.class.getAttributes(_.private));try{for(g.s();!(v=g.n()).done;){var b=v.value,w=new e(null,this,b.identifier,m.getValue(b.index),b.type,null);w.render(),this.$debuggerElement.find(".jo_deChildContainer").append(w.$debuggerElement)}}catch(e){g.e(e)}finally{g.f()}}else this.children}},{key:"renderListElements",value:function(t){var n=t.valueArray;if(this.children.length>n.length){for(var i=n.length;i<this.children.length;i++)this.children[i].$debuggerElement.remove();this.children.splice(n.length)}if(this.children.length<n.length&&this.children.length<100)for(var r=this.children.length;r<n.length&&r<=100;r++){var o=n[r],a=""+r;100==r&&(o={type:$t,value:t.valueArray.length-100+" weitere..."},a="...");var s=new e(null,this,a,o,o.type,null);s.render(),this.$debuggerElement.find(".jo_deChildContainer").first().append(s.$debuggerElement)}}},{key:"renderValue",value:function(){var e,t,n=this.value;if(null!=n){if(this.$debuggerElement.show(),null==n.value)t="null",this.removeAllChildren();else if(null!=n.updateValue&&n.updateValue(n),t=null===(e=n.type)||void 0===e?void 0:e.debugOutput(n),this.type instanceof J){var i=this.value.value,r=null==i.intrinsicData?null:i.intrinsicData.ListHelper;null!=r&&(this.renderListElements(r),r.allElementsPrimitive()?(t=r.valueArray.length+" El: ",t+="["+r.objectArray.slice(0,20).map((function(e){return""+e})).join(", ")+"]"):t=n.type.identifier+" ("+r.valueArray.length+" Elemente)")}this.$debuggerElement.find(".jo_deValue").first().html(null==t?"":t);var o,a=Uo(this.children);try{for(a.s();!(o=a.n()).done;)o.value.renderValue()}catch(e){a.e(e)}finally{a.f()}}else this.$debuggerElement.hide()}},{key:"removeAllChildren",value:function(){var e,t=Uo(this.children);try{for(t.s();!(e=t.n()).done;)e.value.$debuggerElement.remove()}catch(e){t.e(e)}finally{t.f()}this.children=[]}}])&&Xo(t.prototype,n),i&&Xo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yo(e){return e.replace(/['"]+/g,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function Jo(e){return e<10?"0"+e:""+e}function ea(e,t){return e.replace(new RegExp("(?![^\\n]{1,".concat(t,"}$)([^\\n]{1,").concat(t,"})\\s"),"g"),"$1\n")}function ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if("string"==typeof t)n=t;else for(var i=0;i<t;i++)n+=" ";return(e=ea(e,60)).length>0&&(e="\n"+e),e=n+"/**"+e.replace(/\n/g,"\n"+n+" * ")+"\n"+n+" */"}function na(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ia(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ra(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=window.PointerEvent?"pointer":"mouse";null==t&&(t=e);var o=jQuery('<input type="text" class="jo_inplaceeditor" spellcheck="false">');o.css({width:t.css("width"),height:t.css("height"),color:t.css("color"),position:t.css("position"),"background-color":t.css("background-color"),"font-size":t.css("font-size"),"font-weight":t.css("font-weight"),"box-sizing":"border-box"}),o.val(e.text()),o.on(r+"down",(function(e){e.stopPropagation()})),null!=i&&o[0].setSelectionRange(i.start,i.end),t.after(o),t.hide(),setTimeout((function(){o.focus()}),300),o.on("keydown.me",(function(e){if("Enter"!=e.key&&"Escape"!=e.key);else{o.off("keydown.me"),o.off("focusout.me"),o.remove(),t.show();var i=Yo(o.val());n(i)}})),o.on("focusout.me",(function(e){o.off("keydown.me"),o.off("focusout.me"),o.remove(),t.show();var i=Yo(o.val());n(i)}))}function oa(e,t,n){var i,r=window.PointerEvent?"pointer":"mouse",o=jQuery('<div class="jo_contextmenu"></div>'),a=null,s=null,l=na(e);try{var u=function(){var e=i.value,t=e.caption;null!=e.link&&(t='<a href="'.concat(e.link,'" target="_blank" class="jo_menulink">').concat(e.caption,"</a>"));var n=jQuery("<div>"+t+(null!=e.subMenu?'<span style="float: right"> &nbsp; &nbsp; &gt;</span>':"")+"</div>");if(null!=e.color&&n.css("color",e.color),null==e.link)n.on(r+"up.contextmenu",(function(t){t.stopPropagation(),jQuery(".jo_contextmenu").remove(),jQuery(document).off(r+"up.contextmenu"),jQuery(document).off(r+"down.contextmenu"),jQuery(document).off("keydown.contextmenu"),e.callback()})),n.on(r+"down.contextmenu",(function(e){e.stopPropagation()}));else{var l=n.find("a");l.on(r+"up",(function(e){e.stopPropagation(),setTimeout((function(){n.hide()}),500)})),l.on(r+"down",(function(e){e.stopPropagation()}))}n.on(r+"move.contextmenu",(function(){e!=s&&null!=a&&(a.remove(),s=null,a=null),null!=e.subMenu&&(a=oa(e.subMenu,n.offset().left+n.width(),n.offset().top))})),o.append(n)};for(l.s();!(i=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}jQuery(document).on(r+"down.contextmenu",(function(e){jQuery(document).off(r+"down.contextmenu"),jQuery(document).off("keydown.contextmenu"),jQuery(".jo_contextmenu").remove()})),jQuery(document).on("keydown.contextmenu",(function(e){"Escape"==e.key&&(jQuery(document).off(r+"up.contextmenu"),jQuery(document).off("keydown.contextmenu"),jQuery(".jo_contextmenu").remove())}));var c=t>.8*window.innerWidth?"right":"left",d=t>.8*window.innerWidth?window.innerWidth-t:t,f=n>.8*window.innerHeight?"bottom":"top",h=n>.8*window.innerHeight?window.innerHeight-n:n,p={};return p[c]=d+"px",p[f]=h+"px",o.css(p),jQuery("body").append(o),o.show(),o}function aa(e){var t=e.find(".jo_tabheadings>div").not(".jo_noHeading"),n=e.find(".jo_tabs>div"),i=window.PointerEvent?"pointer":"mouse";t.on(i+"down",(function(i){var r=jQuery(i.target);t.removeClass("jo_active"),r.addClass("jo_active");var o=e.find("."+r.data("target"));n.removeClass("jo_active"),n.trigger("myhide"),o.addClass("jo_active"),o.trigger("myshow")}))}function sa(e){return e=e.replace("px","").trim(),Number.parseInt(e)}function la(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,r="";null!=e&&""!=e&&(r+=' id="'.concat(e,'"')),null!=t&&""!=t&&(r+=' class="'.concat(t,'"'));var o=jQuery("<div".concat(r,"></div>"));return null!=i&&o.css(i),null!=n&&""!=n&&o.text(n),o}var ua=!1;function ca(e,t,n,i){var r="rgba("+n[0]+", "+n[1]+", "+n[2]+", ",o=1,a=o/(i/20);!function n(){e.css(t,r+o+")"),(o-=a)<0?e.css(t,""):setTimeout(n,20)}()}function da(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n?e:new Blob([JSON.stringify(e)],{type:"text/plain"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,t);else{var r=document.createEvent("MouseEvents"),o=document.createElement("a");o.download=t,o.href=window.URL.createObjectURL(i),o.dataset.downloadurl=["text/plain",o.download,o.href].join(":"),r.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(r),o.remove()}}function fa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ha(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function pa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ya=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.moduleStore=new Ok(this.main,!0),this.lexer=new ln,this.parser=new Kn(!0),this.codeGenerator=new Gn,this.module=new Tk(null,t)}var t,n,i;return t=e,(n=[{key:"compile",value:function(e,t,n,i){var o=performance.now(),a=[];this.module.clear(),null==i?(i=new gn(null,{column:1,line:1,length:0},{column:1,line:100,length:0})).beginsNewStackframe=!0:i=i.getImitation();var s=this.lexer.lex(e);a=s.errors,this.module.tokenList=s.tokens,new Kn(!0).parse(this.module),a=a.concat(this.module.errors[1]);var l,u=fa(this.module.typeNodes);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(null==c.resolvedType){var d=t.getType(c.identifier);null==d?a.push({text:"Der Datentyp "+c.identifier+" ist nicht bekannt.",position:c.position,level:"error"}):c.resolvedType=ni(d.type,c.arrayDimension)}}}catch(e){u.e(e)}finally{u.f()}var f=this.codeGenerator.startAdhocCompilation(this.module,t,i,n);if(0==(a=a.concat(f)).length){var h,p=this.module.mainProgram.statements,y=fa(p);try{for(y.s();!(h=y.n()).done;)h.value.stepFinished=!1}catch(e){y.e(e)}finally{y.f()}p.length>0&&p[p.length-1].type==r.programEnd&&p.splice(p.length-1,1)}var v=performance.now()-o;return v=Math.round(100*v)/100,{program:this.module.mainProgram,errors:a,symbolTable:i}}}])&&pa(t.prototype,n),i&&pa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function va(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ma=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.workspace=t,this.main=n,this.programMap=new Map,this.compiler=new ya(n)}var t,n,i;return t=e,(n=[{key:"compile",value:function(e,t){if(null!=t){var n=this.programMap.get(e);if(null!=n){var i=n.get(t.id);if(null!=i)return{error:null,program:i}}else n=new Map,this.programMap.set(e,n);var r=this.workspace.moduleStore,o=this.main.getInterpreter().heap;if(e.length>0&&null!=r){var a=this.compiler.compile(e,r,o,t);return a.errors.length>0?{error:a.errors[0].text,program:null}:(n.set(t.id,a.program),{error:null,program:a.program})}return{error:"Leerer Ausdruck",program:null}}}},{key:"evaluate",value:function(e,t){null==t&&(t=this.main.getDebugger().lastSymboltable);var n=this.compile(e,t);return null!=(null==n?void 0:n.error)?{error:n.error,value:null}:null==n?{error:"Fehler beim Kompilieren",value:null}:this.main.getInterpreter().evaluate(n.program)}}])&&va(t.prototype,n),i&&va(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ga(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ba(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ka=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.saved=!0,this.settings={libraries:[]},this.name=t,this.owner_id=i,this.moduleStore=new Ok(n,!0,this.settings.libraries),this.evaluator=new ma(this,n)}var t,n,i;return t=e,i=[{key:"restoreFromData",value:function(t,n){var i=null!=t.settings&&t.settings.startsWith("{")?JSON.parse(t.settings):{libraries:[]};i.libaries&&(i.libraries=i.libaries);var r=new e(t.name,n,t.owner_id);r.id=t.id,r.path=t.path,r.isFolder=t.isFolder,r.owner_id=t.owner_id,r.version=t.version,r.repository_id=t.repository_id,r.has_write_permission_to_repository=t.has_write_permission_to_repository,r.settings=i,null==r.settings.libraries&&(r.settings.libraries=[]),r.settings.libraries.length>0&&r.moduleStore.setAdditionalLibraries(r.settings.libraries);var o,a=ga(t.files);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=Tk.restoreFromData(s,n);r.moduleStore.putModule(l),s.id==t.currentFileId&&(r.currentlyOpenModule=l)}}catch(e){a.e(e)}finally{a.f()}return r}}],(n=[{key:"toExportedWorkspace",value:function(){return{name:this.name,modules:this.moduleStore.getModules(!1).map((function(e){return e.toExportedModule()})),settings:this.settings}}},{key:"alterAdditionalLibraries",value:function(){this.moduleStore.setAdditionalLibraries(this.settings.libraries),this.moduleStore.dirty=!0}},{key:"getWorkspaceData",value:function(e){var t={name:this.name,path:this.path,isFolder:this.isFolder,id:this.id,owner_id:this.owner_id,currentFileId:null==this.currentlyOpenModule?null:this.currentlyOpenModule.file.id,files:[],version:this.version,repository_id:this.repository_id,has_write_permission_to_repository:this.has_write_permission_to_repository,language:0,sql_baseDatabase:"",sql_history:"",sql_manipulateDatabaseStatements:"",settings:JSON.stringify(this.settings)};if(e){var n,i=ga(this.moduleStore.getModules(!1));try{for(i.s();!(n=i.n()).done;){var r=n.value;t.files.push(r.getFileData(this))}}catch(e){i.e(e)}finally{i.f()}}return t}},{key:"renderSynchronizeButton",value:function(e){var t,n=null===(t=null==e?void 0:e.$htmlFirstLine)||void 0===t?void 0:t.find(".jo_additionalButtonRepository");if(null!=n){var i=this.main;if(null!=this.repository_id&&this.owner_id==i.user.id){var r=jQuery('<div class="jo_startButton img_open-change jo_button jo_active" title="Workspace mit Repository synchronisieren"></div>');n.append(r);var o=this;r.on("mousedown",(function(e){return e.stopPropagation()})),r.on("click",(function(e){e.stopPropagation(),o.synchronizeWithRepository()}))}else n.find(".jo_startButton").remove()}}},{key:"synchronizeWithRepository",value:function(){var e=this,t=this.main;null!=this.repository_id&&this.owner_id==t.user.id&&t.networkManager.sendUpdates((function(){t.synchronizationManager.synchronizeWithWorkspace(e)}),!0)}},{key:"hasErrors",value:function(){return this.moduleStore.hasErrors()}},{key:"getModuleByMonacoModel",value:function(e){var t,n=ga(this.moduleStore.getModules(!1));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.model==e)return i}}catch(e){n.e(e)}finally{n.f()}return null}}])&&wa(t.prototype,n),i&&wa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ja(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ta=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.$dialog=jQuery("#dialog"),jQuery("#main").css("visibility","hidden"),this.$dialog.append(jQuery('<div style="flex: 1"></div><div class="dialog-main"></div><div style="flex: 4"></div>')),this.$dialogMain=this.$dialog.find(".dialog-main"),this.$dialog.css("visibility","visible")}},{key:"heading",value:function(e){var t=jQuery('<div class="dialog-heading">'+e+"</div>");return this.$dialogMain.append(t),t}},{key:"addDiv",value:function(e){this.$dialogMain.append(e)}},{key:"subHeading",value:function(e){var t=jQuery('<div class="dialog-subheading">'+e+"</div>");return this.$dialogMain.append(t),t}},{key:"description",value:function(e,t){var n=null==t?"":'style="color: '.concat(t,'"'),i=jQuery('<div class="dialog-description" '.concat(n,">").concat(e,"</div>"));return this.$dialogMain.append(i),i}},{key:"input",value:function(e,t){var n=jQuery('<input class="dialog-input" type="'.concat(e,'" placeholder="').concat(t,'"></input>'));return this.$dialogMain.append(n),n}},{key:"buttons",value:function(e){var t=jQuery('<div class="dialog-buttonRow"></div>');this.$dialogMain.append(t);var n,i=Sa(e);try{var r=function(){var e=n.value,i=jQuery('<button style="background-color: '.concat(e.color,';margin-left: 20px">').concat(e.caption,"</button>"));i.on("click",(function(){e.callback()})),t.append(i)};for(i.s();!(n=i.n()).done;)r()}catch(e){i.e(e)}finally{i.f()}}},{key:"waitMessage",value:function(e){var t=jQuery('<div class="dialog-wait">'.concat(e,'<img src="assets/projectexplorer/svg-loaders/ball-triangle.svg"></div>'));return this.$dialogMain.append(t),function(e){var n=e?"visible":"hidden";t.css("visibility",n)}}},{key:"close",value:function(){this.$dialog.css("visibility","hidden"),this.$dialog.empty(),jQuery("#main").css("visibility","visible")}},{key:"addCheckbox",value:function(e,t,n){var i=jQuery('<input type="checkbox" name="'+n+'"'+(t?" checked":"")+">"),r=jQuery('<label for="'+n+'">'+e+"</label>"),o=jQuery('<div class="jo_checkbox_div"></div>');return o.append(i,r),r.on("click",(function(){i.prop("checked",!i.prop("checked"))})),this.$dialogMain.append(o),function(){return i.is(":checked")}}}])&&ja(t.prototype,n),i&&ja(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Aa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Oa(this,e),this.main=t,this.path=n,this.dialog=new Ta}var t,n,i;return t=e,(n=[{key:"show",value:function(){var e=this,t=this;this.dialog.init(),this.dialog.heading("Workspace importieren"),this.dialog.description("Bitte klicken Sie auf den Button 'Datei auswählen...' oder ziehen Sie eine Datei auf das gestrichelt umrahmte Feld.");var n="Dieser Workspace wird auf unterster Ordnerebene in der Workspaceliste importiert.";this.path.length>0&&(n="Dieser Workspace wird in den Ordner "+this.path.join("/")+" importiert."),this.dialog.description(n);var i=jQuery('<input type="file" id="file" name="file" multiple />');this.dialog.addDiv(i);var r=[],o=this.dialog.description("","red"),a=jQuery("<ul></ul>"),s=function(e){for(var t=function(t){var n=e[t];(i=new FileReader).onload=function(e){var t=e.target.result;if(t.startsWith("{")){var i=JSON.parse(t);null!=i.modules&&null!=i.name&&null!=i.settings?(r.push(i),a.append(jQuery("<li>Workspace ".concat(i.name," mit ").concat(i.modules.length," Dateien</li>")))):o.append(jQuery("<div>Das Format der Datei ".concat(n.name," passt nicht.</div>")))}else o.append(jQuery("<div>Das Format der Datei ".concat(n.name," passt nicht.</div>")))},i.readAsText(n)},n=0;n<e.length;n++){var i;t(n)}};i.on("change",(function(e){var t=e.originalEvent.target.files;s(t)}));var l=jQuery('<div class="jo_workspaceimport_dropzone">Dateien hierhin ziehen</div>');this.dialog.addDiv(l),this.dialog.description("<b>Diese Workspaces werden importiert:</b>"),l.on("dragover",(function(e){e.stopPropagation(),e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy"})),l.on("drop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.originalEvent.dataTransfer.files;s(t)})),this.dialog.addDiv(a),this.dialog.waitMessage("Bitte warten..."),this.dialog.buttons([{caption:"Abbrechen",color:"#a00000",callback:function(){e.dialog.close()}},{caption:"Importieren",color:"green",callback:function(){var n=e.main.networkManager,i=e.main.projectExplorer,o=e.main.user.id;null!=e.main.workspacesOwnerId&&(o=e.main.workspacesOwnerId);var a,s,l=xa(r);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.modules.length}}catch(e){l.e(e)}finally{l.f()}var c,d=xa(r);try{var f=function(){var r=c.value,a=new ka(r.name,e.main,o);null==s&&(s=a),a.isFolder=!1,a.path=e.path.join("/"),a.settings=r.settings,e.main.workspaceList.push(a),a.alterAdditionalLibraries(),n.sendCreateWorkspace(a,o,(function(l){if(null==l){i.workspaceListPanel.addElement({name:a.name,externalElement:a,iconClass:"workspace",isFolder:!1,path:t.path},!0);var u,c=xa(r.modules);try{for(c.s();!(u=c.n()).done;){var d=u.value,f={name:d.name,dirty:!1,saved:!0,text:d.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,is_copy_of_id:null,repository_file_version:null,identical_to_repository_version:null},h=new Tk(f,e.main);a.moduleStore.putModule(h),n.sendCreateFile(h,a,o,(function(t){null==t?(i.workspaceListPanel.sortElements(),e.dialog.close(),null!=s&&i.setWorkspaceActive(s,!0)):alert("Der Server ist nicht erreichbar!")}))}}catch(e){c.e(e)}finally{c.f()}}else alert("Der Server ist nicht erreichbar!")}))};for(d.s();!(c=d.n()).done;)f()}catch(e){d.e(e)}finally{d.f()}}}])}}])&&Ca(t.prototype,n),i&&Ca(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ea(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Da(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _a(e,t,n){return t&&Fa(e.prototype,t),n&&Fa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var za=function(){function e(t,n,i,r,o,a,s,l,u,c,d){var f=this;Ia(this,e),this.accordion=t,this.caption=n,this.flexWeight=i,this.newButtonClass=r,this.buttonNewTitle=o,this.defaultIconClass=a,this.withDeleteButton=s,this.withFolders=l,this.kind=u,this.enableDrag=c,this.acceptDropKinds=d,this.elements=[],this.dontSortElements=!1,t.addPanel(this);var h=window.PointerEvent?"pointer":"mouse";if(l){var p=this;this.$newFolderAction=jQuery('<div class="img_add-folder-dark jo_button jo_active" style="margin-right: 4px" title="Neuen Ordner auf oberster Ebene anlegen">'),this.$newFolderAction.on(h+"down",(function(e){e.stopPropagation(),e.preventDefault();f.addFolder("Neuer Ordner",[],(function(e){f.newFolderCallback(e,(function(){f.sortElements(),e.$htmlFirstLine[0].scrollIntoView(),ca(e.$htmlFirstLine.find(".jo_filename"),"background-color",[0,255,0],2e3)}))}))})),this.addAction(this.$newFolderAction);var y=jQuery('<div class="img_collapse-all-dark jo_button jo_active" style="margin-right: 4px" title="Alle Ordner zusammenfalten">');y.on(h+"down",(function(e){e.stopPropagation(),e.preventDefault(),p.collapseAll()})),this.addAction(y)}}return _a(e,[{key:"collapseAll",value:function(){var e,t=Ea(this.elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isFolder&&n.$htmlFirstLine.hasClass("jo_expanded")&&(n.$htmlFirstLine.removeClass("jo_expanded"),n.$htmlFirstLine.addClass("jo_collapsed")),n.path.length>0&&n.$htmlFirstLine.slideUp(200)}}catch(e){t.e(e)}finally{t.f()}}},{key:"remove",value:function(){this.$captionElement.remove(),this.$listElement.remove()}},{key:"setFixed",value:function(e){this.fixed=e,this.fixed?(this.grow(),this.$captionElement.addClass("jo_fixed")):this.$captionElement.removeClass("jo_fixed")}},{key:"enableNewButton",value:function(e){null!=this.$buttonNew&&(e?this.$buttonNew.show():this.$buttonNew.hide())}},{key:"getCurrentlySelectedPath",value:function(){var e=[],t=this.getSelectedElement();return null!=t&&(e=t.path.slice(0),t.isFolder&&e.push(t.name)),e}},{key:"compareWithPath",value:function(e,t,n,i,r,o){(t=t.slice()).push(e),e="",(r=r.slice()).push(i),i="";for(var a=0;a<t.length&&a<r.length;){var s=t[a].localeCompare(r[a]);if(0!=s)return s;a++}return t.length<r.length?-1:t.length>r.length?1:e.localeCompare(i)}},{key:"getElementIndex",value:function(e,t,n){for(var i=0;i<this.elements.length;i++){var r=this.elements[i];if(this.compareWithPath(e,t,n,r.name,r.path,r.isFolder)<0)return i}return this.elements.length}},{key:"insertElement",value:function(e){var t=this.getElementIndex(e.name,e.path,e.isFolder);this.elements.splice(t,0,e);var n=this.$listElement.find(".jo_file");if(0==t)this.$listElement.prepend(e.$htmlFirstLine);else if(t==n.length)this.$listElement.append(e.$htmlFirstLine);else{var i=n.get(t);jQuery(i).before(e.$htmlFirstLine)}}},{key:"addFolder",value:function(e,t,n){var i={name:e,isFolder:!0,path:t},r=this.renderElement(i,!0);this.insertElement(i),r[0].scrollIntoView(),this.renameElement(i,(function(){n(i)}))}},{key:"renderOuterHtmlElements",value:function(t){var n=this,i=this;if(this.$captionElement=jQuery('<div class="jo_leftpanelcaption jo_expanded">\n        <div class="jo_captiontext">'+this.caption+'</div><div class="jo_actions"></div></div>'),null!=this.newButtonClass){this.$buttonNew=jQuery('<div class="jo_button jo_active '+this.newButtonClass+'" title="'+this.buttonNewTitle+'">'),this.$captionElement.find(".jo_actions").append(this.$buttonNew);var r=window.PointerEvent?"pointer":"mouse";this.$buttonNew.on(r+"down",(function(e){qu.close(),e.stopPropagation();var t=i.getCurrentlySelectedPath(),r={name:"Neu",isFolder:!1,path:t},o=n.getElementIndex("",t,!1);n.elements.splice(o,0,r);var a=n.renderElement(r,!0);if(0==o)n.$listElement.prepend(a);else{var s=n.$listElement.find(".jo_file").get(o-1);jQuery(s).after(a)}a[0].scrollIntoView(),i.renameElement(r,(function(){i.newElementCallback(r,(function(e){r.externalElement=e,null!=r.$htmlSecondLine&&r.$htmlSecondLine.insertAfter(a),null!=i.selectCallback&&i.select(r.externalElement)}))}))}))}var o=jQuery('<div id="filelistouter" class="jo_projectexplorerdiv jo_scrollable" data-grow="'+this.flexWeight+'" style="flex-grow: '+this.flexWeight+'"></div>');this.$listElement=jQuery('<div class="jo_filelist"></div>'),o.append(this.$listElement),t.append(this.$captionElement),t.append(o);var a=this.$captionElement,s=this.$listElement.parent(),l=window.PointerEvent?"pointer":"mouse";a.on(l+"down",(function(e){if(0==e.button&&!n.fixed){var t=s.data("grow");a.hasClass("jo_expanded")?i.accordion.parts.length>1&&s.animate({"flex-grow":.001},1e3,(function(){a.toggleClass("jo_expanded")})):(a.toggleClass("jo_expanded"),s.animate({"flex-grow":t},1e3))}})),a.on("dragover",(function(t){e.currentlyDraggedElementKind==i.kind&&(a.addClass("jo_file_dragover"),t.preventDefault())})),a.on("dragleave",(function(e){a.removeClass("jo_file_dragover")})),a.on("drop",(function(t){if(e.currentlyDraggedElementKind==i.kind){t.preventDefault(),a.removeClass("jo_file_dragover");var n=e.currentlyDraggedElement;null!=n&&i.moveElement(n,null)}}))}},{key:"grow",value:function(){var e=this.$listElement.parent(),t=e.data("grow");e.css("flex-grow",t),this.$captionElement.addClass("jo_expanded")}},{key:"addElement",value:function(e,t){e.$htmlFirstLine=this.renderElement(e,t),this.insertElement(e)}},{key:"sortElements",value:function(){var e=this;this.dontSortElements||(this.elements.sort((function(t,n){var i=t.sortName?t.sortName:t.name,r=n.sortName?n.sortName:n.name;return e.compareWithPath(i,t.path,t.isFolder,r,n.path,n.isFolder)})),this.elements.forEach((function(t){e.$listElement.append(t.$htmlFirstLine)})))}},{key:"setTextAfterFilename",value:function(e,t,n){var i=e.$htmlFirstLine.find(".jo_textAfterName");i.addClass(n),i.html(t)}},{key:"addAction",value:function(e){this.$captionElement.find(".jo_actions").prepend(e)}},{key:"renderElement",value:function(t,n){var i=this,r=window.PointerEvent?"pointer":"mouse",o=this,a="";null==t.iconClass&&(t.iconClass=this.defaultIconClass),t.isFolder&&(t.iconClass="folder",a=n?" jo_expanded":" jo_collapsed");var s="";null==t.path&&(t.path=[]);for(var l=0;l<t.path.length;l++)s+='<div class="jo_folderline"></div>';if(t.$htmlFirstLine=jQuery('<div class="jo_file jo_'.concat(t.iconClass," ").concat(a,'">\n        <div class="jo_folderlines">').concat(s,'</div>\n           <div class="jo_fileimage"></div>\n           <div class="jo_filename">').concat(Yo(t.name),'</div>\n           <div class="jo_textAfterName"></div>\n           <div class="jo_additionalButtonHomework"></div>\n           <div class="jo_additionalButtonStart"></div>\n           <div class="jo_additionalButtonRepository"></div>\n           ').concat(this.withDeleteButton?'<div class="jo_delete img_delete jo_button jo_active"></div>':"","\n           ").concat(ua?"":'<div class="jo_settings_button img_ellipsis-dark jo_button jo_active"></div>',"\n           </div>")),!n&&t.path.length>0&&t.$htmlFirstLine.hide(),null!=this.addElementActionCallback){var u=this.addElementActionCallback(t);t.$htmlFirstLine.append(u)}if(this.withFolders&&t.isFolder&&(t.$htmlFirstLine.on("dragover",(function(n){e.currentlyDraggedElementKind==o.kind&&(t.$htmlFirstLine.addClass("jo_file_dragover"),n.preventDefault())})),t.$htmlFirstLine.on("dragleave",(function(e){t.$htmlFirstLine.removeClass("jo_file_dragover")})),t.$htmlFirstLine.on("drop",(function(n){if(e.currentlyDraggedElementKind==o.kind){n.preventDefault(),t.$htmlFirstLine.removeClass("jo_file_dragover");var i=e.currentlyDraggedElement;e.currentlyDraggedElement=null,null!=i&&o.moveElement(i,t)}}))),this.withFolders||this.enableDrag){var c=t.$htmlFirstLine.find(".jo_filename");c.attr("draggable","true"),c.on("dragstart",(function(n){e.currentlyDraggedElement=t,e.currentlyDraggedElementKind=o.kind,n.originalEvent.dataTransfer.effectAllowed=t.isFolder?"move":"copyMove"}))}null!=this.acceptDropKinds&&this.acceptDropKinds.length>0&&(t.isFolder||(t.$htmlFirstLine.on("dragover",(function(n){i.acceptDropKinds.indexOf(e.currentlyDraggedElementKind)>=0&&(t.$htmlFirstLine.addClass("jo_file_dragover"),n.ctrlKey?n.originalEvent.dataTransfer.dropEffect="copy":n.originalEvent.dataTransfer.dropEffect="move",n.preventDefault())})),t.$htmlFirstLine.on("dragleave",(function(e){t.$htmlFirstLine.removeClass("jo_file_dragover")})),t.$htmlFirstLine.on("drop",(function(n){if(i.acceptDropKinds.indexOf(e.currentlyDraggedElementKind)>=0){n.preventDefault(),t.$htmlFirstLine.removeClass("jo_file_dragover");var r=e.currentlyDraggedElement;e.currentlyDraggedElement=null,null!=r&&null!=o.dropElementCallback&&o.dropElementCallback(t,r,n.ctrlKey?"copy":"move")}})))),t.$htmlFirstLine.on(r+"up",(function(e){if(0==e.button&&null!=o.selectCallback){o.selectCallback(t.externalElement);var n,r=Ea(o.elements);try{for(r.s();!(n=r.n()).done;){var a=n.value;a!=t&&a.$htmlFirstLine.hasClass("jo_active")&&a.$htmlFirstLine.removeClass("jo_active")}}catch(e){r.e(e)}finally{r.f()}if(t.$htmlFirstLine.addClass("jo_active"),t.isFolder){t.$htmlFirstLine.hasClass("jo_expanded")?(t.$htmlFirstLine.removeClass("jo_expanded"),t.$htmlFirstLine.addClass("jo_collapsed")):(t.$htmlFirstLine.addClass("jo_expanded"),t.$htmlFirstLine.removeClass("jo_collapsed"));var s,l={},u=Ea(i.elements);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c.isFolder){var d=c.path.join("/");""!=d&&(d+="/"),l[d+=c.name]=c.$htmlFirstLine.hasClass("jo_collapsed"),l[c.path.join("/")]&&(l[d]=!0)}}}catch(e){u.e(e)}finally{u.f()}l[""]=!1;var f,h=Ea(i.elements);try{for(h.s();!(f=h.n()).done;){var p=f.value;l[p.path.join("/")]?p.$htmlFirstLine.slideUp(200):p.$htmlFirstLine.slideDown(200)}}catch(e){h.e(e)}finally{h.f()}}}}));var d,f=function(e){var n=[];null!=o.renameCallback&&n.push({caption:"Umbenennen",callback:function(){o.renameElement(t)}});var i=window.PointerEvent?"pointer":"mouse";if(t.isFolder&&(n=n.concat([{caption:"Neuen Unterordner anlegen (unterhalb '"+t.name+"')...",callback:function(){o.select(t.externalElement);var e=o.getCurrentlySelectedPath();o.addFolder("Neuer Ordner",e,(function(e){o.newFolderCallback(e,(function(){o.sortElements(),e.$htmlFirstLine[0].scrollIntoView(),ca(e.$htmlFirstLine.find(".jo_filename"),"background-color",[0,255,0],2e3)}))}))}},{caption:"Neuer Workspace...",callback:function(){o.select(t.externalElement),o.$buttonNew.trigger(i+"down")}},{caption:"Workspace importieren...",callback:function(){new Aa(o.accordion.main,t.path.concat([t.name])).show()}}])),null!=o.contextMenuProvider&&!t.isFolder){var r,a=Ea(o.contextMenuProvider(t));try{var s=function(){var e=r.value;n.push({caption:e.caption,callback:function(){e.callback(t)},color:e.color,subMenu:null==e.subMenu?null:e.subMenu.map((function(e){return{caption:e.caption,callback:function(){e.callback(t)},color:e.color}}))})};for(a.s();!(r=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}}n.length>0&&(e.preventDefault(),e.stopPropagation(),oa(n,e.pageX,e.pageY))};return t.$htmlFirstLine[0].addEventListener("contextmenu",f,!1),ua||t.$htmlFirstLine.on("pointerup",(function(){return clearTimeout(d),!1})).on("pointerdown",(function(e){return d=window.setTimeout((function(){f(e)}),500),!1})),ua||(t.$htmlFirstLine.find(".jo_settings_button").on("pointerdown",(function(e){f(e)})),t.$htmlFirstLine.find(".jo_settings_button").on("mousedown click",(function(e){e.preventDefault(),e.stopPropagation()}))),o.withDeleteButton&&t.$htmlFirstLine.find(".jo_delete").on(r+"down",(function(e){e.preventDefault(),oa([{caption:"Abbrechen",callback:function(){}},{caption:"Ich bin mir sicher: löschen!",color:"#ff6060",callback:function(){t.isFolder&&o.getChildElements(t).length>0?alert("Dieser Ordner kann nicht gelöscht werden, da er nicht leer ist."):o.deleteCallback(t.externalElement,(function(){t.$htmlFirstLine.remove(),null!=t.$htmlSecondLine&&t.$htmlSecondLine.remove(),o.elements.splice(o.elements.indexOf(t),1),null!=o.selectCallback&&(o.elements.length>0?o.select(o.elements[0].externalElement):o.select(null))}))}}],e.pageX+2,e.pageY+2),e.stopPropagation()})),t.$htmlFirstLine}},{key:"moveElement",value:function(e,t){var n=null==t?[]:t.path.slice(0).concat([t.name]);if(e.isFolder){var i=[e],r=e.path.concat([e.name]).join("/");if(0==n.join("/").indexOf(r))return;var o=e.path.length;e.path=n.slice(0);var a,s=Ea(this.elements);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.path.join("/").startsWith(r)&&(l.path.splice(0,o),l.path=n.concat(l.path),i.push(l))}}catch(e){s.e(e)}finally{s.f()}for(var u=0,c=i;u<c.length;u++){var d=c[u];d.$htmlFirstLine.remove(),this.elements.splice(this.elements.indexOf(d),1)}for(var f=0,h=i;f<h.length;f++){var p=h[f];this.renderElement(p,!0),this.insertElement(p)}this.moveCallback(i)}else e.path=n,e.$htmlFirstLine.remove(),this.elements.splice(this.elements.indexOf(e),1),this.renderElement(e,!0),this.insertElement(e),this.select(e.externalElement),e.$htmlFirstLine[0].scrollIntoView(),this.moveCallback(e)}},{key:"getChildElements",value:function(e){var t=e.path.slice(0).concat(e.name).join("/");return this.elements.filter((function(e){return e.path.join("/").startsWith(t)}))}},{key:"renameElement",value:function(e,t){var n=this,i=this,r=e.$htmlFirstLine.find(".jo_filename"),o=e.name.indexOf("."),a=null==o?null:{start:0,end:o};this.dontSortElements=!0,ra(r,r,(function(o){null!=e.externalElement&&(o=i.renameCallback(e.externalElement,o)),e.name=o,r.html(e.name),null!=t&&t(),i.sortElements(),r[0].scrollIntoView(),n.dontSortElements=!1}),a)}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e){var i,r=Ea(this.elements);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.$htmlFirstLine.hasClass("jo_active")&&o.$htmlFirstLine.removeClass("jo_active")}}catch(e){r.e(e)}finally{r.f()}}else{var a=this.findElement(e);if(null!=a){var s,l=Ea(this.elements);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.$htmlFirstLine.hasClass("jo_active")&&u.$htmlFirstLine.removeClass("jo_active")}}catch(e){l.e(e)}finally{l.f()}if(a.$htmlFirstLine.addClass("jo_active"),n){var c,d=a.path.join("/"),f=Ea(this.elements);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=h.path.slice(0);d.startsWith(p.join("/"))&&(h.isFolder&&(p.push(h.name),d.startsWith(p.join("/"))&&(h.$htmlFirstLine.removeClass("jo_collapsed"),h.$htmlFirstLine.addClass("jo_expanded"))),h.$htmlFirstLine.show())}}catch(e){f.e(e)}finally{f.f()}a.$htmlFirstLine[0].scrollIntoView()}}}t&&null!=this.selectCallback&&this.selectCallback(e)}},{key:"getPathString",value:function(e){var t=e.path.join("/");return e.isFolder&&(""!=t&&(t+="/"),t+=e.name),t}},{key:"setElementClass",value:function(e,t){var n;null!=e&&(null===(n=e.$htmlFirstLine)||void 0===n||n.removeClass("jo_"+e.iconClass).addClass("jo_"+t),e.iconClass=t)}},{key:"findElement",value:function(e){var t,n=Ea(this.elements);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.externalElement==e)return i}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"removeElement",value:function(e){var t,n=Ea(this.elements);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.externalElement==e)return i.$htmlFirstLine.remove(),null!=i.$htmlSecondLine&&i.$htmlSecondLine.remove(),this.elements.splice(this.elements.indexOf(i),1),void(null!=this.selectCallback&&(this.elements.length>0?this.select(this.elements[0].externalElement):this.select(null)))}}catch(e){n.e(e)}finally{n.f()}}},{key:"clear",value:function(){this.$listElement.empty(),this.elements=[]}},{key:"setCaption",value:function(e){this.$captionElement.find(".jo_captiontext").html(e)}},{key:"getSelectedElement",value:function(){var e,t=Ea(this.elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.$htmlFirstLine.hasClass("jo_active"))return n}}catch(e){t.e(e)}finally{t.f()}return null}}]),e}(),Ra=function(){function e(t,n){Ia(this,e),this.main=t,this.parts=[],this.$html=n,n.addClass("jo_leftpanelinner")}return _a(e,[{key:"addPanel",value:function(e){e.renderOuterHtmlElements(this.$html),this.parts.push(e)}}]),e}();function Ba(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var La=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expression=t,this.accordionElement=n,this.main=i,this.$secondLine=r,this.$rightTextInFirstLine=o}var t,n,i;return t=e,(n=[{key:"setError",value:function(e){this.$secondLine.empty(),this.$secondLine.append(jQuery('<div class="jo_watcherResult">---</div>'))}},{key:"evaluate",value:function(){var e=this,t=this.main.getCurrentWorkspace().evaluator.evaluate(this.expression);if(null!=t.error)this.setError(t.error);else{var n="---";null!=t.value&&(n=t.value.type.debugOutput(t.value)),this.$secondLine.empty(),this.$rightTextInFirstLine.empty(),monaco.editor.colorize(n,"myJava",{tabSize:3}).then((function(t){var i=jQuery('<div class="jo_watcherResult">'+t+"</div>");e.expression.length+n.length<20?e.$rightTextInFirstLine.append(i):e.$secondLine.append(i)}))}}}])&&Ba(t.prototype,n),i&&Ba(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Na(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$debuggerDiv=n,this.$projectexplorerDiv=i,this.lastDebuggerElements=[],this.accordion=new Ra(t,n),this.variablePanel=new za(this.accordion,"Variablen","3",null,null,"",!1,!1,"file",!1,[]),this.variablePanel.$listElement.css("margin-left","4px"),this.watchPanel=new za(this.accordion,"Beobachten","2","img_add-dark","Beobachtungsterm hinzufügen","watcher",!0,!1,"file",!1,[]),this.watchPanel.$listElement.css("margin-left","4px");var r=this;this.watchPanel.newElementCallback=function(e,t){return r.addWatchExpression(e),t(e.externalElement),null},this.watchPanel.deleteCallback=function(e,t){r.deleteWatchExpression(e),t()},this.watchPanel.renameCallback=function(e,t){return r.renameWatchExpression(e,t),t},this.$debuggerDiv.hide()}var t,n,i;return t=e,(n=[{key:"enable",value:function(){null!=this.$projectexplorerDiv&&this.$projectexplorerDiv.hide(),this.$debuggerDiv.show(),this.$debuggerDiv.parent().find(".jo_alternativeText").hide()}},{key:"disable",value:function(){null!=this.$projectexplorerDiv&&this.$projectexplorerDiv.show(),this.$debuggerDiv.hide(),this.$debuggerDiv.parent().find(".jo_alternativeText").show()}},{key:"showData",value:function(e,t,n,i,r){var o=this;if(null!=e.module.file){var a=[],s=e.module.findSymbolTableAtPosition(t.line,t.column),l=this.lastDebuggerElements;this.lastDebuggerElements=[];var u=this.variablePanel.$listElement,c=s;if(null!=s){if(null!=c.classContext){var d=n[i];if(l.length>0&&l[0].value==d&&null==l[0].variable)this.lastDebuggerElements.push(l[0]),a.push(this.lastDebuggerElements[0].$debuggerElement[0]);else{var f=c.classContext instanceof ee?c.classContext.identifier:"this",h=new qo(null,null,f,d,c.classContext,null);this.lastDebuggerElements.push(h)}}for(var p={};null!=c;)c.variableMap.forEach((function(e,t){if(null==p[e.identifier]){var r;p[e.identifier]=!0;var s,u=Wa(l);try{for(u.s();!(s=u.n()).done;){var c=s.value;c.variable==e&&null!=c.$debuggerElement&&(r=c,a.push(r.$debuggerElement[0]),null==r.value&&null!=r.variable&&(r.value=n[i+r.variable.stackPos]))}}catch(e){u.e(e)}finally{u.f()}if(null==r){var d=n[i+e.stackPos];r=new qo(null,null,t,d,e.type,e)}o.lastDebuggerElements.push(r)}}),this),c=c.parent;if(null==s.classContext)for(var y in r){var v=r[y];if(1!=p[v.identifier]){p[v.identifier]=!0;var m,g=void 0,b=Wa(l);try{for(b.s();!(m=b.n()).done;){var w=m.value;w.variable==v&&(g=w,a.push(g.$debuggerElement[0]),g.value=g.variable.value)}}catch(e){b.e(e)}finally{b.f()}if(null==g){var k=v.value;g=new qo(null,null,y,k,v.type,v)}this.lastDebuggerElements.push(g)}}var S,P=Wa(u.children());try{for(P.s();!(S=P.n()).done;){var j=S.value;a.indexOf(j)>=0||j.remove()}}catch(e){P.e(e)}finally{P.f()}var T,x=Wa(this.lastDebuggerElements);try{for(x.s();!(T=x.n()).done;){var M=T.value;null!=M.variable&&(null!=M.variable.stackPos?M.value=n[i+M.variable.stackPos]:M.value=M.variable.value),M.render(),a.indexOf(M.$debuggerElement[0])<0&&u.append(M.$debuggerElement)}}catch(e){x.e(e)}finally{x.f()}this.lastSymboltable=s,this.evaluateWatcherExpressions()}}}},{key:"renameWatchExpression",value:function(e,t){e.expression=t,monaco.editor.colorize(t,"myJava",{tabSize:3}).then((function(t){var n=e.accordionElement.$htmlFirstLine.find(".jo_filename");t='<span class="jo_watcherExpression">'+t+"</span>",n.html(t),n.attr("title",e.expression)})),this.main.getInterpreter().state==ic.paused&&e.evaluate()}},{key:"deleteWatchExpression",value:function(e){}},{key:"addWatchExpression",value:function(e){e.$htmlSecondLine=jQuery("<div></div>");var t=e.$htmlFirstLine.parent().find(".jo_textAfterName").first(),n=new La(e.name,e,this.main,e.$htmlSecondLine,t);e.externalElement=n,monaco.editor.colorize(e.name,"myJava",{tabSize:3}).then((function(t){var n=e.$htmlFirstLine.find(".jo_filename");t='<span class="jo_watcherExpression">'+t+"</span>",n.html(t),n.attr("title",e.externalElement.expression)})),n.evaluate()}},{key:"evaluateWatcherExpressions",value:function(){var e,t=Wa(this.watchPanel.elements);try{for(t.s();!(e=t.n()).done;)e.value.externalElement.evaluate()}catch(e){t.e(e)}finally{t.f()}}}])&&Na(t.prototype,n),i&&Na(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ha(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Va(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ka(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"init",value:function(){var t="";if(null!=window.javaOnlineDir&&(t=window.javaOnlineDir),!e.isInitialized){e.isInitialized=!0;var n,i=Ha(e.sounds);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.player=new Howl({src:[t+r.url],preload:!0}),e.soundMap.set(r.name,r)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"play",value:function(t){var n=e.soundMap.get(t);null!=n&&n.player.play()}}],(n=null)&&Ka(t.prototype,n),i&&Ka(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ua(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Za(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Xa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Qa.sounds=[{url:"assets/mp3/nearby_explosion_with_debris.mp3",name:"nearby_explosion_with_debris",description:"nahe Explosion mit herabfallenden Trümmern"},{url:"assets/mp3/nearby_explosion.mp3",name:"nearby_explosion",description:"nahe Explosion"},{url:"assets/mp3/far_bomb.mp3",name:"far_bomb",description:"fernes Geräusch einer Bombe"},{url:"assets/mp3/cannon_boom.mp3",name:"cannon_boom",description:"einzelner Kanonendonner"},{url:"assets/mp3/far_explosion.mp3",name:"far_explosion",description:"ferne Explosion"},{url:"assets/mp3/laser_shoot.mp3",name:"laser_shoot",description:"Laserschuss (oder was man dafür hält...)"},{url:"assets/mp3/short_bell.mp3",name:"short_bell",description:"kurzes Klingeln (wie bei alter Landenkasse)"},{url:"assets/mp3/flamethrower.mp3",name:"flamethrower",description:"Flammenwerfer"},{url:"assets/mp3/digging.mp3",name:"digging",description:"Geräusch beim Sandschaufeln"},{url:"assets/mp3/short_digging.mp3",name:"short_digging",description:"kurzes Geräusch beim Sandschaufeln"},{url:"assets/mp3/shoot.mp3",name:"shoot",description:"Schussgeräusch"},{url:"assets/mp3/short_shoot.mp3",name:"short_shoot",description:"ein kurzer Schuss"},{url:"assets/mp3/step.mp3",name:"step",description:"ein Schritt"},{url:"assets/mp3/boulder.mp3",name:"boulder",description:"Geräusch eines Steins, der auf einen zweiten fällt"},{url:"assets/mp3/pong_d5.wav",name:"pong_d",description:"Tiefer Pong-Ton"},{url:"assets/mp3/pong_f5.wav",name:"pong_f",description:"Hoher Pong-Ton"}],Qa.soundMap=new Map,Qa.isInitialized=!1;var qa=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$mainElement=t,this.main=n,this.actions={},this.keyEntries={},this.buttons={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this.$mainElement;null==e&&(e=jQuery(document));var t=this;e.on("keydown",(function(e){null!=e&&(t.executeKeyDownEvent(e)," "==e.key&&t.main.isEmbedded()&&t.main.getInterpreter().state==ic.running&&!t.main.getMonacoEditor().hasTextFocus()&&e.preventDefault())}))}},{key:"trigger",value:function(e){var t=this.actions[e];null!=t&&t.action(e,null,"")}},{key:"registerAction",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0,o={action:n,identifier:e,keys:t,text:i,active:!0};this.actions[e]=o;var a,s=Ua(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;null==this.keyEntries[l.toLowerCase()]&&(this.keyEntries[l.toLowerCase()]=[]),this.keyEntries[l.toLowerCase()].push(o)}}catch(e){s.e(e)}finally{s.f()}if(null!=r){null==this.buttons[e]&&(this.buttons[e]=[]),this.buttons[e].push(r);var u=i;t.length>0&&(u+=" ["+t.join(", ")+"]"),r.attr("title",u);var c=window.PointerEvent?"pointer":"mouse";r.on(c+"down",(function(){o.active&&n(e,null,"mousedown"),"interpreter.start"==e&&Qa.init()}))}}},{key:"isActive",value:function(e){var t=this.actions[e];return null!=t&&t.active}},{key:"setActive",value:function(e,t){var n=this.actions[e];null!=n&&(n.active=t);var i=this.buttons[e];if(null!=i){var r,o=Ua(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;t?a.addClass("jo_active"):a.removeClass("jo_active")}}catch(e){o.e(e)}finally{o.f()}}}},{key:"executeKeyDownEvent",value:function(e){if("input"!=document.activeElement.tagName.toLowerCase()&&!(e.keyCode<=18&&e.keyCode>=16)){var t="";e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),null!=e.key&&(t+=e.key.toLowerCase());var n=this.keyEntries[t];if(null!=n){var i,r=Ua(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.active){e.stopPropagation(),e.preventDefault(),o.action(o.identifier,null,t);break}}}catch(e){r.e(e)}finally{r.f()}}}}}])&&Xa(t.prototype,n),i&&Xa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ya(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function es(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ts=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$pcodeTab=this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab")}var t,n,i;return t=e,(n=[{key:"showNode",value:function(e){if(this.$pcodeTab.hasClass("jo_active")){this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab").find("div").removeClass("jo_revealProgramPointer");var t=e.$div;if(null!=t){t.addClass("jo_revealProgramPointer");var n=t.position().top+this.$pcodeTab.scrollTop();n-=this.$pcodeTab.height()/2,this.$pcodeTab.scrollTop(n)}}}},{key:"initGUI",value:function(){var e=this;this.$pcodeTab.on("myshow",(function(){e.main.printProgram()}))}},{key:"printModuleToBottomDiv",value:function(e,t){var n=this;if(null!=t&&this.$pcodeTab.hasClass("jo_active")){var i=this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab");i.html(""),i.append(this.printModule(t)),null!=e&&null!=e.compilerMessage&&i.prepend("<div>"+e.compilerMessage+"</div>"),i.find(".jo_label_destination").on("click",(function(e){var t=jQuery(e.target).data("destination");null==t&&(t=jQuery(e.target).parent().data("destination")),null!=t&&n.$pcodeTab.find("."+t)[0].scrollIntoView()}))}}},{key:"printModule",value:function(e){if(null==e)return[jQuery("<div></div>")];var t=[];if(null!=e.mainProgram&&(t.push(jQuery("<h3>Main Program: </h3>")),t=t.concat(this.print(e.mainProgram.statements))),null!=e.typeStore&&null!=e.typeStore.typeList){var n,i=Ya(e.typeStore.typeList);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r instanceof J){t.push(jQuery("<h2>Class "+r.identifier+":</h2>")),r.attributeInitializationProgram.statements.length>0&&(t.push(jQuery("<h3>Attribute-initialization:</h3>")),t=t.concat(this.print(r.attributeInitializationProgram.statements)));var o,a=Ya(r.methods);try{for(a.s();!(o=a.n()).done;){var s=o.value;null!=s.program&&(t.push(jQuery("<h3>Method "+s.signature+":</h3>")),t=t.concat(this.print(s.program.statements)))}}catch(e){a.e(e)}finally{a.f()}var l,u=Ya(r.staticClass.methods);try{for(u.s();!(l=u.n()).done;){var c=l.value;null!=c.program&&(t.push(jQuery("<h3>Static Method "+c.signature+":</h3>")),t=t.concat(this.print(c.program.statements)))}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){i.e(e)}finally{i.f()}}return t}},{key:"print",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=new Map,o=0,a=Ya(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(s.type==r.jumpAlways||s.type==r.jumpIfFalse||s.type==r.jumpIfTrue||s.type==r.jumpIfFalseAndLeaveOnStack||s.type==r.jumpIfTrueAndLeaveOnStack||s.type==r.extendedForLoopCheckCounterAndGetElement){var l=s.destination,u=i.get(l);null==u&&i.set(l,{number:o++})}if(s.type==r.keywordSwitch){for(var c in s.destinationMap){var d=s.destinationMap[c],f=i.get(d);null==f&&i.set(d,{number:o++})}if(null!=s.defaultDestination){var h=i.get(s.defaultDestination);null==h&&i.set(s.defaultDestination,{number:o++})}}}}catch(e){a.e(e)}finally{a.f()}var p,y=[],v=0,m=Ya(e);try{for(m.s();!(p=m.n()).done;){var g=p.value;y.push(this.printNode(g,n,v,i)),v++}}catch(e){m.e(e)}finally{m.f()}return y}},{key:"printNode",value:function(e,t,n,i){var o=t,s=i.get(n);null!=s&&(o+="<span style='font-weight: bold' class='label"+s.number+"'>Label&nbsp;<span style='color: green'>"+s.number+":</span></span><br>"),null!=e.position?o+="(l"+this.format3(e.position.line)+",&nbsp;c"+this.format3(e.position.column)+"): ":o+="(l&nbsp;xxx,&nbsp;c&nbsp;xxx):",o+="<span style='fontweight: bold; color: #8080ff'>"+r[e.type]+"</span>&nbsp;";var l="";switch(e.type){case r.localVariableDeclaration:case r.heapVariableDeclaration:l+="V: "+this.printVariable(e.variable)+"&nbsp;&nbsp;pushToStackTop: "+e.pushOnTopOfStackForInitialization;break;case r.pushLocalVariableToStack:l+="StackPos: "+e.stackposOfVariable;break;case r.pushFromHeapToStack:l+="v: "+e.identifier;break;case r.pushAttribute:l+="Attribut: "+e.attributeIdentifier+", use THIS-Object: "+e.useThisObject;break;case r.assignment:case r.plusAssignment:case r.minusAssignment:case r.multiplicationAssignment:case r.divisionAssignment:l+="Assignmenttype: "+a[e.type]+"&nbsp;&nbsp;",e.type==r.assignment&&(l+=", leaveValueOnStack: "+e.leaveValueOnStack);break;case r.binaryOp:case r.unaryOp:l+="Operator: "+a[e.operator];break;case r.pushConstant:l+="Value: "+e.value;break;case r.pushStaticClassObject:l+="Static class: "+e.klass.identifier;break;case r.castValue:l+="New Type: "+e.newType.identifier;break;case r.selectArrayElement:break;case r.callMethod:l+=e.method.identifier,l+=", StackframeBegin: "+e.stackframeBegin;break;case r.decreaseStackpointer:l+="count: "+e.popCount;break;case r.return:l+="copyReturnValueToStackframePos0: "+e.copyReturnValueToStackframePos0;break;case r.extendedForLoopCheckCounterAndGetElement:case r.jumpAlways:case r.jumpIfFalse:case r.jumpIfTrue:case r.jumpIfFalseAndLeaveOnStack:case r.jumpIfTrueAndLeaveOnStack:var u=i.get(e.destination).number;l+="destination: <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+u+"'>Label<span style='color: green'>&nbsp;"+u+"</span></span>";break;case r.incrementDecrementBefore:case r.incrementDecrementAfter:l+="amount: "+e.incrementDecrementBy;break;case r.beginArray:l+="type: "+e.arrayType.identifier;break;case r.addToArray:l+="count: "+e.numberOfElementsToAdd;break;case r.pushEmptyArray:l+="type: "+e.arrayType.identifier,l+=", dimension: "+e.dimension;break;case r.keywordSwitch:for(var c in l+="destinationMap: {",e.destinationMap){var d=i.get(e.destinationMap[c]).number;l+=c+": <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+d+"'>Label<span style='color: green'>&nbsp;"+d+"</span></span>, "}if(l.endsWith(", ")&&(l=l.substring(0,l.length-2)),l+="}",null!=e.defaultDestination){var f=i.get(e.defaultDestination).number;l+=", defaultDestination: <span style='font-weight: bold' class='jo_label_destination' data-destination='label"+f+"'>Label<span style='color: green'>&nbsp;"+f+"</span></span>"}break;case r.pushStaticAttribute:null!=e.klass&&(l+="class: "+e.klass.identifier+", attribute: "+e.attributeIdentifier);break;case r.newObject:l+="class: "+e.class.identifier}""!=l&&(o+=" [".concat(l,"]")),1==e.stepFinished&&(o+="::"),o="<div>"+o+"</div>";var h=jQuery(o);return e.$div=h,h}},{key:"printVariable",value:function(e){return e.type.identifier+" "+e.identifier+(null==e.stackPos?"":" (sp: "+e.stackPos+")")}},{key:"format3",value:function(e){return e>=100?""+e:e>=10?"&nbsp;"+e:"&nbsp;&nbsp;"+e}}])&&es(t.prototype,n),i&&es(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ns(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return is(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var as=function(){function e(t,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;rs(this,e),this.withBottomBorder=o,this.color=a,this.isOpen=!1,this.caption=t,this.parent=r,null!=r&&r.children.push(this),this.value=n,this.identifier=i,this.render()}var t,n,i;return t=e,(n=[{key:"getLevel",value:function(){return null==this.parent?0:this.parent.getLevel()+1}},{key:"getIndent",value:function(){return 0==this.getLevel()?0:15}},{key:"render",value:function(){var e=this;this.$consoleEntry=jQuery("<div>"),this.$consoleEntry.addClass("jo_consoleEntry"),this.$consoleEntry.css("margin-left",this.getIndent()+"px"),null!=this.color&&this.$consoleEntry.css("background-color",this.color),this.withBottomBorder&&this.$consoleEntry.addClass("jo_withBorder");var t=jQuery('<div class="jo_ceFirstline"></div>');this.$consoleEntry.append(t),null!=this.value&&null!=this.value.type&&(this.value.type instanceof fe||this.value.type instanceof J&&!(this.value.type instanceof Fn)&&this.value.type!=$t||this.value.type instanceof te)?(this.canOpen=!0,this.$consoleEntry.addClass("jo_canOpen"),this.$consoleEntry.append(jQuery('<div class="jo_ceChildContainer"></div>')),this.$consoleEntry.find(".jo_ceFirstline").on("mousedown",(function(t){null!=e.value&&null!=e.value.value?(null==e.children&&e.onFirstOpening(),e.$consoleEntry.toggleClass("jo_expanded"),e.isOpen=!e.isOpen):e.children=null,t.stopPropagation()}))):null==this.caption&&0==this.getLevel()&&this.$consoleEntry.addClass("jo_cannotOpen"),this.renderValue()}},{key:"onFirstOpening",value:function(){this.children=[];var t=this.value.type;if(t instanceof J){var n,i=ns(this.value.type.getAttributes(_.private));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=new e(null,this.value.value.getValue(r.index),r.identifier,this,!1);o.render(),this.$consoleEntry.find(".jo_ceChildContainer").append(o.$consoleEntry)}}catch(e){i.e(e)}finally{i.f()}}else if(t instanceof fe)for(var a=this.value.value,s=this.$consoleEntry.find(".jo_ceChildContainer"),l=0;l<a.length&&l<100;l++){var u=new e(null,a[l],"["+l+"]",this,!1);u.render(),s.append(u.$consoleEntry)}else if(t instanceof ee){var c,d=this.$consoleEntry.find(".jo_ceChildContainer"),f=ns(t.getAttributes(_.private));try{for(f.s();!(c=f.n()).done;){var h=c.value,p=new e(null,t.classObject.getValue(h.index),h.identifier,this,!1);p.render(),d.append(p.$consoleEntry)}}catch(e){f.e(e)}finally{f.f()}}else if(t instanceof te)if(null!=this.value.value&&this.value.value instanceof E){var y,v=this.$consoleEntry.find(".jo_ceChildContainer"),m=this.value.value,g=ns(m.class.getAttributes(_.private));try{for(g.s();!(y=g.n()).done;){var b=y.value,w=new e(null,m.getValue(b.index),b.identifier,this,!1);w.render(),v.append(w.$consoleEntry)}}catch(e){g.e(e)}finally{g.f()}}else this.children}},{key:"renderValue",value:function(){var e=this.$consoleEntry.find(".jo_ceFirstline"),t=this.value;if(null!=t){var n="";n=null==t.value?"null":t.type.debugOutput(t,400),null!=this.identifier&&e.append(jQuery('<span class="jo_ceIdentifier">'+this.identifier+":&nbsp;</span>")),e.append(jQuery('<span class="jo_ceValue">'+n+"</span>"))}else if(null!=this.caption)if("string"==typeof this.caption)e.append(jQuery('<span class="jo_ceCaption">'+this.caption+"</span>"));else{var i=jQuery('<span class="jo_ceCaption"></span>');i.append(this.caption),e.append(i)}else e.append(jQuery('<span class="jo_ceNoValue">Kein Wert zurückgegeben.</span>'))}},{key:"detachValue",value:function(){this.value=void 0,this.$consoleEntry.removeClass("jo_canOpen"),0==this.getLevel()&&null==this.caption&&this.$consoleEntry.addClass("jo_cannotOpen")}}])&&os(t.prototype,n),i&&os(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ss(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ls(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function us(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var cs=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.history=[],this.historyPos=0,this.isDirty=!1,this.readyToExecute=!1,this.consoleEntries=[],this.errorDecoration=[],null!=n&&(this.$consoleTabHeading=n.find(".jo_tabheadings>.jo_console-tab"),this.$consoleTab=n.find(".jo_tabs>.jo_consoleTab"))}var t,n,i;return t=e,(n=[{key:"initConsoleClearButton",value:function(){var e=this,t=this.$consoleTabHeading.parent().find(".jo_console-clear");this.$consoleTab.on("myshow",(function(){t.show(),e.editor.layout()})),this.$consoleTab.on("myhide",(function(){t.hide()})),t.on("mousedown",(function(t){t.stopPropagation(),e.clear()}))}},{key:"initGUI",value:function(){var e=this;if(null!=this.$bottomDiv){this.initConsoleClearButton();var t=this.$consoleTab.find(".jo_commandline");this.editor=monaco.editor.create(t[0],{value:[""].join("\n"),automaticLayout:!1,renderLineHighlight:"none",guides:{bracketPairs:!1,highlightActiveIndentation:!1,indentation:!1},overviewRulerLanes:0,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,fixedOverflowWidgets:!0,language:"myJava",fontSize:14,fontFamily:null==window.javaOnlineFont?"Consolas, Roboto Mono":window.javaOnlineFont,fontWeight:"500",roundedSelection:!0,occurrencesHighlight:!1,suggest:{localityBonus:!0,snippetsPreventQuickSuggestions:!1},minimap:{enabled:!1},scrollbar:{vertical:"hidden",horizontal:"hidden"},theme:"myCustomThemeDark"}),this.editor.layout();var n=this;this.editor.addCommand(monaco.KeyCode.Enter,(function(){if(n.compileIfDirty(),n.readyToExecute){var e=n.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1);if(""==e)return;n.history.push(e),n.historyPos=0,n.execute(),n.editor.setValue("")}}),"!suggestWidgetVisible"),this.editor.addCommand(monaco.KeyCode.UpArrow,(function(){var e=n.history.length-(n.historyPos+1);if(e>=0){n.historyPos++;var t=n.history[e];n.editor.setValue(t),n.editor.setPosition({lineNumber:1,column:t.length+1})}}),"!suggestWidgetVisible"),this.editor.addCommand(monaco.KeyCode.DownArrow,(function(){var e=n.history.length-(n.historyPos-1);if(e<=n.history.length-1){n.historyPos--;var t=n.history[e];n.editor.setValue(t),n.editor.setPosition({lineNumber:1,column:t.length+1})}else n.editor.setValue(""),n.historyPos=0}),"!suggestWidgetVisible"),this.compiler=new ya(this.main);var i=this.editor.getModel(),r=0;i.onDidChangeContent((function(){var e=i.getAlternativeVersionId();e!=r&&(n.isDirty=!0,r=e)})),this.startTimer(),this.$consoleTabHeading.on("mousedown",(function(){qu.showHelper("consoleHelper",e.main),setTimeout((function(){n.editor.focus()}),500)}))}}},{key:"startTimer",value:function(){this.stopTimer();var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"stopTimer",value:function(){null!=this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}},{key:"compileIfDirty",value:function(){if(this.isDirty){var e=this.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1),t=this.main.getCurrentWorkspace().moduleStore,n=this.main.getDebugger().lastSymboltable,i=this.main.getInterpreter().heap;if(e.length>0&&null!=t){var r=this.compiler.compile(e,t,i,n);this.readyToExecute=0==r.errors.length,this.showErrors(r.errors),this.isDirty=!1}else this.showErrors([])}}},{key:"showErrors",value:function(e){var t,n=[],i=ss(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push({startLineNumber:r.position.line,startColumn:r.position.column,endLineNumber:r.position.line,endColumn:r.position.column+r.position.length,message:r.text,severity:monaco.MarkerSeverity.Error})}}catch(e){i.e(e)}finally{i.f()}monaco.editor.setModelMarkers(this.editor.getModel(),"Fehler",n)}},{key:"execute",value:function(){var e=this,t=this.main.getInterpreter(),n=this.compiler.module,i=this.editor.getModel().getValue(monaco.editor.EndOfLinePreference.LF,!1),r=n.mainProgram;monaco.editor.colorize(i,"myJava",{tabSize:3}).then((function(n){e.executeRapidly(t,r,n),t.showProgramPointerAndVariables()}))}},{key:"programHasMethodCalls",value:function(e){var t,n=ss(e.statements);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.type==r.callMethod&&null==i.method.invoke)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"executeInStepMode",value:function(e,t,n){var i=this;e.pushCurrentProgram(),e.currentProgram=t,e.currentProgramPosition=0;var r=e.stack.length,o=e.state;e.setState(ic.paused),e.start((function(){var t;if(e.stack.length>r)for(t=e.stack.pop();e.stack.length>r;)e.stack.pop();i.writeConsoleEntry(n,t),e.setState(o),o==ic.paused&&e.showProgramPointerAndVariables()}))}},{key:"executeRapidly",value:function(e,t,n){var i=e.evaluate(t);if(null==i.error)this.writeConsoleEntry(n,i.value);else{var r=jQuery("<div><div>"+n+"</div></div>");r.append(jQuery('<div class="jo_console-error"> '+i.error+"</div>")),this.writeConsoleEntry(r,null)}}},{key:"showTab",value:function(){var e=window.PointerEvent?"pointer":"mouse";this.$consoleTabHeading.trigger(e+"down")}},{key:"writeConsoleEntry",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!=this.$consoleTab){var i=this.$consoleTab.find(".jo_console-top"),r=new as(e,null,null,null,null==t,n);if(this.consoleEntries.push(r),i.append(r.$consoleEntry),null!=t){var o=new as(null,t,null,null,!0,n);this.consoleEntries.push(o),i.append(o.$consoleEntry)}var a=i[0].scrollHeight;i.scrollTop(a)}}},{key:"clear",value:function(){this.$consoleTab.find(".jo_console-top").children().remove(),this.consoleEntries=[]}},{key:"detachValues",value:function(){var e,t=ss(this.consoleEntries);try{for(t.s();!(e=t.n()).done;)e.value.detachValue()}catch(e){t.e(e)}finally{t.f()}}},{key:"showError",value:function(e,t){var n,i,r;this.main instanceof Zu&&(null===(n=null==e?void 0:e.file)||void 0===n?void 0:n.name)!=(null===(r=null===(i=this.main.projectExplorer.getCurrentlyEditedModule())||void 0===i?void 0:i.file)||void 0===r?void 0:r.name)&&(this.main.editor.dontDetectLastChange(),this.main.projectExplorer.setModuleActive(e));var o={startColumn:t.column,startLineNumber:t.line,endColumn:t.column+t.length,endLineNumber:t.line};this.main.getMonacoEditor().revealRangeInCenter(o),this.errorDecoration=this.main.getMonacoEditor().deltaDecorations(this.errorDecoration,[{range:o,options:{className:"jo_revealError"}},{range:o,options:{className:"jo_revealErrorWholeLine",isWholeLine:!0}}])}},{key:"clearErrors",value:function(){this.errorDecoration=this.main.getMonacoEditor().deltaDecorations(this.errorDecoration,[])}},{key:"clearExceptions",value:function(){null!=this.$bottomDiv&&this.$consoleTab.find(".jo_console-top").find(".jo_exception").parents(".jo_consoleEntry").remove()}}])&&us(t.prototype,n),i&&us(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ds(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ps=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$mainDiv=i,this.oldDecorations=[],this.oldErrorDecorations=[],this.minimapColor={},this.lightBulbOnClickFunctionList=[],this.minimapColor.error="#bc1616",this.minimapColor.warning="#cca700",this.minimapColor.info="#75beff",this.$bracket_warning=i.find(".jo_parenthesis_warning"),this.$bracket_warning.attr("title","Klammeralarm!"),this.$bracket_warning.children().attr("title","Klammeralarm!");var r=this;i.find(".jo_pw_undo").on("click",(function(){r.main.getMonacoEditor().trigger(".","undo",{})})).attr("title","Undo")}var t,n,i;return t=e,(n=[{key:"showParenthesisWarning",value:function(e){null!=e?(this.$bracket_warning.css("visibility","visible"),this.$bracket_warning.find(".jo_pw_heading").text(e)):this.$bracket_warning.css("visibility","hidden")}},{key:"showErrors",value:function(e){var t=this;this.lightBulbOnClickFunctionList=[];var n=new Map;this.$errorDiv=this.$bottomDiv.find(".jo_tabs>.jo_errorsTab"),this.$errorDiv.empty();var i,r=!1,o=e.moduleStore,a=this.main.getMonacoEditor(),s=ds(o.getModules(!1));try{var l=function(){var e=i.value,o=[],s=[],l=[],u=e.getSortedAndFilteredErrors();n.set(e,e.getErrorCount());var c,d=ds(u);try{for(d.s();!(c=d.n()).done;){var f=c.value,h=void 0,p=void 0,y=t.minimapColor[f.level];switch(f.level){case"error":h="jo_revealErrorLine",p="jo_borderLeftError";break;case"warning":h="jo_revealWarningLine",p="jo_borderLeftWarning";break;case"info":h="jo_revealInfoLine",p="jo_borderLeftInfo"}null!=f.quickFix&&function(){var n=f.quickFix,i="lb_"+Math.trunc(1e6*Math.random());h="jo_yellowLightBulb "+p+" "+i,t.lightBulbOnClickFunctionList.push({class:"."+i,onClickFunction:function(){var t=n.editsProvider(e.model.uri);a.executeEdits("",t.map((function(e){var t=e.edit.range;return{range:new monaco.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),text:e.edit.text,forceMoveMarkers:!0}})))},title:n.title})}(),t.processError(f,e,l);var v=void 0;switch(f.level){case"error":v=monaco.MarkerSeverity.Error;break;case"warning":v=monaco.MarkerSeverity.Warning;break;case"info":v=monaco.MarkerSeverity.Info}o.push({startLineNumber:f.position.line,startColumn:f.position.column,endLineNumber:f.position.line,endColumn:f.position.column+f.position.length,message:f.text,severity:v,relatedInformation:f.quickFix}),s.push({range:{startLineNumber:f.position.line,startColumn:f.position.column,endLineNumber:f.position.line,endColumn:f.position.column+f.position.length},options:{linesDecorationsClassName:h,minimap:{position:monaco.editor.MinimapPosition.Inline,color:y}}})}}catch(e){d.e(e)}finally{d.f()}if(monaco.editor.setModelMarkers(e.model,"test",o),e.oldErrorDecorations=e.model.deltaDecorations(e.oldErrorDecorations,s),t.oldDecorations=t.main.getMonacoEditor().deltaDecorations(t.oldDecorations,[]),l.length>0&&t.$errorDiv.length>0){r=!0;var m=jQuery('<div class="jo_error-filename">'+e.file.name+"&nbsp;</div>");t.$errorDiv.append(m);var g,b=ds(l);try{for(b.s();!(g=b.n()).done;){var w=g.value;t.$errorDiv.append(w)}}catch(e){b.e(e)}finally{b.f()}}};for(s.s();!(i=s.n()).done;)l()}catch(e){s.e(e)}finally{s.f()}return!r&&this.$errorDiv.length>0&&this.$errorDiv.append(jQuery('<div class="jo_noErrorMessage">Keine Fehler gefunden :-)</div>')),this.registerLightbulbOnClickFunctions(),n}},{key:"registerLightbulbOnClickFunctions",value:function(){var e=this;setTimeout((function(){var t,n=ds(e.lightBulbOnClickFunctionList);try{for(n.s();!(t=n.n()).done;){var i=t.value;jQuery(i.class).off("click",i.onClickFunction),jQuery(i.class).on("click",i.onClickFunction).attr("title",i.title)}}catch(e){n.e(e)}finally{n.f()}}),800)}},{key:"processError",value:function(e,t,n){var i=this,r=jQuery('<div class="jo_error-line"></div>'),o=jQuery('<span class="jo_error-position">[Z&nbsp;<span class="jo_linecolumn">'+e.position.line+'</span> Sp&nbsp;<span class="jo_linecolumn">'+e.position.column+"</span>]</span>:&nbsp;"),a="";switch(e.level){case"error":break;case"warning":a='<span class="jo_warning_category">Warnung: </span>';break;case"info":a='<span class="jo_info_category">Info: </span>'}var s=jQuery('<div class="jo_error-text">'+a+e.text+"</div>");r.append(o).append(s);var l=this;r.on("mousedown",(function(n){i.$errorDiv.find(".jo_error-line").removeClass("jo_active"),r.addClass("jo_active"),l.showError(t,e)})),n.push(r)}},{key:"showError",value:function(e,t){this.main instanceof Zu&&e!=this.main.projectExplorer.getCurrentlyEditedModule()&&(this.main.editor.dontDetectLastChange(),this.main.projectExplorer.setModuleActive(e));var n=t.position,i={startColumn:n.column,startLineNumber:n.line,endColumn:n.column+n.length,endLineNumber:n.line};this.main.getMonacoEditor().revealRangeInCenter(i);var r="";switch(t.level){case"error":r="jo_revealError";break;case"warning":r="jo_revealWarning";break;case"info":r="jo_revealInfo"}this.oldDecorations=this.main.getMonacoEditor().deltaDecorations(this.oldDecorations,[{range:i,options:{className:r}}])}}])&&hs(t.prototype,n),i&&hs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ys(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var vs=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.showRevisionActive=!1,this.$homeworkTab=n.find(".jo_tabs>.jo_homeworkTab")}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){var e=this,t=this;this.$homeworkTab.append(this.$homeworkTabLeft=la("","jo_homeworkTabLeft jo_scrollable")),this.$homeworkTab.append(this.$homeworkTabRight=la("","jo_homeworkTabRight jo_scrollable")),this.$showRevisionButton=la("","jo_button jo_active jo_homeworkRevisionButton",""),jQuery("#view-mode").prepend(this.$showRevisionButton),this.$showRevisionButton.on("click",(function(){e.showRevisionActive?e.hideRevision():e.showRevision(t.main.getCurrentlyEditedModule())})),this.$showRevisionButton.hide(),jQuery("#diffEditor").hide()}},{key:"showHomeWorkRevisionButton",value:function(){this.$showRevisionButton.text(this.showRevisionActive?"Normalansicht":"Korrekturen zeigen"),this.$showRevisionButton.show()}},{key:"hideHomeworkRevisionButton",value:function(){this.$showRevisionButton.hide()}},{key:"showRevision",value:function(e){e.file.text=e.getProgramTextFromMonacoModel();var t=e.file;jQuery("#editor").hide(),jQuery("#diffEditor").show();var n=monaco.editor.createModel(t.text_before_revision,"myJava"),i=monaco.editor.createModel(t.text,"myJava");this.diffEditor=monaco.editor.createDiffEditor(document.getElementById("diffEditor"),{enableSplitViewResizing:!0,originalEditable:!1,readOnly:!0,renderSideBySide:!0}),this.diffEditor.setModel({original:n,modified:i}),this.showRevisionActive=!0,this.showHomeWorkRevisionButton()}},{key:"hideRevision",value:function(){this.showRevisionActive&&(jQuery("#diffEditor").hide(),this.diffEditor.dispose(),this.diffEditor=null,jQuery("#editor").show(),this.showRevisionActive=!1,this.showHomeWorkRevisionButton())}},{key:"attachToWorkspaces",value:function(e){var t=this,n=[],i={};e.forEach((function(e){e.moduleStore.getModules(!1).forEach((function(t){var r,o=t.file.submitted_date;if(null!=o){var a=(r=o.match(/^(\d{2})\.(\d{2})\.(\d{4}), (\d{2}):(\d{2})$/),new Date(Number.parseInt(r[3]),Number.parseInt(r[2])-1,Number.parseInt(r[1]),Number.parseInt(r[4]),Number.parseInt(r[5]))),s=function(e){return"".concat(Jo(e.getDate()),".").concat(Jo(e.getMonth()+1),".").concat(e.getFullYear())}(a),l=i[s];null==l&&(l={date:a,day:s,modules:[]},i[s]=l,n.push(l)),l.modules.push({module:t,workspace:e})}}))})),this.$homeworkTabLeft.empty(),this.$homeworkTabRight.empty();var r=this;this.$homeworkTabLeft.append(la("","jo_homeworkHeading","Abgabetage:")),n.sort((function(e,t){return e.date.getFullYear()!=t.date.getFullYear()?-Math.sign(e.date.getFullYear()-t.date.getFullYear()):e.date.getMonth()!=t.date.getMonth()?-Math.sign(e.date.getMonth()-t.date.getMonth()):e.date.getDate()!=t.date.getDate()?-Math.sign(e.date.getDate()-t.date.getDate()):0}));var o=!0;n.forEach((function(e){e.modules.sort((function(e,t){return e.module.file.name.localeCompare(t.module.file.name)}));var n=la("","jo_homeworkDate",e.day);t.$homeworkTabLeft.append(n),n.on("click",(function(i){t.$homeworkTabLeft.find(".jo_homeworkDate").removeClass("jo_active"),n.addClass("jo_active"),r.select(e)})),o&&(o=!1,n.addClass("jo_active"),r.select(e))}))}},{key:"select",value:function(e){this.$homeworkTabRight.empty(),this.$homeworkTabRight.append(la("","jo_homeworkHeading","Abgegebene Dateien:"));var t=this;e.modules.forEach((function(e){var n=jQuery('<div class="jo_homeworkEntry">Workspace <span class="jo_homework-workspace">\n                    '.concat(e.workspace.name,'</span>, Datei <span class="jo_homework-file">\n                    ').concat(e.module.file.name,"</span> (Abgabe: ").concat(e.module.file.submitted_date," )</div>"));t.$homeworkTabRight.append(n),n.on("click",(function(){t.main.projectExplorer.setWorkspaceActive(e.workspace,!0),t.main.projectExplorer.setModuleActive(e.module),t.main.projectExplorer.fileListPanel.select(e.module,!1)}))}))}}])&&ys(t.prototype,n),i&&ys(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ms(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var gs=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$bottomDiv=n,this.$mainDiv=i,this.$bottomDiv.find(".jo_tabs>.jo_pcodeTab").length>0&&(this.programPrinter=new ts(t,n)),this.$bottomDiv.find(".jo_tabheadings>.jo_console-tab").length>0?this.console=new cs(t,n):this.console=new cs(t,null),this.$bottomDiv.find(".jo_tabheadings>.jo_homeworkTabheading").length>0&&(this.homeworkManager=new vs(t,n)),this.errorManager=new ps(t,n,i)}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){aa(this.$bottomDiv),null!=this.programPrinter&&this.programPrinter.initGUI(),null!=this.console&&this.console.initGUI(),null!=this.homeworkManager&&this.homeworkManager.initGUI(),this.$bottomDiv.find(".jo_tabs").children().first().trigger("click");var e=this;jQuery(".jo_pcodeTab").on("myshow",(function(){e.printCurrentlyExecutedModule()}))}},{key:"printCurrentlyExecutedModule",value:function(){var e,t=this.main.getInterpreter();if(t.state==ic.running||t.state==ic.paused){var n=null===(e=t.currentProgram)||void 0===e?void 0:e.module;this.printModuleToBottomDiv(null,n)}}},{key:"printModuleToBottomDiv",value:function(e,t){null!=this.programPrinter&&this.programPrinter.printModuleToBottomDiv(e,t)}},{key:"showHomeworkTab",value:function(){jQuery(".jo_homeworkTabheading").css("visibility","visible");var e=window.PointerEvent?"pointer":"mouse";jQuery(".jo_homeworkTabheading").trigger(e+"down")}},{key:"hideHomeworkTab",value:function(){jQuery(".jo_homeworkTabheading").css("visibility","hidden");var e=window.PointerEvent?"pointer":"mouse";jQuery(".jo_tabheadings").children().first().trigger(e+"down")}}])&&ms(t.prototype,n),i&&ms(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ws(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ks(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ss=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.triggerCharacters=[".","abcdefghijklmnopqrstuvwxyzäöüß_ABCDEFGHIJKLMNOPQRSTUVWXYZÄÖÜ"," "],this.first=!0}var t,n,i;return t=e,(n=[{key:"provideCompletionItems",value:function(e,t,n,i){var r,o,a,s,l,u,c,d=this;setTimeout((function(){var e,t=null===(e=d.main.getMonacoEditor()._contentWidgets["editor.widget.suggestWidget"])||void 0===e?void 0:e.widget;null!=t&&null!=t._widget&&d.first&&(t._widget.toggleDetails(),d.first=!1)}),300);var f=null===(a=null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.editor)||void 0===a?void 0:a.getModel();this.isConsole=e==f;var h=e==this.main.getMonacoEditor().getModel();if(this.isConsole||h){var p=this.isConsole?null===(l=null===(s=this.main.getBottomDiv())||void 0===s?void 0:s.console)||void 0===l?void 0:l.compiler.module:this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==p)return null;if(this.isStringLiteral(p,t))return null;var y=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column}),v=e.getValueInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber+5,endColumn:1});if(" "==n.triggerCharacter){if(null!=y.match(/.*(new )$/))return this.getCompletionItemsAfterNew(p);if(null!=y.match(/.*(class )[\wöäüÖÄÜß<> ,]*[\wöäüÖÄÜß<> ] $/)){for(var m=0,g=0,b=y.lastIndexOf("class");b<y.length;b++)switch(y.charAt(b)){case"<":m++;break;case">":g++}return this.getCompletionItemsAfterClass(p,m>g,v)}return null}var w=v.match(/^([\wöäüÖÄÜß]*\(?)/),k="";null!=w&&w.length>0&&(k=w[0]);var S=k.endsWith("("),P=y.match(/.*(\.)([\wöäüÖÄÜß]*)$/);null!=P&&(this.isConsole?null===(c=null===(u=this.main.getBottomDiv())||void 0===u?void 0:u.console)||void 0===c||c.compileIfDirty():this.main.compileIfDirty());var j=this.isConsole?this.main.getDebugger().lastSymboltable:p.findSymbolTableAtPosition(t.lineNumber,t.column),T=null==j?null:j.classContext;if(null!=P)return this.getCompletionItemsAfterDot(P,t,p,k,T,S);var x=y.match(/.*[^\wöäüÖÄÜß]([\wöäüÖÄÜß]*)$/);return null==x&&(x=y.match(/^([\wöäüÖÄÜß]*)$/)),null!=x?this.getCompletionItemsInsideIdentifier(x,t,p,k,T,S,j):void 0}}},{key:"isStringLiteral",value:function(e,t){var n=e.tokenList;if(null==n||0==n.length)return!1;for(var i,o=0,a=n.length-1,s=1e3;;){if(i==(i=Math.round((a+o)/2)))return!1;if(0==--s)return!1;var l=n[i],u=l.position;if(u.line<t.lineNumber||u.line==t.lineNumber&&u.column+u.length<t.column)o=i;else{if(!(u.line>t.lineNumber||u.line==t.lineNumber&&u.column>t.column))return l.tt==r.stringConstant;a=i}}}},{key:"getCompletionItemsAfterNew",value:function(e){var t=[];t=t.concat(this.main.getCurrentWorkspace().moduleStore.getTypeCompletionItems(e,void 0));for(var n=0;n<t.length;n++){var i=t[n];i.detail.match("Primitiv")?(t.splice(n,1),n--):(i.generic?i.insertText+="<>($0)":i.insertText+="($0)",i.insertTextRules=monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,i.command={id:"editor.action.triggerParameterHints",title:"123",arguments:[]})}return Promise.resolve({suggestions:t})}},{key:"getCompletionItemsAfterClass",value:function(e,t,n){var i=[],r=n.trimLeft().startsWith("{");return i=i.concat([{label:"extends",insertText:"extends $1"+(t||r?"":" {\n\t$0\n}"),detail:"extends-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}},{label:"implements",insertText:"implements $1"+(t||r?"":" {\n\t$0\n}"),detail:"implements-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}},{label:"{}",insertText:"{\n\t$0\n}",detail:"Klassenrumpf",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}]),Promise.resolve({suggestions:i})}},{key:"getCompletionItemsInsideIdentifier",value:function(e,t,n,i,r,o,a){var s,l=e[1],u={startLineNumber:t.lineNumber,startColumn:t.column-l.length,endLineNumber:t.lineNumber,endColumn:t.column+i.length},c=[];if(null!=(null==a?void 0:a.classContext)&&null==(null==a?void 0:a.method)&&a.classContext instanceof J&&(c=c.concat(this.getOverridableMethodsCompletion(a.classContext))),null!=a&&(c=c.concat(a.getLocalVariableCompletionItems(u).map((function(e){return e.sortText="aaa"+e.label,e})))),c=c.concat(this.main.getCurrentWorkspace().moduleStore.getTypeCompletionItems(n,u)),null!=r&&null!=(null==a?void 0:a.method))(c=c.concat(r.getCompletionItems(_.private,o,i,u,a.method).map((function(e){return e.sortText="aa"+e.label,e})))).push({label:"super",filterText:"super",insertText:"super.",detail:"Aufruf einer Methode einer Basisklasse",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0,command:{id:"editor.action.triggerSuggest",title:"123",arguments:[]}});else{var d=null===(s=n.file)||void 0===s?void 0:s.name;if(null!=d){d.endsWith(".java")&&(d=d.substr(0,d.indexOf(".java")));var f=d.match(/([\wöäüÖÄÜß]*)$/);0==n.classDefinitionsAST.length&&null!=f&&f.length>0&&f[0]==d&&d.length>0&&(d=d.charAt(0).toUpperCase()+d.substring(1),c.push({label:"class "+d,filterText:"class",insertText:"class ${1:"+d+"} {\n\t$0\n}\n",detail:"Definition der Klasse "+d,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}))}}return c=c.concat(this.getKeywordCompletion(a)),Promise.resolve({suggestions:c})}},{key:"getCompletionItemsAfterDot",value:function(e,t,n,i,r,o){var a=e[2],s=t.column-a.length-1,l=n.getTypeAtPosition(t.lineNumber,s),u={startLineNumber:t.lineNumber,startColumn:t.column-a.length,endLineNumber:t.lineNumber,endColumn:t.column+i.length};if(null==l)return null;var c=l.type,d=l.isStatic;if(c instanceof J){var f=ie(c,r);return d?Promise.resolve({suggestions:c.staticClass.getCompletionItems(f,o,i,u)}):Promise.resolve({suggestions:c.getCompletionItems(f,o,i,u,null)})}return c instanceof te?Promise.resolve({suggestions:c.getCompletionItems(o,i,u)}):c instanceof fe?Promise.resolve({suggestions:[{label:"length",filterText:"length",kind:monaco.languages.CompletionItemKind.Field,insertText:"length",range:u,documentation:{value:"Anzahl der Elemente des Arrays"}}]}):null}},{key:"getKeywordCompletion",value:function(e){var t=[];return this.isConsole||null!=(null==e?void 0:e.classContext)&&null==(null==e?void 0:e.method)||(t=t.concat([{label:"while(Bedingung){Anweisungen}",detail:"while-Wiederholung",filterText:"while",insertText:"while($1){\n\t$0\n}",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"for(){}",insertText:"for( $1 ; $2 ; $3 ){\n\t$0\n}",detail:"for-Wiederholung",filterText:"for",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"for(int i = 0; i < 10; i++){}",insertText:"for(int ${1:i} = 0; ${1:i} < ${2:10}; ${1:i}++){\n\t$0\n}",detail:"Zähl-Wiederholung",filterText:"for",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"switch(){case...}",insertText:"switch($1){\n\tcase $2:\n\t\t $3\n\t\tbreak;\n\tcase $4:\n\t\t $5\n\t\tbreak;\n\tdefault:\n\t\t $0\n}",detail:"switch-Anweisung",filterText:"switch",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"if(){}",insertText:"if($1){\n\t$0\n}",detail:"Bedingung",filterText:"if",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"if(){} else {}",insertText:"if($1){\n\t$2\n}\nelse {\n\t$0\n}",detail:"Zweiseitige Bedingung",filterText:"if",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"else {}",insertText:"else {\n\t$0\n}",detail:"else-Zweig",filterText:"el",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),null!=(null==e?void 0:e.classContext)&&null==(null==e?void 0:e.method)||(t=t.concat([{label:"instanceof",insertText:"instanceof $0",detail:"instanceof-Operator",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"print",insertText:"print($1);$0",detail:"Ausgabe (ggf. mit Farbe \nals zweitem Parameter)",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"println",insertText:"println($1);$0",detail:"Ausgabe mit Zeilenumbruch (ggf. mit \nFarbe als zweitem Parameter)",command:{id:"editor.action.triggerParameterHints",title:"123",arguments:[]},insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),this.isConsole||null!=e&&null!=e.classContext?this.isConsole||null!=(null==e?void 0:e.method)||(t=t.concat([{label:"public",filterText:"public",insertText:"public ",detail:"Schlüsselwort public",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"public void method(){}",filterText:"public",insertText:"public ${1:void} ${2:Bezeichner}(${3:Parameter}) {\n\t$0\n}\n",detail:"Methodendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"protected",filterText:"protected",insertText:"protected ",detail:"Schlüsselwort protected",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"static",filterText:"static",insertText:"static ",detail:"Schlüsselwort static",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"private",filterText:"private",insertText:"private ",detail:"Schlüsselwort private",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])):t=t.concat([{label:"class",filterText:"class",insertText:"class ${1:Bezeichner} {\n\t$0\n}\n",detail:"Klassendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0},{label:"public class",filterText:"public class",insertText:"public class ${1:Bezeichner} {\n\t$0\n}\n",detail:"Öffentliche Klassendefinition",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}]),null!=e&&null!=e.method&&(t=t.concat([{label:"return",filterText:"return",insertText:"return",detail:"Schlüsselwort return",insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0}])),t}},{key:"getOverridableMethodsCompletion",value:function(e){for(var t=[],n=[],i=e.baseClass;null!=i;)n=n.concat(i.methods.filter((function(e){return!!(e.isAbstract||null==e.program&&null==e.invoke||e.identifier.startsWith("onMouse")||e.identifier.startsWith("onKey"))}))),i=i.baseClass;var r,o=bs(e.implements);try{for(o.s();!(r=o.n()).done;){var a=r.value;n=n.concat(a.getMethods())}}catch(e){o.e(e)}finally{o.f()}var s,l=bs(n);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,d=!1,f=bs(e.methods);try{for(f.s();!(u=f.n()).done;)if(u.value.signature==c.signature){d=!0;break}}catch(e){f.e(e)}finally{f.f()}if(!d){var h=(c.isAbstract?"implement ":"override ")+c.getCompletionLabel(),p=c.identifier,y=_[c.visibility]+" "+(null==c.getReturnType()?"void":c.getReturnType().identifier)+" ";y+=c.identifier+"(";for(var v=0;v<c.getParameterList().parameters.length;v++){var m=c.getParameterList().parameters[v];y+=c.getParameterType(v).identifier+" "+m.identifier,v<c.getParameterCount()-1&&(y+=", ")}y+=") {\n\t$0\n}",t.push({label:h,detail:(c.isAbstract?"Implementiere ":"Überschreibe ")+"die Methode "+h+" der Basisklasse.",filterText:p,insertText:y,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,kind:monaco.languages.CompletionItemKind.Snippet,range:void 0})}}}catch(e){l.e(e)}finally{l.f()}return t}}])&&ks(t.prototype,n),i&&ks(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ps(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return js(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof J){if(e.isTypeVariable)return xs(e);var i="";if(null!=e.documentation&&""!=e.documentation&&(e.documentation.startsWith("/*")?i+=(t+e.documentation).replace(/\n/g,"\n"+t)+"\n":i+=ta(e.documentation,t)+"\n"),null!=e.visibility&&(i+=_[e.visibility]+" "),e.isAbstract&&(i+="abstract "),i+="class "+e.identifier+" ",e.typeVariables.length>0&&(i+=Os(e)),null!=e.baseClass&&"Object"!=e.baseClass.identifier&&(i+="extends "+e.baseClass.identifier+" ",e.baseClass.typeVariables.length>0&&(i+=Os(e.baseClass))),null!=e.implements&&e.implements.length>0){i+="implements ";for(var r=0;r<e.implements.length;r++)i+=e.implements[r].identifier,e.implements[r].typeVariables.length>0&&(i+=Os(e.implements[r])),r<e.implements.length-1&&(i+=", ")}if(n)return i;i+=t+"{\n  ";var o,a=Ps(e.getAttributes(_.protected));try{for(a.s();!(o=a.n()).done;){var s=o.value;i+=t+"\n"+Ts(s,"  ")+";\n"}}catch(e){a.e(e)}finally{a.f()}if(null!=e.staticClass){var l,u=Ps(e.staticClass.getAttributes(_.protected));try{for(u.s();!(l=u.n()).done;){var c=l.value;i+=t+"\n"+Ts(c,"  ")+";\n"}}catch(e){u.e(e)}finally{u.f()}}var d,f=Ps(e.getMethods(_.protected));try{for(f.s();!(d=f.n()).done;){var h=d.value;i+=t+"\n"+Ts(h,"  ")+";\n"}}catch(e){f.e(e)}finally{f.f()}if(null!=e.staticClass){var p,y=Ps(e.staticClass.getMethods(_.protected));try{for(y.s();!(p=y.n()).done;){var v=p.value;i+=t+"\n"+Ts(v,"  ")+";\n"}}catch(e){y.e(e)}finally{y.f()}}return i+="\n}"}if(e instanceof te){var m="";if(null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?m+=(t+e.documentation).replace(/\n/g,"\n"+t)+"\n":m+=ta(e.documentation,t)+"\n"),m+=t+"interface "+e.identifier,e.typeVariables.length>0&&(m+=Os(e)),null!=e.extends&&e.extends.length>0){m+="extends ";for(var g=0;g<e.extends.length;g++)m+=e.extends[g].identifier,e.extends[g].typeVariables.length>0&&(m+=Os(e.extends[g])),g<e.extends.length-1&&(m+=", ")}if(!n){m+="{\n";var b,w=Ps(e.methods);try{for(w.s();!(b=w.n()).done;){var k=b.value;m+=t+"\n"+Ts(k,"  ")+";\n"}}catch(e){w.e(e)}finally{w.f()}m+="\n}"}return m}if(e instanceof j){var S="";return null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?S+=t+e.documentation.replace(/\n/g,"\n"+t)+"\n":S+=ta(e.documentation,t)+"\n"),S+=t,null!=e.visibility&&(S+=_[e.visibility]+" "),e.isStatic&&(S+="static "),S+=Ms(e.type)+" "+e.identifier}if(e instanceof T){var P="";null==e.documentation||""==e.documentation||n||(e.documentation.startsWith("/*")?P+=t+e.documentation.replace(/\n/g,"\n"+t)+"\n":P+=ta(e.documentation,t)+"\n"),P+=t,null!=e.visibility&&(P+=_[e.visibility]+" "),e.isStatic&&(P+="static "),null!=e.getReturnType()?P+=Ms(e.getReturnType())+" ":P+=e.isConstructor?"":"void ",P+=e.identifier+"(";for(var x=e.getParameterList().parameters,M=0;M<x.length;M++){var O=x[M],C=e.getParameterType(M);O.isEllipsis&&(C=C.arrayOfType),P+=Ms(C)+(O.isEllipsis?"...":"")+" "+O.identifier,M<x.length-1&&(P+=", ")}return P+=")"}return""}function xs(e){var t=e.identifier;if(e.isGenericVariantFrom!=Nt&&(t+=" extends "+Ms(e.isGenericVariantFrom)),e.implements.length>0){var n=e.implements.filter((function(t){return e.isGenericVariantFrom.implements.indexOf(t)<0})).map((function(e){return Ms(e)})).join(", ");""!=n&&(t+=" implements "+n)}return t}function Ms(e){var t,n;if((e instanceof J||e instanceof te)&&e.typeVariables.length>0){var i=(e.isTypeVariable?e.identifier+" extends "+(null===(t=e.isGenericVariantFrom)||void 0===t?void 0:t.identifier):e.identifier)+"<";return(i+=e.typeVariables.map((function(e){return Ms(e.type)})).join(", "))+">"}return e.isTypeVariable?e.identifier+" extends "+(null===(n=e.isGenericVariantFrom)||void 0===n?void 0:n.identifier):e.identifier}function Os(e){var t="";if(e.typeVariables.length>0){t="<";var n,i=[],r=Ps(e.typeVariables);try{var o=function(){var e=n.value,t=e.type.identifier,r=e.type;if(null!=r.isGenericVariantFrom&&"Object"!=r.isGenericVariantFrom.identifier&&(t+=" extends "+r.isGenericVariantFrom.identifier),null!=r.implements){var o=r.implements;null!=r.isGenericVariantFrom&&(o=o.filter((function(e){return r.isGenericVariantFrom.implements.indexOf(e)<0})));var a,s=Ps(o);try{for(s.s();!(a=s.n()).done;){t+=" & "+a.value.identifier}}catch(e){s.e(e)}finally{s.f()}}i.push(t)};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}t+=i.join(", "),t+="> "}return t}function Cs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return As(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Es(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ds=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.signatureHelpTriggerCharacters=["(",",",";","<",">","="],this.signatureHelpRetriggerCharacters=[]}var t,n,i;return t=e,(n=[{key:"provideSignatureHelp",value:function(e,t,n,i){var r,o,a,s=this,l=e==(null===(a=null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.editor)||void 0===a?void 0:a.getModel());if(l||e==this.main.getMonacoEditor().getModel()){var u=this;return new Promise((function(r,o){setTimeout((function(){var o,a;l?null===(a=null===(o=s.main.getBottomDiv())||void 0===o?void 0:o.console)||void 0===a||a.compileIfDirty():s.main.compileIfDirty(),r(u.provideSignatureHelpLater(e,t,n,i))}),300)}))}}},{key:"provideSignatureHelpLater",value:function(e,t,n,i){var r,o,a=e!=this.main.getMonacoEditor().getModel()?null===(o=null===(r=this.main.getBottomDiv())||void 0===r?void 0:r.console)||void 0===o?void 0:o.compiler.module:this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==a)return null;var s=a.methodCallPositions[t.lineNumber];if(null==s)return null;for(var l=null,u=-1,c=s.length-1;c>=0;c--){var d=s[c];d.identifierPosition.column+d.identifierPosition.length<t.column&&d.identifierPosition.column>u&&(null==d.rightBracketPosition||t.lineNumber<=d.rightBracketPosition.line&&t.column<=d.rightBracketPosition.column||t.lineNumber<d.rightBracketPosition.line)&&(l=d,u=d.identifierPosition.column)}return null==l?null:this.getSignatureHelp(l,t)}},{key:"getSignatureHelp",value:function(e,t){var n,i=0,r=Cs(e.commaPositions);try{for(r.s();!(n=r.n()).done;){var o=n.value;(o.line<t.lineNumber||o.line==t.lineNumber&&o.column<t.column)&&i++}}catch(e){r.e(e)}finally{r.f()}var a=[];if("string"==typeof e.possibleMethods)a=a.concat(this.makeIntrinsicSignatureInformation(e.possibleMethods,i));else{var s,l=Cs(e.possibleMethods);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.getParameterCount()>i&&(a=a.concat(this.makeSignatureInformation(u)))}}catch(e){l.e(e)}finally{l.f()}}return Promise.resolve({value:{activeParameter:i,activeSignature:0,signatures:a},dispose:function(){}})}},{key:"makeIntrinsicSignatureInformation",value:function(e,t){switch(e){case"while":return[{label:"while(Bedingung){ Anweisungen }",documentation:"Wiederholung mit Anfangsbedingung (while-loop)",parameters:[{label:"Bedingung",documentation:"Die Bedingung wird vor jeder Wiederholung ausgewertet. Ist sie erfüllt ist (d.h. hat sie den Wert true), so werden die Anweisungen in {} erneut ausgeführt, ansonsten wird mit der nächsten Anweisung nach { } fortgefahren."}]}];case"if":return[{label:"if(Bedingung){ Anweisungen1 } else { Anweisungen2 }",documentation:"Bedingung (else... ist optional)",parameters:[{label:"Bedingung",documentation:"Ist die Bedingung erfüllt (d.h. hat sie den Wert true), so werden die Anweisungen1 ausgeführt. Trifft die Bedingung nicht zu (d.h. hat sie den Wert false), so werden die Anweisungen2 ausgeführt."}]}];case"switch":return[{label:"switch(Selektor){case Wert_1: Anweisungen1; break; case Wert_2 Anweisungen2; break; default: Defaultanweisungen; break;}",documentation:"Bedingung (else... ist optional)",parameters:[{label:"Selektor",documentation:"Der Wert des Selektor-Terms wird ausgewertet. Hat er den Wert Wert_1, so werden die Anweisungen1 ausgeführt. Hat er den Wert Wert_2, so werden die Anweisungen2 ausgeführt usw. Hat er keinen der bei case... aufgeführten Werte, so werden die Defaultanweisungen ausgeführt."}]}];case"for":return[{label:"for(Startanweisung; Bedingung; Anweisung am Ende jeder Wiederholung){ Anweisungen }",documentation:"Wiederholung mit for (for-loop)",parameters:[{label:"Startanweisung",documentation:"Diese Anweisung wird vor der ersten Wiederholung einmal ausgeführt."},{label:"Bedingung",documentation:"Die Bedingung wird vor jeder Wiederholung ausgewertet. Ist sie erfüllt ist (d.h. hat sie den Wert true), so werden die Anweisungen in {} erneut ausgeführt, ansonsten wird mit der nächsten Anweisung nach { } fortgefahren."},{label:"Anweisung am Ende jeder Wiederholung",documentation:"Diese Anweisung wird stets am Ende jeder Wiederholung ausgeführt."}]}];case"print":return[{label:"print(text: String, color: String)",documentation:"Gibt Text farbig in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe (englischer Name oder #ffffff oder rgb(255,255,255)) oder statisches Attribut der Klasse Color, z.B. Color.red"}]},{label:"print(text: String, color: int)",documentation:"Gibt Text farbig in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe als int-Wert kodiert, z.B. 0xff00ff"}]},{label:"print(text: String)",documentation:"Gibt Text in der Ausgabe aus",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"}]}];case"println":return[{label:"println(text: String, color: String)",documentation:"Gibt Text farbig in der Ausgabe aus. Der nächste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: String",documentation:"Farbe (englischer Name oder #ffffff oder rgb(255,255,255) oder statisches Attribut der Klasse Color, z.B. Color.red)"}]},{label:"println(text: String, color: int)",documentation:"Gibt Text farbig in der Ausgabe aus. Der nächste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"},{label:"color: int",documentation:"Farbe als int-kodierter Wert, z.B. 0xffffff"}]},{label:"println(text: String)",documentation:"Gibt Text farbig in der Ausgabe aus. Der nächste Text landet eine Zeile tiefer.",parameters:[{label:"text: String",documentation:"text: Text, der ausgegeben werden soll"}]}]}}},{key:"makeSignatureInformation",value:function(e){var t="";null==e.getReturnType()||e.isConstructor||(t+=Ms(e.getReturnType())+" "),t+=e.identifier+"(";for(var n=[],i=e.getParameterList().parameters,r=0;r<i.length;r++){var o=i[r],a=t.length,s=o.type;o.isEllipsis&&(s=s.arrayOfType);var l=(t+=Ms(s)+(o.isEllipsis?"...":"")+" "+o.identifier).length;r<i.length-1&&(t+=", ");var u={label:[a,l],documentation:""};n.push(u)}return[{label:t+=")",parameters:n,documentation:null==e.documentation?"":e.documentation}]}}])&&Es(t.prototype,n),i&&Es(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Is(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var zs=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}var t,n,i;return t=e,(n=[{key:"provideHover",value:function(t,n,i){var r,o,a=this.editor.editor.getSelection();if(null==a||a.startLineNumber==a.endLineNumber&&a.startColumn==a.endColumn||!(a.startLineNumber<n.lineNumber||a.startLineNumber==n.lineNumber&&a.startColumn<=n.column)||!(a.endLineNumber>n.lineNumber||a.endLineNumber==n.lineNumber&&a.endColumn>=n.column)){var s=null===(r=this.editor.main.getCurrentWorkspace())||void 0===r?void 0:r.getModuleByMonacoModel(t);if(null==s)return null;var l,u=Is(s.errors);try{for(u.s();!(l=u.n()).done;){var c,d=Is(l.value);try{for(d.s();!(c=d.n()).done;){var f=c.value;if(f.position.line==n.lineNumber&&f.position.column<=n.column&&f.position.column+f.position.length>=n.column)return null}}catch(e){d.e(e)}finally{d.f()}}}catch(e){u.e(e)}finally{u.f()}var h=s.getElementAtPosition(n.lineNumber,n.column),p="";if(null!=h&&"var"!=h.identifier)if(h instanceof J||h instanceof T||h instanceof te||h instanceof j)p=Ts(h);else{if(h instanceof P)return{range:null,contents:[{value:p="```\n"+h.identifier+"\n```  \nprimitiver Datentyp: "+h.description}]};var y=null===(o=null==h?void 0:h.type)||void 0===o?void 0:o.identifier;((null==h?void 0:h.type)instanceof J||(null==h?void 0:h.type)instanceof te)&&(y+=" "+Os(h.type)),null==y?y="":y+=" ",p=y+(null==h?void 0:h.identifier)}else{var v=this.getWordUnderCursor(t,n),m=e.keywordDescriptions[v];if(null!=m)return{range:null,contents:[{value:m}]}}var g=null;if(this.editor.main.getInterpreter().state==ic.paused){var b=this.editor.main.getCurrentWorkspace().evaluator,w=this.widenDeclaration(t,n,null==h?void 0:h.identifier);if(null==w)return null;var k=b.evaluate(w);null==k.error&&null!=k.value&&(g=k.value.type.debugOutput(k.value),p=w)}var S=[];return null==g&&0==p.length?null:(null!=g?g.length+p.length>40?(S.push({value:"```\n"+p+" ==\n```"}),S.push({value:"```\n"+g.replace(/&nbsp;/g," ")+"\n```"})):S.push({value:"```\n"+p+" == "+g.replace(/&nbsp;/g," ")+"\n```"}):S.push({value:"```\n"+p+"\n```"}),{range:null,contents:S})}}},{key:"getWordUnderCursor",value:function(e,t){for(var n=e.getValueLengthInRange({startColumn:0,startLineNumber:0,endLineNumber:t.lineNumber,endColumn:t.column}),i=e.getValue(),r="",o=n;o<i.length&&this.isInsideIdentifierOrArrayDescriptor(i.charAt(o));)o++;for(var a=n;a>0&&this.isInsideIdentifierOrArrayDescriptor(i.charAt(a-1));)a--;if(o-a>1)r=i.substring(a,o);else{for(o=n;o<i.length&&this.isInsideOperator(i.charAt(o));)o++;for(a=n;a>0&&this.isInsideOperator(i.charAt(a-1));)a--;o-a>0&&(r=i.substring(a,o))}return r}},{key:"widenDeclaration",value:function(e,t,n){for(var i=e.getValueLengthInRange({startColumn:0,startLineNumber:0,endLineNumber:t.lineNumber,endColumn:t.column}),r=e.getValue(),o=i;o<r.length&&this.isInsideIdentifierOrArrayDescriptor(r.charAt(o));)o++;for(var a=i;a>0&&this.isInsideIdentifierChain(r.charAt(a-1));)a--;return null==(null==n?void 0:n.length)||n.length,o-a>length?r.substring(a,o):n}},{key:"isInsideIdentifierChain",value:function(e){return e.toLocaleLowerCase().match(/[a-z0-9äöüß_\[\]\.]/i)}},{key:"isInsideOperator",value:function(e){return e.toLocaleLowerCase().match(/[!%<>=\+\-\*\/]/i)}},{key:"isInsideIdentifierOrArrayDescriptor",value:function(e){return e.toLocaleLowerCase().match(/[a-z0-9äöüß\[\]]/i)}}])&&_s(t.prototype,n),i&&_s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}zs.keywordDescriptions={print:"Die Anweisung ```print``` gibt eine Zeichenkette aus.",new:'Das Schlüsselwort ```new``` bewirkt die Instanzierung ("Erschaffung") eines neuen Objektes einer Klasse.',println:"Die Anweisung ```println``` gibt eine Zeichenkette gefolgt von einem Zeilenumbruch aus.",while:"```\nwhile (Bedingung) {Anweisungen}\n```  \nbewirkt die Wiederholung der Anweisungen solange ```Bedingung == true``` ist.",for:"```\nfor(Startanweisung;Solange-Bedingung;Nach_jeder_Wiederholung){Anweisungen}\n```  \nführt zunächst die Startanweisung aus und wiederholt dann die Anweisungen solange ```Bedingung == true``` ist. Am Ende jeder wiederholung wird Nach_jeder_Wiederholung ausgeführt.",if:"```\nif(Bedingung){Anweisungen_1} else {Anweisungen_2}\n```  \nwertet die Bedingung aus und führt Anweisungen_1 nur dann aus, wenn die Bedingung ```true``` ergibt, Anweisungen_2 nur dann, wenn die Bedingung ```false``` ergibt.  \nDer ```else```-Teil kann auch weggelassen werden.",else:"```\nif(Bedingung){Anweisungen_1} else {Anweisungen_2}\n```  \nwertet die Bedingung aus und führt Anweisungen_1 nur dann aus, wenn die Bedingung ```true``` ergibt, Anweisungen_2 nur dann, wenn die Bedingung ```false``` ergibt.",switch:"```\nswitch(Selektor){ case Wert_1: Anweisungen_1; break; case Wert_2: Anweisungen_2; break; default: Default-Anweisungen } \n```  \nwertet den Selektor-Term aus und führt abhängig vom Termwert Anweisungen_1, Anweisungen_2, ... aus. Entspricht der Termwert keinem der Werte Wert_1, Wert_2, ..., so werden die Default-Anweisungen ausgeführt.","%":"```\na % b\n```  \n (sprich: 'a modulo b') berechnet den **Rest** der ganzzahligen Division a/b.","|":"```\na | b\n```  \n (sprich: 'a or b') berechnet die **bitweise oder-Verknüpfung** der Werte a und b.","&":"```\na & b\n```  \n (sprich: 'a und b') berechnet die **bitweise und-Verknüpfung** der Werte a und b.","^":"```\na ^ b\n```  \n (sprich: 'a xor b') berechnet die **bitweise exklusiv-oder-Verknüpfung** der Werte a und b.",">>":"```\na >> b\n```  \n (sprich: 'a right shift b') berechnet den Wert, der entsteht, wenn man den Wert von a **bitweise um b Stellen nach rechts verschiebt**. Dieser Wert ist identisch mit dem nach unten abgerundeten Wert von a/(2 hoch b).","<<":"```\na >> b\n```  \n (sprich: 'a left shift b') berechnet den Wert, der entsteht, wenn man den Wert von a **bitweise um b Stellen nach links verschiebt**. Dieser Wert ist identisch mit dem nach unten abgerundeten Wert von a*(2 hoch b).","~":"```\n~a\n```  \n (sprich: 'nicht a') berechnet den Wert, der entsteht, wenn man **alle Bits von a umkehrt**.","==":"```\na == b\n```  \nergibt genau dann ```true```, wenn ```a``` und ```b``` gleich sind.  \nSind a und b **Objekte**, so ergibt ```a == b``` nur dann ```true```, wenn ```a``` und ```b``` auf das **identische** Objekt zeigen.  \n```==``` nennt man **Vergleichsoperator**.","<=":"```\na <= b\n```  \nergibt genau dann ```true```, wenn der Wert von ```a``` kleiner oder gleich dem Wert von ```b``` ist.",">=":"```\na <= b\n```  \nergibt genau dann ```true```, wenn der Wert von ```a``` größer oder gleich dem Wert von ```b``` ist.","!=":"```\na != b\n```  \nergibt genau dann ```true```, wenn ```a``` und ```b``` **un**gleich sind.  \nSind ```a``` und ```b``` **Objekte**, so ergibt ```a != b``` dann ```true```, wenn ```a``` und ```b``` **nicht** auf das **identische** Objekt zeigen.  \n```!=``` nennt man **Ungleich-Operator**.","+=":"```\na += b\n(Kurzschreibweise für a = a + b)\n```  \nbewirkt, dass der Wert von ```a``` um den Wert von ```b``` **erhöht** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","-=":"```\na -= b\n(Kurzschreibweise für a = a - b)\n```  \nbewirkt, dass der Wert von ```a``` um den Wert von ```b``` **erniedrigt** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","*=":"```\na *= b\n(Kurzschreibweise für a = a * b)\n```  \nbewirkt, dass der Wert von ```a``` mit dem Wert von ```b``` **multipliziert** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","/=":"```\na /= b\n(Kurzschreibweise für a = a / b)\n```  \nbewirkt, dass der Wert von ```a``` durch den Wert von ```b``` **dividiert** wird. Das Ergebnis wird in die Variable ```a``` geschrieben.","++":"```\na++\n(Kurzschreibweise für a = a + 1)\n```  \nbewirkt, dass der Wert von ```a``` um eins erhöht wird.","--":"```\na--\n(Kurzschreibweise für a = a - 1)\n```  \nbewirkt, dass der Wert von ```a``` um eins eniedrigt wird.","=":"```\na = Term\n```  \nberechnet den Wert des Terms und weist ihn der Variablen ```a``` zu.  \n**Vorsicht:**  \nVerwechsle ```=```(**Zuweisungsoperator**) nicht mit ```==```(**Vergleichsoperator**)!","!":"```\n!a\n```  \nergibt genau dann ```true```, wenn ```a``` ```false``` ergibt.  \n```!``` spricht man '**nicht**'.",public:"```\npublic\n```  \nAttribute und Methoden, die als ```public``` deklariert werden, sind überall (auch außerhalb der Klasse) sichtbar.",private:"```\nprivate\n```  \nAttribute und Methoden, die als ```private``` deklariert werden, sind nur innerhalb von Methoden derselben Klasse sichtbar.",protected:"```\nprotected\n```  \nAttribute und Methoden, die als ```protected``` deklariert werden, sind nur innerhalb von Methoden derselben Klasse oder innerhalb von Methoden von Kindklassen sichtbar.",return:"```\nreturn Term\n```  \nbewirkt, dass die Methode verlassen wird und der Wert des Terms an die aufrufende Stelle zurückgegeben wird.",break:"```\nbreak;\n```  \ninnerhalb einer Schleife bewirkt, dass die Schleife sofort verlassen und mit den Anweisungen nach der Schleife fortgefahren wird.  \n```break``` innerhalb einer ```switch```-Anweisung bewirkt, dass der Block der ```switch```-Anweisung verlassen wird.",class:"```\nclass\n```  \nMit dem Schlüsselwort ```class``` werden Klassen definiert.",extends:"```\nextends\n```  \n```class A extends B { ... }``` bedeutet, dass die Klasse A Unterklasse der Klasse B ist.",implements:"```\nimplements\n```  \n```class A implements B { ... }``` bedeutet, dass die Klasse A das Interface B implementiert, d.h., dass sie alle Methoden besitzen muss, die in B definiert sind.",this:"```\nthis\n```  \nInnerhalb einer Methodendefinition bezeichnet das Schlüsselwort ```this``` immer dasjenige Objekt, für das die Methode gerade ausgeführt wird.",var:"```\nvar\n```  \nWird einer Variable beim Deklarieren sofort ein Startwert zugewiesen (z.B. Circle c = new Circle(100, 100, 10)), so kann statt des Datentyps das Schlüsselwort ```var``` verwendet werden (also var c = new Circle(100, 100, 10))."};var Bs=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideCodeActions",value:function(e,t,n,i){return{actions:n.markers.map((function(t){var n=t.relatedInformation;return null==n?null:{title:n.title,diagnostics:[t],kind:"quickfix",edit:{edits:n.editsProvider(e.uri)},isPreferred:!0}})),dispose:function(){}}}}])&&Rs(t.prototype,n),i&&Rs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ls(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ws(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Gs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ns=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideReferences",value:function(e,t,n,i){var r=this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==r)return null;var o=r.getElementAtPosition(t.lineNumber,t.column);if(null!=o){var a=o.usagePositions,s=[];return a.forEach((function(e,t){if(null!=e){var n,i=Ls(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;s.push({uri:t.uri,range:{startColumn:r.column,startLineNumber:r.line,endLineNumber:r.line,endColumn:r.column+r.length}})}}catch(e){i.e(e)}finally{i.f()}}})),s}}}])&&Gs(t.prototype,n),i&&Gs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Hs=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"provideDocumentColors",value:function(e,t){var n,i,r,o,a,s,l=e==(null===(r=null===(i=null===(n=this.main.getBottomDiv())||void 0===n?void 0:n.console)||void 0===i?void 0:i.editor)||void 0===r?void 0:r.getModel()),u=e==this.main.getMonacoEditor().getModel();if(l||u){var c=l?null===(a=null===(o=this.main.getBottomDiv())||void 0===o?void 0:o.console)||void 0===a?void 0:a.compiler.module:null===(s=this.main.getCurrentWorkspace())||void 0===s?void 0:s.getModuleByMonacoModel(e);if(null==c)return null;if(null==this.main.getCompiler()){var d=this,f=3;return new Promise((function(e,t){setTimeout((function t(){null!=d.main.getCompiler()?(d.main.compileIfDirty(),e(c.colorInformation)):0==--f?e([]):setTimeout(t,500)}),500)}))}return this.main.compileIfDirty(),c.colorInformation}}},{key:"provideColorPresentations",value:function(e,t,n){var i,r=t.color,o=e.getValueInRange(t.range),a=Math.round(255*r.red),s=Math.round(255*r.green),l=Math.round(255*r.blue),u=this.toHex2Digits(a)+this.toHex2Digits(s)+this.toHex2Digits(l),c=a+", "+s+", "+l;return o.startsWith("#")?i="#"+u:o.startsWith("0x")?i="0x"+u:o.startsWith("rgb")?i=r.alpha<.999?"rgba("+c+", "+r.alpha+")":"rgb("+c+")":(o.startsWith("new")||o.startsWith("Color"))&&(i="new Color("+c+")"),[{label:i}]}},{key:"toHex2Digits",value:function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t}}])&&$s(t.prototype,n),i&&$s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Vs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ks(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Us=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.showMinimap=n,this.isEmbedded=i,this.highlightCurrentMethod=!0,this.cw=null,this.dontPushNextCursorMove=0,this.lastPushTime=0,this.lastTime=0,this.elementDecoration=[]}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e){var t=this;!function(){monaco.languages.register({id:"myJava",extensions:[".learnJava"]});var e={indentationRules:{decreaseIndentPattern:/^(.*\*\/)?\s*\}.*$/,increaseIndentPattern:/^.*\{[^}"']*$/},onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:monaco.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:monaco.languages.IndentAction.None,removeText:1}},{beforeText:/^(\t|(\ \ ))*\ \*[^/]*\*\/\s*$/,action:{indentAction:monaco.languages.IndentAction.None,removeText:1}}],wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],folding:{markers:{start:new RegExp("^\\s*//\\s*(?:(?:#?region\\b)|(?:<editor-fold\\b))"),end:new RegExp("^\\s*//\\s*(?:(?:#?endregion\\b)|(?:</editor-fold>))")}}};monaco.languages.setLanguageConfiguration("myJava",e),monaco.languages.setMonarchTokensProvider("myJava",{defaultToken:"",tokenPostfix:".java",keywords:["abstract","continue","new","switch","assert","default","goto","package","synchronized","private","this","implements","protected","throw","import","public","throws","case","instanceof","return","transient","catch","extends","try","final","static","finally","strictfp","volatile","const","native","super","true","false","null"],print:["print","println"],statements:["for","while","if","then","else","do","break","continue"],types:["int","boolean","char","float","double","long","void","byte","short","class","enum","interface","var"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[[/\.[A-Z$ÄÖÜ][\w$äöüßÄÖÜ]*(?=\()/,{cases:{"@default":"method"}}],[/[a-z_$äöü][\w$äöüßÄÖÜ]*(?=\()/,{cases:{"@keywords":{token:"keyword.$0"},"@statements":{token:"statement.$0"},"@types":{token:"type.$0"},"@print":{token:"print.$0"},"@default":"method"}}],[/[a-z_$äöüß][\w$äöüßÄÖÜ]*/,{cases:{"@keywords":{token:"keyword.$0"},"@statements":{token:"statement.$0"},"@types":{token:"type.$0"},"@default":"identifier"}}],[/[A-Z$ÄÖÜ][\w$äöüßÄÖÜ]*/,"class"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,"annotation"],[/(@digits)[eE]([\-+]?(@digits))?[fFdD]?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?[fFdD]?/,"number.float"],[/0[xX](@hexdigits)[Ll]?/,"number.hex"],[/0(@octaldigits)[Ll]?/,"number.octal"],[/0[bB](@binarydigits)[Ll]?/,"number.binary"],[/(@digits)[fFdD]/,"number.float"],[/(@digits)[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"""/,"string","@string"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@javadoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],javadoc:[[/[^\/*]+/,"comment.doc"],[/\/\*/,"comment.doc.invalid"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"""/,"string","@pop"],[/"/,"string","@pop"]]}})}(),monaco.editor.defineTheme("myCustomThemeDark",{base:"vs-dark",inherit:!0,rules:[{token:"method",foreground:"dcdcaa",fontStyle:"italic"},{token:"print",foreground:"dcdcaa",fontStyle:"italic bold"},{token:"class",foreground:"3DC9B0"},{token:"number",foreground:"b5cea8"},{token:"type",foreground:"499cd6"},{token:"identifier",foreground:"9cdcfe"},{token:"statement",foreground:"bb96c0",fontStyle:"bold"},{token:"keyword",foreground:"68bed4",fontStyle:"bold"},{token:"string3",foreground:"ff0000"},{token:"property",foreground:"ffffff",fontStyle:"bold"}],colors:{"editor.background":"#1e1e1e",jo_highlightMethod:"#2b2b7d"}}),monaco.editor.defineTheme("myCustomThemeLight",{base:"vs",inherit:!0,rules:[{token:"method",foreground:"694E16",fontStyle:"italic bold"},{token:"print",foreground:"811f3f",fontStyle:"italic bold"},{token:"class",foreground:"a03030"},{token:"number",foreground:"404040"},{token:"type",foreground:"0000ff",fontStyle:"bold"},{token:"identifier",foreground:"001080"},{token:"statement",foreground:"8000e0",fontStyle:"bold"},{token:"keyword",foreground:"00a000",fontStyle:"bold"},{token:"comment",foreground:"808080",fontStyle:"italic"}],colors:{"editor.background":"#FFFFFF","editor.foreground":"#000000","editor.inactiveSelectionBackground":"#E5EBF1","editorIndentGuide.background":"#D3D3D3","editorIndentGuide.activeBackground":"#939393","editor.selectionHighlightBackground":"#ADD6FF80","editorSuggestWidget.background":"#F3F3F3","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#6F6F6F","list.hoverBackground":"#E8E8E8","input.placeholderForeground":"#767676","searchEditor.textInputBorder":"#CECECE","settings.textInputBorder":"#CECECE","settings.numberInputBorder":"#CECECE","statusBarItem.remoteForeground":"#FFF","statusBarItem.remoteBackground":"#16825D",jo_highlightMethod:"#babaec"}}),this.editor=monaco.editor.create(e[0],{language:"myJava","semanticHighlighting.enabled":!0,lightbulb:{enabled:!0},lineDecorationsWidth:0,peekWidgetDefaultFocus:"tree",fixedOverflowWidgets:!0,quickSuggestions:!0,quickSuggestionsDelay:10,fontSize:14,fontFamily:null==window.javaOnlineFont?"Consolas, Roboto Mono":window.javaOnlineFont,fontWeight:"500",roundedSelection:!0,selectOnLineNumbers:!1,automaticLayout:!0,scrollBeyondLastLine:!1,occurrencesHighlight:!1,autoIndent:"full",dragAndDrop:!0,formatOnType:!0,formatOnPaste:!0,suggestFontSize:16,suggestLineHeight:22,suggest:{localityBonus:!0,insertMode:"replace"},parameterHints:{enabled:!0,cycle:!0},mouseWheelZoom:this.isEmbedded,minimap:{enabled:this.showMinimap},scrollbar:{vertical:"auto",horizontal:"auto"},theme:"myCustomThemeDark"}),this.editor.onKeyDown((function(e){var n=t.main.getInterpreter().state;if([ic.done,ic.error,ic.not_initialized].indexOf(n)<0){if(e.code.indexOf("Arrow")>=0||e.code.indexOf("Page")>=0)return;t.main.getActionManager().trigger("interpreter.stop")}}));var n=this,i=function(e){!0===e.ctrlKey&&(n.changeEditorFontSize(Math.sign(e.deltaY),!0),e.preventDefault())};if(!this.isEmbedded){var r=this.main;r.windowStateManager.registerBackButtonListener((function(e){var t=e.state;if(null!=e.state){var i=r.workspaceList.find((function(e){return e.id==t.workspace_id}));if(null!=i){var o=i.moduleStore.findModuleById(t.module_id);null!=o&&(i!=r.currentWorkspace&&(n.dontPushNextCursorMove++,r.projectExplorer.setWorkspaceActive(i),n.dontPushNextCursorMove--),o!=r.getCurrentlyEditedModule()&&(n.dontPushNextCursorMove++,r.projectExplorer.setModuleActive(o),n.dontPushNextCursorMove--),n.dontPushNextCursorMove++,n.editor.setPosition(t.position),n.editor.revealPosition(t.position),n.dontPushNextCursorMove--,n.pushHistoryState(!0,t))}}}))}return this.editor.onDidChangeConfiguration((function(e){e.hasChanged(monaco.editor.EditorOption.fontInfo)&&t.isEmbedded&&t.main.getBottomDiv().errorManager.registerLightbulbOnClickFunctions()})),this.editor.onDidChangeCursorPosition((function(e){var i,r,o,a=null===(r=null===(i=t.main.getCurrentlyEditedModule())||void 0===i?void 0:i.file)||void 0===r?void 0:r.id;null!=a&&((null==t.lastPosition||"api"==e.source||a!=t.lastPosition.module_id||Math.abs(t.lastPosition.position.lineNumber-e.position.lineNumber)>20)&&0==t.dontPushNextCursorMove?t.pushHistoryState(!1,t.getPositionForHistory()):a==(null===(o=history.state)||void 0===o?void 0:o.module_id)&&t.pushHistoryState(!0,t.getPositionForHistory()),n.onDidChangeCursorPosition(e.position),n.onEvaluateSelectedText(e))})),this.editor.onDidChangeModel((function(n){var r=e.find(".monaco-editor")[0];if(r.removeEventListener("wheel",i),r.addEventListener("wheel",i,{passive:!1}),null!=t.main.getCurrentWorkspace()){var o=t.main.getCurrentWorkspace().getModuleByMonacoModel(t.editor.getModel());t.main instanceof Zu&&null!=o&&(t.main.projectExplorer.setActiveAfterExternalModelSet(o),(null==t.lastPosition||o.file.id!=t.lastPosition.module_id)&&0==t.dontPushNextCursorMove&&t.pushHistoryState(!1,t.getPositionForHistory()))}})),monaco.languages.registerRenameProvider("myJava",this),monaco.languages.registerColorProvider("myJava",new Hs(this.main)),monaco.languages.registerDefinitionProvider("myJava",{provideDefinition:function(e,t,i){return n.provideDefinition(e,t,i)}}),monaco.languages.registerHoverProvider("myJava",new zs(this)),monaco.languages.registerCompletionItemProvider("myJava",new Ss(this.main)),monaco.languages.registerCodeActionProvider("myJava",new Bs(this.main)),monaco.languages.registerReferenceProvider("myJava",new Ns(this.main)),monaco.languages.registerSignatureHelpProvider("myJava",new Ds(this.main)),this.editor.onMouseDown((function(e){var t=e.target.detail;e.target.type!==monaco.editor.MouseTargetType.GUTTER_GLYPH_MARGIN&&e.target.type!==monaco.editor.MouseTargetType.GUTTER_LINE_NUMBERS||t.isAfterLines||n.onMarginMouseDown(e.target.position.lineNumber)})),setTimeout((function(){monaco.editor.remeasureFonts()}),2e3),this.addActions(),this.editor.onDidType((function(e){n.onDidType(e)})),this.editor}},{key:"getPositionForHistory",value:function(){if(null!=this.main.getCurrentlyEditedModule())return{position:this.editor.getPosition(),workspace_id:this.main.getCurrentWorkspace().id,module_id:this.main.getCurrentlyEditedModule().file.id}}},{key:"pushHistoryState",value:function(e,t){if(!this.main.isEmbedded()&&null!=t){if(e)history.replaceState(t,"");else{var n=(new Date).getTime();n-this.lastPushTime>200?history.pushState(t,""):history.replaceState(t,""),this.lastPushTime=n}this.lastPosition=t}}},{key:"onDidType",value:function(e){var t=this,n=function(e,n,i,r){var o=new monaco.Range(e.lineNumber,e.column,e.lineNumber,e.column);t.editor.executeEdits("new-bullets",[{range:o,text:n}]),t.editor.setPosition({lineNumber:i,column:r})};if("\n"===e){var i=this.editor.getModel(),r=this.editor.getPosition(),o=i.getLineContent(r.lineNumber-1);if(0===o.trim().indexOf("/*")&&!o.trimRight().endsWith("*/")&&!(r.lineNumber<i.getLineCount()?i.getLineContent(r.lineNumber+1):"").trim().startsWith("*")){var a=o.substr(0,o.length-o.trimLeft().length);0===o.trim().indexOf("/**")?n(r,"\n"+a+" */",r.lineNumber,r.column+3+a.length):n(r," * \n"+a+" */",r.lineNumber,r.column+3+a.length)}}else if('"'==e){var s=this.editor.getModel(),l=this.editor.getPosition(),u=this.editor.getSelection(),c=u.startColumn!=u.endColumn||u.startLineNumber!=u.endLineNumber,d=s.getLineContent(l.lineNumber),f="x";l.column>1&&(f=d.charAt(l.column-3));var h="x";l.column-1<d.length&&(h=d.charAt(l.column-1)),c||('"'!=f?n(l,'"',l.lineNumber,l.column):'"'==h&&n(Object.assign(Object.assign({},l),{column:l.column+1}),'\n\n"""',l.lineNumber+1,1))}}},{key:"setFontSize",value:function(e){var t=(new Date).getTime();if(!(t-this.lastTime<150)){this.lastTime=t;var n=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize);if(this.main instanceof Zu&&this.main.viewModeController.saveFontSize(e),e!=n){this.editor.updateOptions({fontSize:e});var i=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize)/e;this.editor.updateOptions({fontSize:e/i});var r=this.main.getBottomDiv();null!=r&&null!=r.console&&r.console.editor.updateOptions({fontSize:e/i})}var o=this.main.getBottomDiv();null!=o&&null!=o.console&&(o.$bottomDiv.find(".jo_commandline").css({height:1.1*e+4+"px","line-height":1.1*e+4+"px"}),o.console.editor.layout()),jQuery(".jo_editorFontSize").css("font-size",e+"px"),jQuery(".jo_editorFontSize").css("line-height",e+2+"px"),document.documentElement.style.setProperty("--breakpoint-size",e+"px"),document.documentElement.style.setProperty("--breakpoint-radius",e/2+"px"),this.main.getBottomDiv().errorManager.registerLightbulbOnClickFunctions()}}},{key:"changeEditorFontSize",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.editor.getOptions().get(monaco.editor.EditorOption.fontSize);t&&(e*=n<10?1:n<20?2:4);var i=n+e;i>=6&&i<=80&&this.setFontSize(i)}},{key:"addActions",value:function(){this.editor.addAction({id:"Find bracket",label:"Finde korrespondierende Klammer",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_K],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){return e.getAction("editor.action.jumpToBracket").run(),null}}),this.editor.addAction({id:"Toggle line comment",label:"Zeilenkommentar ein-/ausschalten",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.US_COMMA],precondition:null,keybindingContext:null,contextMenuGroupId:"insert",contextMenuOrder:1.5,run:function(e){return console.log("Hier!"),e.getAction("editor.action.commentLine").run(),null}})}},{key:"onEvaluateSelectedText",value:function(e){var t=this;if(null!=t.cw&&(t.editor.removeContentWidget(t.cw),t.cw=null),t.main.getInterpreter().state==ic.paused){var n=t.editor.getModel().getValueInRange(t.editor.getSelection());if(null!=n&&n.length>0){var i=this.main.getCurrentWorkspace().evaluator.evaluate(n);if(null==i.error&&null!=i.value){var r=i.value.type.debugOutput(i.value);monaco.editor.colorize(n+": ","myJava",{tabSize:3}).then((function(n){n.endsWith("<br/>")&&(n=n.substr(0,n.length-5)),t.cw={getId:function(){return"my.content.widget"},getDomNode:function(){return jQuery('<div class="jo_editorTooltip jo_codeFont">'+n+r+"</div>")[0]},getPosition:function(){return{position:e.position,preference:[monaco.editor.ContentWidgetPositionPreference.ABOVE,monaco.editor.ContentWidgetPositionPreference.BELOW]}}},t.editor.addContentWidget(t.cw)}))}}}}},{key:"onMarginMouseDown",value:function(e){var t=this.getCurrentlyEditedModule();if(null!=t&&(t.toggleBreakpoint(e,!0),null!=this.main.getInterpreter().moduleStore)){var n=this.main.getInterpreter().moduleStore.findModuleByFile(t.file);null!=n&&n.toggleBreakpoint(e,!1)}}},{key:"onDidChangeCursorPosition",value:function(e){null==e&&(e=this.editor.getPosition());var t=this.getCurrentlyEditedModule();if(null!=t){var n=t.getElementAtPosition(e.lineNumber,e.column),i=[];if(null!=n){var r=n.usagePositions.get(t);if(null!=r){var o,a=Vs(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;i.push({range:{startColumn:s.column,startLineNumber:s.line,endColumn:s.column+s.length,endLineNumber:s.line},options:{className:"jo_revealSyntaxElement",isWholeLine:!1,overviewRuler:{color:{id:"editorIndentGuide.background"},darkColor:{id:"editorIndentGuide.activeBackground"},position:monaco.editor.OverviewRulerLane.Left}}})}}catch(e){a.e(e)}finally{a.f()}}}if(this.highlightCurrentMethod){var l=t.getMethodDeclarationAtPosition(e);null!=l&&i.push({range:{startColumn:0,startLineNumber:l.position.line,endColumn:100,endLineNumber:l.scopeTo.line},options:{className:"jo_highlightMethod",isWholeLine:!0,overviewRuler:{color:{id:"jo_highlightMethod"},darkColor:{id:"jo_highlightMethod"},position:monaco.editor.OverviewRulerLane.Left},minimap:{color:{id:"jo_highlightMethod"},position:monaco.editor.MinimapPosition.Inline},zIndex:-100}})}this.elementDecoration=this.editor.deltaDecorations(this.elementDecoration,i)}else this.elementDecoration=this.editor.deltaDecorations(this.elementDecoration,[])}},{key:"getCurrentlyEditedModule",value:function(){return this.main.getCurrentlyEditedModule()}},{key:"dontDetectLastChange",value:function(){}},{key:"resolveRenameLocation",value:function(e,t,n){var i=this.getCurrentlyEditedModule();if(null==i)return{range:null,text:"Dieses Symbol kann nicht umbenannt werden.",rejectReason:"Dieses Symbol kann nicht umbenannt werden."};var r=i.getElementAtPosition(t.lineNumber,t.column);if(null==r||null==r.declaration)return{range:null,text:"Dieses Symbol kann nicht umbenannt werden.",rejectReason:"Dieses Symbol kann nicht umbenannt werden."};var o=r.declaration.position;return{range:{startColumn:t.column,startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,endColumn:t.column+o.length},text:r.identifier}}},{key:"provideRenameEdits",value:function(e,t,n,i){var r=this.getCurrentlyEditedModule();if(null==r)return null;var o=r.getElementAtPosition(t.lineNumber,t.column);if(null!=o){var a=o.usagePositions,s=[];return a.forEach((function(e,t){if(null!=e){var i,r=Vs(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;s.push({resource:t.uri,edit:{range:{startColumn:o.column,startLineNumber:o.line,endLineNumber:o.line,endColumn:o.column+o.length},text:n}})}}catch(e){r.e(e)}finally{r.f()}[].length>0&&(t.file.dirty=!0,t.file.saved=!1,t.file.identical_to_repository_version=!1)}})),{edits:s}}}},{key:"provideDefinition",value:function(e,t,n){var i=this.main.getCurrentWorkspace().getModuleByMonacoModel(e);if(null==i)return null;var r=i.getElementAtPosition(t.lineNumber,t.column);if(null==r)return null;var o=r.declaration;return null==o?r instanceof J||r instanceof Fn||r instanceof te||r instanceof T||r instanceof j?Promise.resolve({range:{startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:t.column,endColumn:t.column+r.identifier.length},uri:i.uri}):null:Promise.resolve({range:{startLineNumber:o.position.line,endLineNumber:o.position.line,startColumn:o.position.column,endColumn:o.position.column+o.position.length},uri:o.module.uri})}}])&&Qs(t.prototype,n),i&&Qs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qs(e,t,n){return t&&Xs(e.prototype,t),n&&Xs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ys=function(){function e(t){Zs(this,e),this.main=t}return qs(e,[{key:"init",value:function(){var e=jQuery("#buttonUserSettings"),t=this;e.on("click",(function(n){oa([{caption:"Passwort ändern...",callback:function(){new Js(t.main).show()}}],e.offset().left,e.offset().top+e.height())}))}}]),e}(),Js=function(){function e(t){Zs(this,e),this.main=t,this.dialog=new Ta}return qs(e,[{key:"show",value:function(){var e=this;this.dialog.init(),this.dialog.heading("Passwort ändern"),this.dialog.description("Bitte geben Sie Ihr bisheriges Passwort und darunter zweimal Ihr neues Passwort ein. <br>Das Passwort muss mindestens 8 Zeichen lang sein und sowohl Buchstaben als auch Zahlen oder Sonderzeichen enthalten.");var t=this.dialog.input("password","Altes Passwort"),n=this.dialog.input("password","Neues Passwort"),i=this.dialog.input("password","Neues Passwort wiederholen"),r=this.dialog.description("","red"),o=this.dialog.waitMessage("Bitte warten...");this.dialog.buttons([{caption:"Abbrechen",color:"#a00000",callback:function(){e.dialog.close()}},{caption:"OK",color:"green",callback:function(){n.val()!=i.val()?r.text("Die zwei eingegebenen neuen Passwörter stimmen nicht überein."):(o(!0),Wo("changePassword",{oldPassword:t.val(),newPassword:n.val()},(function(){o(!1),alert("Das Passwort wurde erfolgreich geändert."),e.dialog.close()}),(function(e){o(!1),r.text(e)})))}}])}}]),e}();function el(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function nl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var il=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.currentSubmenu={},this.openSubmenusOnMousemove=!1}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e,t){var n=this,i=this,r=this.main.getMonacoEditor(),o={items:[{identifier:"Datei",subMenu:{items:[{identifier:"Workspace importieren",action:function(){new Aa(n.main).show()}},{identifier:"Speichern und Beenden",action:function(){jQuery("#buttonLogout").trigger("click")}}]}},{identifier:"Bearbeiten",subMenu:{items:[{identifier:"Rückgängig (Strg + z)",action:function(){r.trigger(".","undo",{})}},{identifier:"Wiederholen (Strg + y)",action:function(){r.trigger(".","redo",{})}},{identifier:"-"},{identifier:"Kopieren (Strg + c)",action:function(){r.getAction("editor.action.clipboardCopyAction").run()}},{identifier:"Ausschneiden (Strg + x)",action:function(){r.getAction("editor.action.clipboardCutAction").run()}},{identifier:"Nach oben kopieren (Alt + Shift + Pfeil rauf)",action:function(){r.getAction("editor.action.copyLinesUpAction").run()}},{identifier:"Nach unten kopieren (Alt + Shift + Pfeil runter)",action:function(){r.getAction("editor.action.copyLinesDownAction").run()}},{identifier:"Nach oben verschieben (Alt + Pfeil rauf)",action:function(){r.getAction("editor.action.moveLinesUpAction").run()}},{identifier:"Nach unten verschieben (Alt + Pfeil runter)",action:function(){r.getAction("editor.action.moveLinesDownAction").run()}},{identifier:"-"},{identifier:"Suchen... (Strg + f)",action:function(){r.getAction("actions.find").run()}},{identifier:"Ersetzen... (Strg + h)",action:function(){r.getAction("editor.action.startFindReplaceAction").run()}},{identifier:"-"},{identifier:"Aus-/Einkommentieren (Strg + #)",action:function(){r.getAction("editor.action.commentLine").run()}},{identifier:"Dokument formatieren (Alt + Shift + f)",action:function(){r.getAction("editor.action.formatDocument").run()}},{identifier:"-"},{identifier:"Finde zugehörige Klammer (Strg + k)",action:function(){r.getAction("editor.action.jumpToBracket").run()}},{identifier:"-"},{identifier:"Alles zusammenfalten",action:function(){r.getAction("editor.foldAll").run()}},{identifier:"Alles auffalten",action:function(){r.getAction("editor.unfoldAll").run()}},{identifier:"-"},{identifier:"Vorschlag auslösen (Strg + Leertaste)",action:function(){r.focus(),setTimeout((function(){r.getAction("editor.action.triggerSuggest").run()}),200)}},{identifier:"Parameterhilfe (Strg + Shift + Leertaste)",action:function(){r.getAction("editor.action.triggerParameterHints").run()}},{identifier:"Gehe zur Definition (Strg + Click)",action:function(){r.focus(),setTimeout((function(){r.getAction("editor.action.revealDefinition").run()}),200)}}]}},{identifier:"Ansicht",subMenu:{items:[{identifier:"Theme",subMenu:{items:[{identifier:"Dark",action:function(){i.switchTheme("dark")}},{identifier:"Light",action:function(){i.switchTheme("light")}}]}},{identifier:"-"},{identifier:"Hoher Kontrast im Editor ein/aus",action:function(){r.getAction("editor.action.toggleHighContrast").run()}},{identifier:"-"},{identifier:"Zoom out (Strg + Mausrad)",action:function(){n.main.editor.changeEditorFontSize(-4)}},{identifier:"Zoom normal",action:function(){n.main.editor.setFontSize(14)}},{identifier:"Zoom in (Strg + Mausrad)",action:function(){n.main.editor.changeEditorFontSize(4)}}]}},{identifier:"Repository",subMenu:{items:[{identifier:"Eigene Repositories verwalten ...",action:function(){n.main.repositoryUpdateManager.show(null)}},{identifier:"Workspace mit Repository verbinden (checkout) ...",action:function(){n.main.repositoryCheckoutManager.show(null)}}]}},{identifier:"Hilfe",subMenu:{items:[{identifier:"Kurze Video-Tutorials zur Bedienung dieser IDE",link:"https://www.learnj.de/doku.php?id=api:ide_manual:start"},{identifier:"Interaktives Java-Tutorial mit vielen Beispielen",link:"https://www.learnj.de/doku.php"},{identifier:"Materialien für Lehrkräfte",link:"servlet/teachers/index.html"},{identifier:"-"},{identifier:"API-Dokumentation",link:"https://www.learnj.de/doku.php?id=api:documentation:start"},{identifier:"API-Verzeichnis",link:t+"api_documentation.html"},{identifier:"-"},{identifier:"Sprite-Bilderübersicht",link:t+"spriteLibrary.html"},{identifier:"-"},{identifier:"Tastaturkommandos (Shortcuts)",link:t+"shortcuts.html"},{identifier:"-"},{identifier:"Java-Online Changelog",link:"https://www.learnj.de/doku.php?id=javaonline:changelog"},{identifier:"Java-Online Roadmap",link:"https://www.learnj.de/doku.php?id=javaonline:roadmap"},{identifier:"-"},{identifier:"Befehlspalette (F1)",action:function(){setTimeout((function(){i.main.getMonacoEditor().focus(),r.getAction("editor.action.quickCommand").run()}),500)}},{identifier:"-"},{identifier:"Passwort ändern...",action:function(){new Js(i.main).show()}},{identifier:"-"},{identifier:"Über die Online-IDE...",link:"https://www.learnj.de/doku.php?id=javaonline:ueber"}]}}]};null!=e&&(e.is_admin||e.is_schooladmin||e.is_teacher)&&o.items[0].subMenu.items.push({identifier:"Schulen/Klassen/Benutzer ...",link:t+"administration_mc.html"}),null!=e&&e.is_admin&&o.items[0].subMenu.items.push({identifier:"Serverauslastung ...",link:t+"statistics.html"},{identifier:"Shutdown server...",action:function(){confirm("Server wirklich herunterfahren?")&&Wo("shutdown",{},(function(){alert("Server erfolgreich heruntergefahren.")}),(function(e){alert(e)}))}}),jQuery("#mainmenu").empty(),this.initMenu(o,0)}},{key:"switchTheme",value:function(e){this.main.viewModeController.setTheme(e)}},{key:"initMenu",value:function(e,t){e.level=t,0==t?e.$element=jQuery("#mainmenu"):(e.$element=jQuery('<div class="jo_submenu"></div>'),jQuery("body").append(e.$element)),e.$element.data("model",e);var n,i=el(e.items);try{for(i.s();!(n=i.n()).done;){var r=n.value;if("-"==r.identifier)r.$element=jQuery('<div class="jo_menuitemdivider"></div>');else{if(r.$element=jQuery("<div>"+r.identifier+"</div>"),null!=r.link){var o=jQuery('<a href="'+r.link+'" target="_blank" class="jo_menulink"></a>');o.on("mousedown",(function(t){t.stopPropagation(),setTimeout((function(){e.$element.hide()}),500)})),o.append(r.$element),r.$element=o}null!=r.subMenu&&this.initMenu(r.subMenu,t+1),this.initMenuitemCallbacks(e,r),0==t&&r.$element.addClass("jo_mainmenuitem")}e.$element.append(r.$element),r.$element.data("model",r)}}catch(e){i.e(e)}finally{i.f()}var a=this;jQuery(document).on("mousedown",(function(){for(var e=0;e<5;e++)null!=a.currentSubmenu[e]&&(a.currentSubmenu[e].hide(),a.currentSubmenu[e]=null);a.openSubmenusOnMousemove=!1}))}},{key:"initMenuitemCallbacks",value:function(e,t){var n=this;null!=t.action&&t.$element.on("mousedown",(function(e){t.action(t.identifier)})),null!=t.subMenu?(t.$element.on("mousedown",(function(e){n.opensubmenu(t),n.openSubmenusOnMousemove=!0,e.stopPropagation()})),t.$element.on("mousemove.mainmenu",(function(){n.openSubmenusOnMousemove?n.opensubmenu(t):null!=n.currentSubmenu[e.level+1]&&(n.currentSubmenu[e.level+1].hide(),n.currentSubmenu[e.level+1]=null)}))):t.$element.on("mousemove.mainmenu",(function(){null!=n.currentSubmenu[e.level+1]&&(n.currentSubmenu[e.level+1].hide(),n.currentSubmenu[e.level+1]=null)}))}},{key:"opensubmenu",value:function(e){var t,n,i=e.subMenu;1==i.level?(t=e.$element.position().left,n=30):(t=e.$element.offset().left+e.$element.width(),n=e.$element.offset().top),i.$element.css({top:n+"px",left:t+"px"}),null!=this.currentSubmenu[i.level]&&this.currentSubmenu[i.level].hide(),i.$element.show(),this.currentSubmenu[i.level]=i.$element}}])&&nl(t.prototype,n),i&&nl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ol=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=0,this.gripWidth=10,this.overallWidth=100,this.$outer=jQuery('<div class="jo_speedcontrol-outer" title="Geschwindigkeitsregler" draggable="false"></div>'),this.$bar=jQuery('<div class="jo_speedcontrol-bar" draggable="false"></div>'),this.$grip=jQuery('<div class="jo_speedcontrol-grip" draggable="false"></div>'),this.$display=jQuery('<div class="jo_speedcontrol-display" draggable="false">100 Schritte/s</div>'),this.$grip.append(this.$display),this.$outer.append(this.$bar,this.$grip),t.append(this.$outer)}var t,n,i;return t=e,(n=[{key:"setInterpreter",value:function(e){this.interpreter=e}},{key:"initGUI",value:function(){var e,t,n=this;n.overallWidth=sa(this.$outer.css("width")),n.gripWidth=sa(n.$grip.css("width")),n.xMax=n.overallWidth-n.gripWidth;var i=window.PointerEvent?"pointer":"mouse";n.$outer.on(i+"down",(function(e){var t=e.pageX-n.$outer.offset().left-4;n.setSpeed(t),n.$grip.css("left",t+"px"),n.$grip.trigger(i+"down",[e.clientX])})),this.$grip.on(i+"down",(function(r,o){null==o&&(o=r.clientX),e=o,t=n.position,jQuery(".joe_controlPanel_top").css("z-index","1000"),n.$display.show(),jQuery(document).on(i+"move.speedcontrol",(function(i){var r=i.clientX-e;n.setSpeed(t+r)})),jQuery(document).on(i+"up.speedcontrol",(function(){jQuery(document).off(i+"up.speedcontrol"),jQuery(document).off(i+"move.speedcontrol"),n.$display.hide(),jQuery(".joe_controlPanel_top").css("z-index","0")})),r.stopPropagation()}))}},{key:"getSpeedInStepsPerSecond",value:function(){return this.interpreter.stepsPerSecond}},{key:"setSpeedInStepsPerSecond",value:function(e){var t=[1,10,100,1e3,1e4,1e5,this.interpreter.maxStepsPerSecond];"max"==e&&(e=this.interpreter.maxStepsPerSecond),e=Math.min(e,this.interpreter.maxStepsPerSecond),e=Math.max(e,1);for(var n=0;n<t.length-1;n++){var i=t[n],r=t[n+1];if(e>=i&&e<=r){var o=this.xMax/(t.length-1),a=Math.round(o*n+o*(e-i)/(r-i));this.$grip.css("left",a+"px"),this.position=a;break}}this.setInterpreterSpeed(e)}},{key:"setSpeed",value:function(e){e<0&&(e=0),e>this.xMax&&(e=this.xMax),this.position=e,this.$grip.css("left",e+"px");var t=[1,10,100,1e3,1e4,1e5,this.interpreter.maxStepsPerSecond],n=this.xMax/(t.length-1),i=Math.floor(e/n);i==t.length-1&&i--;var r=t[i],o=r+(e-i*n)/n*(t[i+1]-r);this.setInterpreterSpeed(o)}},{key:"setInterpreterSpeed",value:function(e){this.interpreter.stepsPerSecond=e,this.interpreter.hideProgrampointerPosition();var t=""+Math.ceil(e);e>=this.interpreter.maxStepsPerSecond-10&&(t="Maximale Geschwindigkeit"),this.$display.html(t+" Schritte/s")}}])&&rl(t.prototype,n),i&&rl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function al(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var sl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$buttonsContainer=t,this.$editorContainer=n,this.buttonActiveMatrix={start:[!1,!1,!0,!0,!0,!1],pause:[!1,!0,!1,!1,!1,!1],stop:[!1,!0,!0,!1,!1,!0],stepOver:[!1,!1,!0,!0,!0,!1],stepInto:[!1,!1,!0,!0,!0,!1],stepOut:[!1,!1,!0,!1,!1,!1],restart:[!1,!0,!0,!0,!0,!0]},this.speedControl=new ol(t),this.speedControl.initGUI(),this.$buttonStart=jQuery('<div title="Start" class="img_start-dark jo_button"></div>'),this.$buttonPause=jQuery('<div title="Pause" class="img_pause-dark jo_button"></div>'),this.$buttonStop=jQuery('<div title="Stop" class="img_stop-dark jo_button"></div>'),this.$buttonStepOver=jQuery('<div title="Step over" class="img_step-over-dark jo_button"></div>'),this.$buttonStepInto=jQuery('<div title="Step into" class="img_step-into-dark jo_button"></div>'),this.$buttonStepOut=jQuery('<div title="Step out" class="img_step-out-dark jo_button"></div>'),this.$buttonRestart=jQuery('<div title="Restart" class="img_restart-dark jo_button"></div>'),t.append(this.$buttonStart,this.$buttonPause,this.$buttonStop,this.$buttonStepOver,this.$buttonStepInto,this.$buttonStepOut,this.$buttonRestart)}var t,n,i;return t=e,(n=[{key:"setInterpreter",value:function(e){this.interpreter=e,this.speedControl.setInterpreter(e),this.speedControl.setSpeed(20)}}])&&al(t.prototype,n),i&&al(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ll(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ul(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ul(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function cl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var dl=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classes=t,this.workspace=n,this.main=i,this.studentCount=0,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.$dialog=jQuery("#dialog"),jQuery("#main").css("visibility","hidden"),this.$dialog.append(jQuery('<div class="jo_ds_heading">Austeilen eines Workspace an einzelne Schüler/innen</div>\n             <div class="jo_ds_settings">\n                <div class="jo_ds_settings_caption">Workspace:</div><div class="jo_ds_workspacename">'.concat(this.workspace.name,'</div>\n                <div class="jo_ds_settings_caption">Liste filtern:</div><div class="jo_ds_filterdiv"><input class="dialog-input"></input></div>\n             </div>\n             <div class="jo_ds_student_list jo_scrollable">\n             </div>\n             <div class="jo_ds_selected_message"></div>\n             <div class="dialog-buttonRow jo_ds_buttonRow">\n                <button id="jo_ds_cancel_button">Abbrechen</button>\n                <button id="jo_ds_distribute_button">Austeilen</button>\n             </div>\n            ')));var e,t=jQuery(".jo_ds_student_list"),n=this,i=ll(this.classes);try{for(i.s();!(e=i.n()).done;){var r,o=e.value,a=ll(o.students);try{var s=function(){var e=r.value,i=jQuery('<div class="jo_ds_student_line">'),a=jQuery('<div class="jo_ds_student_class">'.concat(o.name,"</div>")),s=jQuery('<div class="jo_ds_student_name">'.concat(e.rufname," ").concat(e.familienname,"</div>"));i.append(a,s),t.append(i),i.on("mousedown",(function(){i.toggleClass("jo_active"),n.studentCount+=i.hasClass("jo_active")?1:-1,jQuery(".jo_ds_selected_message").text("".concat(n.studentCount," Schüler/inn/en selektiert"))})),i.data("student",e),i.data("klass",o)};for(a.s();!(r=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}jQuery(".jo_ds_filterdiv>input").on("input",(function(){var e=jQuery(".jo_ds_filterdiv>input").val();null==e||""==e?$(".jo_ds_student_line").show():$(".jo_ds_student_line").each((function(t,n){var i=jQuery(n),r=i.data("klass"),o=i.data("student");(r.name+" "+o.rufname+" "+o.familienname).indexOf(e)>=0?i.show():i.hide()}))})),this.$dialogMain=this.$dialog.find(".dialog-main"),this.$dialog.css("visibility","visible"),jQuery("#jo_ds_cancel_button").on("click",(function(){window.history.back()})),jQuery("#jo_ds_distribute_button").on("click",(function(){n.distributeWorkspace()})),this.main.windowStateManager.registerOneTimeBackButtonListener((function(){n.close()}))}},{key:"distributeWorkspace",value:function(){var e=this,t=[];$(".jo_ds_student_line").each((function(e,n){var i=jQuery(n);if(i.hasClass("jo_active")){var r=i.data("student");t.push(r.id)}})),window.history.back(),this.main.networkManager.sendDistributeWorkspace(this.workspace,null,t,(function(n){if(null==n){var i=e.main.networkManager.updateFrequencyInSeconds;alert("Der Workspace ".concat(e.workspace.name," wurde an ").concat(t.length," Schüler/innen ausgeteilt. Er wird in maximal ").concat(i," s bei jedem Schüler ankommen."))}else alert(n)}))}},{key:"close",value:function(){this.$dialog.css("visibility","hidden"),this.$dialog.empty(),jQuery("#main").css("visibility","visible")}}])&&cl(t.prototype,n),i&&cl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function pl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var yl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.workspace=t,this.main=n,this.libraries=[{identifier:"gng",description:"Graphics'n Games-Bibliothek zu den Informatikbüchern des Cornelsen-Verlages für das Land Bayern (Bemerkung: Die Klassen Turtle und Text heißen hier GTurtle und GText)"}]}var t,n,i;return t=e,(n=[{key:"open",value:function(){var e=this,t=new Ta;t.init(),t.heading("Einstellungen zum Workspace "+this.workspace.name),t.subHeading("A. Verwendete Bibliotheken:");var n,i=this.workspace.settings.libraries,r=fl(this.libraries);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=t.addCheckbox(o.description,i.indexOf(o.identifier)>=0,o.identifier);o.checkboxState=a}}catch(e){r.e(e)}finally{r.f()}t.buttons([{caption:"Abbrechen",color:"#a00000",callback:function(){t.close()}},{caption:"OK",color:"green",callback:function(){var n,r=!1,o=[],a=fl(e.libraries);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=s.checkboxState();r=r||l!=i.indexOf(s.identifier)>=0,l&&o.push(s.identifier)}}catch(e){a.e(e)}finally{a.f()}r&&(e.workspace.settings.libraries=o,e.workspace.saved=!1,e.workspace.alterAdditionalLibraries(),e.main.networkManager.sendUpdates(null,!0)),t.close()}}])}}])&&pl(t.prototype,n),i&&pl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ml(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var bl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$projectexplorerDiv=n,this.programPointerModule=null,this.programPointerDecoration=[],this.lastOpenModule=null}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){this.accordion=new Ra(this.main,this.$projectexplorerDiv),this.initFilelistPanel(),this.initWorkspacelistPanel()}},{key:"initFilelistPanel",value:function(){var e=this,t=this;this.fileListPanel=new za(this.accordion,"Kein Workspace gewählt","3","img_add-file-dark","Neue Datei...","java",!0,!1,"file",!0,[]),this.fileListPanel.newElementCallback=function(e,n){if(null==t.main.currentWorkspace)return alert("Bitte wählen Sie zuerst einen Workspace aus."),null;var i={name:e.name,dirty:!1,saved:!0,text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,panelElement:e,identical_to_repository_version:!1},r=new Tk(i,t.main);t.main.currentWorkspace.moduleStore.putModule(r),t.setModuleActive(r),t.main.networkManager.sendCreateFile(r,t.main.currentWorkspace,t.main.workspacesOwnerId,(function(e){null==e?n(r):alert("Der Server ist nicht erreichbar!")}))},this.fileListPanel.renameCallback=function(e,n){n=n.substr(0,80);var i=e.file;return i.name=n,i.saved=!1,t.main.networkManager.sendUpdates(),n},this.fileListPanel.deleteCallback=function(e,n){t.main.networkManager.sendDeleteWorkspaceOrFile("file",e.file.id,(function(i){null==i?(t.main.currentWorkspace.moduleStore.removeModule(e),n()):alert("Der Server ist nicht erreichbar!")}))},this.fileListPanel.contextMenuProvider=function(e){var n=[];return n.push({caption:"Duplizieren",callback:function(e){var n=e.externalElement,i={name:n.file.name+" - Kopie",dirty:!0,saved:!1,text:n.file.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:n.file.version,panelElement:null,identical_to_repository_version:!1},r=new Tk(i,t.main),o=t.main.currentWorkspace;o.moduleStore.putModule(r),t.main.networkManager.sendCreateFile(r,o,t.main.workspacesOwnerId,(function(e){if(null==e){var n={isFolder:!1,name:i.name,path:[],externalElement:r};i.panelElement=n,t.fileListPanel.addElement(n,!0),t.fileListPanel.sortElements(),t.setModuleActive(r),t.fileListPanel.renameElement(n)}else alert("Der Server ist nicht erreichbar!")}))}}),t.main.user.is_teacher||t.main.user.is_admin||t.main.user.is_schooladmin||(null==e.externalElement.file.submitted_date?n.push({caption:"Als Hausaufgabe markieren",callback:function(e){var n,i=e.externalElement.file;i.submitted_date=(n=new Date,"".concat(Jo(n.getDate()),".").concat(Jo(n.getMonth()+1),".").concat(n.getFullYear(),", ").concat(Jo(n.getHours()),":").concat(Jo(n.getMinutes()))),i.saved=!1,t.main.networkManager.sendUpdates(null,!0),t.renderHomeworkButton(i)}}):n.push({caption:"Hausaufgabenmarkierung entfernen",callback:function(e){var n=e.externalElement.file;n.submitted_date=null,n.saved=!1,t.main.networkManager.sendUpdates(null,!0),t.renderHomeworkButton(n)}})),n},this.fileListPanel.selectCallback=function(e){t.setModuleActive(e)},this.$synchronizeAction=jQuery('<div class="img_open-change jo_button jo_active" style="margin-right: 4px" title="Workspace mit Repository synchronisieren">'),this.$synchronizeAction.on("pointerdown",(function(t){t.stopPropagation(),t.preventDefault(),e.main.getCurrentWorkspace().synchronizeWithRepository()})),this.fileListPanel.addAction(this.$synchronizeAction),this.$synchronizeAction.hide()}},{key:"renderHomeworkButton",value:function(e){var t,n,i=null===(n=null===(t=null==e?void 0:e.panelElement)||void 0===t?void 0:t.$htmlFirstLine)||void 0===n?void 0:n.find(".jo_additionalButtonHomework");if(null!=i){i.find(".jo_homeworkButton").remove();var r=null,o="";if(null!=e.submitted_date&&(r="img_homework",o="Wurde als Hausaufgabe abgegeben: "+e.submitted_date,e.text_before_revision&&(r="img_homework-corrected",o="Korrektur liegt vor.")),null!=r){var a=jQuery('<div class="jo_homeworkButton '.concat(r,'" title="').concat(o,'"></div>'));i.prepend(a),r.indexOf("jo_active")>=0&&(a.on("mousedown",(function(e){return e.stopPropagation()})),a.on("click",(function(e){e.stopPropagation()})))}}}},{key:"initWorkspacelistPanel",value:function(){var e=this,t=this;this.workspaceListPanel=new za(this.accordion,"WORKSPACES","3","img_add-workspace-dark","Neuer Workspace...","workspace",!0,!0,"workspace",!1,["file"]),this.workspaceListPanel.newElementCallback=function(e,n){var i=t.main.user.id;null!=t.main.workspacesOwnerId&&(i=t.main.workspacesOwnerId);var r=new ka(e.name,t.main,i);r.isFolder=!1,r.path=e.path.join("/"),t.main.workspaceList.push(r),t.main.networkManager.sendCreateWorkspace(r,t.main.workspacesOwnerId,(function(i){null==i?(t.fileListPanel.enableNewButton(!0),n(r),t.setWorkspaceActive(r),r.renderSynchronizeButton(e)):alert("Der Server ist nicht erreichbar!")}))},this.workspaceListPanel.renameCallback=function(e,n){return n=n.substr(0,80),e.name=n,e.saved=!1,t.main.networkManager.sendUpdates(),n},this.workspaceListPanel.deleteCallback=function(n,i){t.main.networkManager.sendDeleteWorkspaceOrFile("workspace",n.id,(function(r){null==r?(t.main.removeWorkspace(n),t.fileListPanel.clear(),t.fileListPanel.setCaption("Bitte Workspace selektieren"),e.$synchronizeAction.hide(),t.fileListPanel.enableNewButton(!1),i()):alert("Der Server ist nicht erreichbar!")}))},this.workspaceListPanel.selectCallback=function(e){e.isFolder||t.main.networkManager.sendUpdates((function(){t.setWorkspaceActive(e)}))},this.workspaceListPanel.newFolderCallback=function(e,n){var i=t.main.user.id;null!=t.main.workspacesOwnerId&&(i=t.main.workspacesOwnerId);var r=new ka(e.name,t.main,i);r.isFolder=!0,r.path=e.path.join("/"),r.panelElement=e,e.externalElement=r,t.main.workspaceList.push(r),t.main.networkManager.sendCreateWorkspace(r,t.main.workspacesOwnerId,(function(i){null==i?n(r):(alert("Fehler: "+i),t.workspaceListPanel.removeElement(e))}))},this.workspaceListPanel.moveCallback=function(t){Array.isArray(t)||(t=[t]);var n,i=vl(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.externalElement;o.path=r.path.join("/"),o.saved=!1}}catch(e){i.e(e)}finally{i.f()}e.main.networkManager.sendUpdates()},this.workspaceListPanel.dropElementCallback=function(e,n,i){var r=e.externalElement,o=n.externalElement;if(!(r.moduleStore.getModules(!1).indexOf(o)>=0)){var a={name:o.file.name,dirty:!0,saved:!1,text:o.file.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:o.file.version,panelElement:null,identical_to_repository_version:!1};"move"==i&&(t.main.currentWorkspace.moduleStore.removeModule(o),t.fileListPanel.removeElement(o),t.main.networkManager.sendDeleteWorkspaceOrFile("file",o.file.id,(function(){})));var s=new Tk(a,t.main);r.moduleStore.putModule(s),t.main.networkManager.sendCreateFile(s,r,t.main.workspacesOwnerId,(function(e){null==e||alert("Der Server ist nicht erreichbar!")}))}},this.$homeAction=jQuery('<div class="img_home-dark jo_button jo_active" style="margin-right: 4px" title="Meine eigenen Workspaces anzeigen">'),this.$homeAction.on("pointerdown",(function(e){e.stopPropagation(),e.preventDefault(),t.main.networkManager.sendUpdates((function(){t.onHomeButtonClicked()})),t.main.bottomDiv.hideHomeworkTab()})),this.workspaceListPanel.addAction(this.$homeAction),this.$homeAction.hide(),this.workspaceListPanel.contextMenuProvider=function(n){var i=[];return i.push({caption:"Duplizieren",callback:function(t){e.main.networkManager.sendDuplicateWorkspace(t.externalElement,(function(t,n){if(null==t&&null!=n){var i=ka.restoreFromData(n,e.main);e.main.workspaceList.push(i);var r=n.path.split("/");1==r.length&&""==r[0]&&(r=[]),i.panelElement={name:i.name,externalElement:i,iconClass:null==i.repository_id?"workspace":"repository",isFolder:!1,path:r},e.workspaceListPanel.addElement(i.panelElement,!0),e.workspaceListPanel.sortElements()}null!=t&&alert(t)}))}},{caption:"Exportieren",callback:function(e){var t=e.externalElement,n=t.name.replace(/\//g,"_");da(t.toExportedWorkspace(),n+".json")}}),e.main.user.is_teacher&&e.main.teacherExplorer.classPanel.elements.length>0&&i.push({caption:"An Klasse austeilen...",callback:function(e){},subMenu:e.main.teacherExplorer.classPanel.elements.map((function(t){return{caption:t.name,callback:function(n){var i=t.externalElement,r=n.externalElement;e.main.networkManager.sendDistributeWorkspace(r,i,null,(function(t){if(null==t){var n=e.main.networkManager,o=n.updateFrequencyInSeconds*n.forcedUpdateEvery;alert("Der Workspace "+r.name+" wurde an die Klasse "+i.name+" ausgeteilt. Er wird in maximal "+o+" s bei jedem Schüler ankommen.")}else alert(t)}))}}}))},{caption:"An einzelne Schüler/innen austeilen...",callback:function(t){var n=e.main.teacherExplorer.classPanel.elements.map((function(e){return e.externalElement})),i=t.externalElement;new dl(n,i,e.main)}}),e.main.repositoryOn&&e.main.workspacesOwnerId==e.main.user.id&&(null==n.externalElement.repository_id?i.push({caption:"Repository anlegen...",callback:function(e){var n=e.externalElement;t.main.repositoryCreateManager.show(n)},subMenu:null}):(i.push({caption:"Mit Repository synchronisieren",callback:function(e){e.externalElement.synchronizeWithRepository()}}),i.push({caption:"Vom Repository loslösen",color:"#ff8080",callback:function(n){var i=n.externalElement;i.repository_id=null,i.saved=!1,e.main.networkManager.sendUpdates((function(){t.workspaceListPanel.setElementClass(n,"workspace"),i.renderSynchronizeButton(n)}),!0)}}))),i.push({caption:"Einstellungen...",callback:function(t){var n=t.externalElement;new yl(n,e.main).open()}}),i}}},{key:"onHomeButtonClicked",value:function(){this.main.teacherExplorer.restoreOwnWorkspaces(),this.main.networkManager.updateFrequencyInSeconds=this.main.networkManager.ownUpdateFrequencyInSeconds,this.$homeAction.hide(),this.fileListPanel.enableNewButton(this.main.workspaceList.length>0)}},{key:"renderFiles",value:function(e){var t=null==e?"Kein Workspace vorhanden":e.name;if(this.fileListPanel.setCaption(t),this.fileListPanel.clear(),null!=this.main.getCurrentWorkspace()){var n,i=vl(this.main.getCurrentWorkspace().moduleStore.getModules(!1));try{for(i.s();!(n=i.n()).done;)n.value.file.panelElement=null}catch(e){i.e(e)}finally{i.f()}}if(null!=e){var r,o=[],a=vl(e.moduleStore.getModules(!1));try{for(a.s();!(r=a.n()).done;){var s=r.value;o.push(s)}}catch(e){a.e(e)}finally{a.f()}o.sort((function(e,t){return e.file.name>t.file.name?1:e.file.name<t.file.name?-1:0}));for(var l=0,u=o;l<u.length;l++){var c=u[l];c.file.panelElement={name:c.file.name,externalElement:c,isFolder:!1,path:[]},this.fileListPanel.addElement(c.file.panelElement,!0),this.renderHomeworkButton(c.file)}this.fileListPanel.sortElements()}}},{key:"renderWorkspaces",value:function(e){this.fileListPanel.clear(),this.workspaceListPanel.clear();var t,n=vl(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.path.split("/");1==r.length&&""==r[0]&&(r=[]),i.panelElement={name:i.name,externalElement:i,iconClass:null==i.repository_id?"workspace":"repository",isFolder:i.isFolder,path:r},this.workspaceListPanel.addElement(i.panelElement,!1),i.renderSynchronizeButton(i.panelElement)}}catch(e){n.e(e)}finally{n.f()}this.workspaceListPanel.sortElements(),this.fileListPanel.enableNewButton(e.length>0)}},{key:"renderErrorCount",value:function(e,t){if(null!=t){var n,i=vl(e.moduleStore.getModules(!1));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=t.get(r),a=null==o||0==o?"":"("+o+")";this.fileListPanel.setTextAfterFilename(r.file.panelElement,a,"jo_errorcount")}}catch(e){i.e(e)}finally{i.f()}}}},{key:"showRepositoryButtonIfNeeded",value:function(e){null!=e.repository_id&&e.owner_id==this.main.user.id?(this.$synchronizeAction.show(),this.main.user.settings.helperHistory.repositoryButtonDone||qu.showHelper("repositoryButton",this.main,this.$synchronizeAction)):this.$synchronizeAction.hide()}},{key:"setWorkspaceActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.workspaceListPanel.select(e,!1,t),this.main.interpreter.state==ic.running&&this.main.interpreter.stop(),this.main.currentWorkspace=e,this.renderFiles(e),null!=e){var n=e.moduleStore.getModules(!1);null!=e.currentlyOpenModule?this.setModuleActive(e.currentlyOpenModule):n.length>0?this.setModuleActive(n[0]):this.setModuleActive(null);var i,r=vl(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.file.dirty=!0}}catch(e){r.e(e)}finally{r.f()}0!=n.length||this.main.user.settings.helperHistory.newFileHelperDone||qu.showHelper("newFileHelper",this.main,this.fileListPanel.$captionElement),this.showRepositoryButtonIfNeeded(e)}else this.setModuleActive(null)}},{key:"writeEditorTextToFile",value:function(){var e=this.getCurrentlyEditedModule();null!=e&&(e.file.text=e.getProgramTextFromMonacoModel())}},{key:"setModuleActive",value:function(e){this.main.bottomDiv.homeworkManager.hideRevision(),null!=this.lastOpenModule&&(this.lastOpenModule.getBreakpointPositionsFromEditor(),this.lastOpenModule.file.text=this.lastOpenModule.getProgramTextFromMonacoModel(),this.lastOpenModule.editorState=this.main.getMonacoEditor().saveViewState()),null==e?(this.main.getMonacoEditor().setModel(monaco.editor.createModel("Keine Datei vorhanden.","text")),this.main.getMonacoEditor().updateOptions({readOnly:!0}),this.fileListPanel.setCaption("Keine Datei vorhanden")):(this.main.getMonacoEditor().updateOptions({readOnly:!1}),this.main.getMonacoEditor().setModel(e.model),null!=this.main.getBottomDiv()&&this.main.getBottomDiv().errorManager.showParenthesisWarning(e.bracketError),null!=e.file.text_before_revision?this.main.bottomDiv.homeworkManager.showHomeWorkRevisionButton():this.main.bottomDiv.homeworkManager.hideHomeworkRevisionButton())}},{key:"setActiveAfterExternalModelSet",value:function(e){var t=this;this.fileListPanel.select(e,!1),this.lastOpenModule=e,null!=e.editorState&&(this.main.editor.dontPushNextCursorMove++,this.main.getMonacoEditor().restoreViewState(e.editorState),this.main.editor.dontPushNextCursorMove--),e.renderBreakpointDecorators(),this.setCurrentlyEditedModule(e),this.showProgramPointer(),setTimeout((function(){t.main.getMonacoEditor().getOptions().get(monaco.editor.EditorOption.readOnly)||t.main.getMonacoEditor().focus()}),300)}},{key:"showProgramPointer",value:function(){if(this.programPointerModule==this.getCurrentlyEditedModule()&&null!=this.getCurrentlyEditedModule()){var e=this.programPointerPosition,t={startColumn:e.column,startLineNumber:e.line,endColumn:e.column+e.length,endLineNumber:e.line};this.main.getMonacoEditor().revealRangeInCenterIfOutsideViewport(t),this.programPointerDecoration=this.main.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[{range:t,options:{className:"jo_revealProgramPointer",isWholeLine:!0,overviewRuler:{color:"#6fd61b",position:monaco.editor.OverviewRulerLane.Center},minimap:{color:"#6fd61b",position:monaco.editor.MinimapPosition.Inline}}},{range:t,options:{beforeContentClassName:"jo_revealProgramPointerBefore"}}])}}},{key:"showProgramPointerPosition",value:function(e,t){if(null!=e){var n=this.main.currentWorkspace.moduleStore.findModuleByFile(e);null!=n&&(this.programPointerModule=n,this.programPointerPosition=t,n!=this.getCurrentlyEditedModule()?this.setModuleActive(n):this.showProgramPointer())}}},{key:"hideProgramPointerPosition",value:function(){this.getCurrentlyEditedModule()==this.programPointerModule&&this.main.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[]),this.programPointerModule=null,this.programPointerDecoration=[]}},{key:"getCurrentlyEditedModule",value:function(){var e=this.main.currentWorkspace;return null==e?null:e.currentlyOpenModule}},{key:"setCurrentlyEditedModule",value:function(e){if(null!=e){var t=this.main.currentWorkspace;t.currentlyOpenModule!=e&&(t.currentlyOpenModule=e,t.saved=!1,e.file.dirty=!0)}}},{key:"setExplorerColor",value:function(e){var t;null==e?(e="transparent",t="Meine WORKSPACES"):t="Schüler-WS",this.fileListPanel.$listElement.parent().css("background-color",e),this.workspaceListPanel.$listElement.parent().css("background-color",e),this.workspaceListPanel.setCaption(t)}},{key:"getNewModule",value:function(e){return new Tk(e,this.main)}}])&&gl(t.prototype,n),i&&gl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var kl=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=n,this.position=0,this.gripHeight=10,this.overallHeight=150,this.zoomMin=.2,this.zoomMax=2;var r=jQuery('<div class="jo_zoomcontrol-outer" title="Zoom" draggable="false"></div>');t.append(r);var o,a,s=jQuery('<div class="jo_zoomcontrol-bar" draggable="false"></div>');r.append(s),this.$grip=jQuery('<div class="jo_zoomcontrol-grip" draggable="false"></div>'),r.append(this.$grip),this.$zoomcontrolDisplay=jQuery('<div class="jo_zoomcontrol-display"></div>'),this.$grip.append(this.$zoomcontrolDisplay);var l=this;l.overallHeight=sa(r.css("height")),l.gripHeight=sa(l.$grip.css("height")),l.yMax=l.overallHeight-l.gripHeight;var u=window.PointerEvent?"pointer":"mouse";s.on(u+"down",(function(e){var t=e.pageY-r.offset().top-4;l.setZoom(t),l.$grip.css("top",t+"px"),l.$grip.trigger(u+"down",[e.clientY])})),this.$grip.on(u+"down",(function(e,t){null==t&&(t=e.clientY),o=t,a=l.position,i.$zoomcontrolDisplay.show(),jQuery(document).on(u+"move.zoomcontrol",(function(e){var t=e.clientY-o;l.setZoom(a+t)})),jQuery(document).on(u+"up.zoomcontrol",(function(){jQuery(document).off(u+"up.zoomcontrol"),jQuery(document).off(u+"move.zoomcontrol"),i.$zoomcontrolDisplay.hide()})),e.stopPropagation()})),t.on(u+"enter",(function(t){e.preventFading||r.fadeIn()})),t.on(u+"leave",(function(t){e.preventFading||r.fadeOut()}));var c=(1-this.zoomMin)/(this.zoomMax-this.zoomMin);this.position=c*(this.overallHeight-this.gripHeight),this.$grip.css("top",this.position+"px")}var t,n,i;return t=e,(n=[{key:"setZoom",value:function(e){e<0&&(e=0),e>this.yMax&&(e=this.yMax),this.position=e,this.$grip.css("top",e+"px");var t=e/(this.overallHeight-this.gripHeight);t=this.zoomMin+t*(this.zoomMax-this.zoomMin);var n=Math.round(100*t)+" %";this.$zoomcontrolDisplay.html(n),null!=this.callback&&this.callback(t)}}])&&wl(t.prototype,n),i&&wl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}kl.preventFading=!1;var Tl,xl=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.zoomfactor=1,this.inlineStyles={},this.marginCm=1.6,this.minDistance=2,this.minWidthHeightCm=10,this.widthCm=this.minWidthHeightCm,this.heightCm=this.minWidthHeightCm,this.$menuButton=jQuery('<div class="jo_classDiagram_Menubutton jo_button jo_active img_menu-three-bars"></div>'),t.append(this.$menuButton);var r=jQuery("<div></div>");t.append(r),r.addClass("jo_scrollable"),r.css({overflow:"auto",position:"relative",width:"100%",height:"100%"}),this.$canvas=jQuery('<div class="jo_diagram-canvas"></div>'),r.append(this.$canvas),this.zoomControl=new kl(t,(function(e){i.$canvas.css({transform:"scale("+e+")"}),i.zoomfactor=e}));var o,a;this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),jQuery(this.svgElement).addClass("jo_diagram-svg svg_all_pointer_events"),this.$canvas[0].appendChild(this.svgElement),this.$centerRectangle=jQuery(this.createElement("rect",this.svgElement)),this.$centerRectangle.css({fill:"#ffffff",stroke:"none"}),this.adjustCenterRectangle(),jQuery(this.svgElement).on("mousedown",(function(e){o=e.screenX,a=e.screenY,jQuery(document).on("mousemove.diagram",(function(e){var t=e.screenX-o,n=e.screenY-a;o=e.screenX,a=e.screenY,r.scrollLeft(r.scrollLeft()-t),r.scrollTop(r.scrollTop()-n)})),jQuery(document).on("mouseup.diagram",(function(){jQuery(document).off("mousemove.diagram"),jQuery(document).off("mouseup.diagram")}))}))}var t,n,i;return t=e,(n=[{key:"adjustCenterRectangle",value:function(){this.$centerRectangle.attr({x:this.marginCm+"cm",y:this.marginCm+"cm",width:this.widthCm-2*this.marginCm+"cm",height:this.heightCm-2*this.marginCm+"cm"})}},{key:"setSize",value:function(e,t){e<this.minWidthHeightCm&&(e=this.minWidthHeightCm),t<this.minWidthHeightCm&&(t=this.minWidthHeightCm),this.$canvas.css({width:e+"cm",height:t+"cm"}),this.widthCm=e,this.heightCm=t,this.adjustCenterRectangle()}},{key:"adjustSizeAndElements",value:function(e){var t,n=1e5,i=1e5,r=-1e5,o=-1e5,a=Sl(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;n>s.leftCm&&(n=s.leftCm),r<s.leftCm+s.widthCm&&(r=s.leftCm+s.widthCm),i>s.topCm&&(i=s.topCm),o<s.topCm+s.heightCm&&(o=s.topCm+s.heightCm)}}catch(e){a.e(e)}finally{a.f()}n-=this.marginCm,r+=this.marginCm,i-=this.marginCm,o+=this.marginCm;var l=!1,u=this.widthCm,c=this.heightCm;if(n<0||r>this.widthCm||r-n<=this.widthCm&&this.widthCm>this.minWidthHeightCm){var d=0;if(u=Math.max(this.minWidthHeightCm,r-n),n<0&&(d=-n),n>0&&r>u&&(d=u-r),l=0!=d){var f,h=Sl(e);try{for(h.s();!(f=h.n()).done;)f.value.move(d,0,!0,!0)}catch(e){h.e(e)}finally{h.f()}}}if(i<0||o>this.heightCm||o-i<=this.heightCm&&this.heightCm>this.minWidthHeightCm){var p=0;if(c=Math.max(this.minWidthHeightCm,o-i),i<0&&(p=-i),i>0&&o>c&&(p=c-o),l=0!=p){var y,v=Sl(e);try{for(v.s();!(y=v.n()).done;)y.value.move(0,p,!0,!0)}catch(e){v.e(e)}finally{v.f()}}}return this.setSize(u,c),{isAdjusted:l}}},{key:"insertStyleElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="http://www.w3.org/2000/svg";null==this.style&&(this.defs=document.createElementNS(t,"defs"),this.style=document.createElementNS(t,"style"),this.defs.appendChild(this.style),this.svgElement.appendChild(this.defs)),null!=e&&(this.inlineStyles=e,this.refreshInlineStyles())}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"refreshInlineStyles",value:function(){var e="";for(var t in this.inlineStyles){var n=this.inlineStyles[t];if(null!=n){for(var i in e+=t+"{\n",n)e+="   "+i+":"+n[i]+";\n";e+="}\n"}else e+=t+"\n"}this.style.textContent=e}},{key:"findFreeSpace",value:function(e,t,n,i){for(var r=0,o=!1,a=0,s=0;!o;){var l=r,u=0;for(u=0;u<=r;u++)if(a=this.marginCm+.2*u,s=this.marginCm+.2*l,this.isFree(e,t,n,a,s,i)){o=!0;break}if(o)break;for(u--,l=0;l<=r-1;l++)if(a=this.marginCm+.2*u,s=this.marginCm+.2*l,this.isFree(e,t,n,a,s,i)){o=!0;break}r+=2}return{x:a,y:s}}},{key:"isFree",value:function(e,t,n,i,r,o){var a,s=Sl(e);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=Math.abs(l.leftCm+l.widthCm/2-i-t/2)<=(l.widthCm+t)/2+o,c=Math.abs(l.topCm+l.heightCm/2-r-n/2)<=(l.heightCm+n)/2+o;if(u&&c)return!1}}catch(e){s.e(e)}finally{s.f()}return!0}}])&&jl(t.prototype,n),i&&jl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ml(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ol(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ol(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Cl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right"}(Tl||(Tl={}));var Al=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.leftCm=0,this.topCm=0,this.lines=[],this.backgroundColor="#ffffff"}var t,n,i;return t=e,(n=[{key:"getRoutingRectangle",value:function(){return{left:Math.round(this.leftCm/.2),top:Math.round(this.topCm/.2),width:Math.round(this.widthCm/.2),height:Math.round(this.heightCm/.2)}}},{key:"show",value:function(){null!=this.$element&&this.$element.show()}},{key:"hide",value:function(){null!=this.$element&&this.$element.hide()}},{key:"detach",value:function(){null!=this.$element&&this.$element.detach()}},{key:"remove",value:function(){null!=this.$element&&(this.$element.remove(),this.$element=null)}},{key:"appendTo",value:function(e){e.append(this.$element)}},{key:"clear",value:function(){null!=this.$element&&(this.$element.empty(),this.lines=[])}},{key:"move",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.leftCm+=e,this.topCm+=t;var r=this.leftCm,o=this.topCm;n&&(r=.2*Math.round(r/.2),o=.2*Math.round(o/.2)),i&&(this.leftCm=r,this.topCm=o),jQuery(this.$element).css("transform","translate("+r+"cm,"+o+"cm)")}},{key:"moveTo",value:function(e,t,n){this.move(e-this.leftCm,t-this.topCm,n)}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"createTextElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.createElement("text",t,{font:"16px Roboto","font-family":"sans-serif",fill:"#000","alignment-baseline":"hanging","dominant-baseline":"hanging"});return null!=n&&i.attr(n),i.text(e),i}},{key:"getTextMetrics",value:function(t){var n=t[0].getBBox();return{height:n.height*e.cmPerPx,width:n.width*e.cmPerPx}}},{key:"addTextLine",value:function(e){this.lines.push(e),"text"==e.type&&(null==e.alignment&&(e.alignment=Tl.left),null==e.bold&&(e.bold=!1),null==e.italics&&(e.italics=!1))}},{key:"render",value:function(){var e=this,t=this.$element;null==t&&((t=this.createElement("g",this.parent)).addClass("svg_draggable"),t.addClass("svg_all_pointer_events"),this.$element=t,jQuery(this.$element).css("transform","translate("+this.leftCm+"cm,"+this.topCm+"cm)"));var n,i=this.createElement("rect",t[0]),r=.1,o=0,a=!0,s=Ml(this.lines);try{for(s.s();!(n=s.n()).done;){var l=n.value;if("text"==l.type){a&&(r+=.1),a=!1,l.yCm=r,l.$element=this.createTextElement(l.text,t[0],{"font-weight":l.bold?"bold":"normal","font-size":"12pt","font-style":l.italics?"italic":"normal","text-anchor":l.alignment==Tl.left?"start":l.alignment==Tl.center?"middle":"end",cursor:null==l.onClick?"":"pointer"}),l.$element.css("transform","translate(0cm,0cm)");var u=this.getTextMetrics(l.$element);l.textHeightCm=u.height,l.textWidthCm=u.width,o=Math.max(o,l.textWidthCm),r+=l.textHeightCm,null!=l.tooltip&&this.createElement("title",l.$element[0]).text(l.tooltip)}else l.yCm=r+l.thicknessCm/2,r+=l.thicknessCm+.1,a=!0}}catch(e){s.e(e)}finally{s.f()}var c=.5+o;this.widthCm=.2*(Math.trunc(c/.2)+1),this.heightCm=.2*(Math.trunc(r/.2)+1);var d=c/2,f=c-.25;i.css({width:this.widthCm+"cm",height:this.heightCm+"cm",fill:this.backgroundColor,stroke:"#000","stroke-width":"0.05cm"});var h,p=Ml(this.lines);try{var y=function(){var n=h.value;if("text"==n.type){var i;switch(n.alignment){case Tl.center:i=d;break;case Tl.left:i=.25;break;case Tl.right:i=f}var r=e.createElement("g",t[0]);r.append(n.$element),n.$element=r,n.$element.css("transform","translate("+i+"cm,"+n.yCm+"cm)"),null!=n.onClick&&(n.$element.addClass("clickable"),n.$element.on("mousedown",(function(e){n.onClick(),e.stopPropagation()})))}else n.$element=e.createElement("line",t[0],{x1:"0",y1:n.yCm+"cm",x2:e.widthCm+"cm",y2:n.yCm+"cm"}),n.$element.css({stroke:"#000","stroke-width":n.thicknessCm+"cm"})};for(p.s();!(h=p.n()).done;)y()}catch(e){p.e(e)}finally{p.f()}}}])&&Cl(t.prototype,n),i&&Cl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Il(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _l(){return(_l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=zl(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function zl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wl(e)););return e}function Rl(e,t){return(Rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wl(e);if(t){var r=Wl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ll(this,n)}}function Ll(e,t){if(t&&("object"===El(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wl(e){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Al.cmPerPx=2.54/96;var Gl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rl(e,t)}(o,e);var t,n,i,r=Bl(o);function o(e,t,n,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(a=r.call(this,e.svgElement)).diagram=e,a.active=!0,a.withMethods=!0,a.withAttributes=!0,a.klass=i,null!=i&&(a.attachToClass(a.klass),a.isSystemClass=i.module.isSystemModule,a.withAttributes=!1,//!this.isSystemClass;
a.withMethods=!1),a.moveTo(t,n,!0),a}return t=o,i=[{key:"deserialize",value:function(e,t){var n=new o(e,t.leftCm,t.topCm,null);return n.hashedSignature=t.hashedSignature,n.className=t.className,n.filename=t.filename,n.withAttributes=t.withAttributes,n.withMethods=t.withMethods,n.isSystemClass=t.isSystemClass,n}}],(n=[{key:"serialize",value:function(){return{className:this.className,filename:this.filename,hashedSignature:this.hashedSignature,withAttributes:this.withAttributes,withMethods:this.withMethods,isSystemClass:this.isSystemClass,leftCm:this.leftCm,topCm:this.topCm}}},{key:"attachToClass",value:function(e){this.klass=e;var t=this.getSignature(e);this.className!=e.identifier||this.hashedSignature!=t||this.widthCm<.7||this.documentation!=e.documentation?(this.isSystemClass=e.module.isSystemModule,this.renderLines()):this.addMouseEvents(),this.className=e.identifier,this.filename=e.module.file.name,this.hashedSignature=t,this.documentation=e.documentation}},{key:"jumpToDeclaration",value:function(e){this.diagram.main.jumpToDeclaration(this.klass.module,e.declaration)}},{key:"renderLines",value:function(){var e=this;this.clear();var t=this.diagram.currentClassBoxes.parametersWithTypes;if(this.addTextLine({type:"text",text:(this.klass instanceof te?"<<interface>> ":this.klass.isAbstract?"<<abstract>> ":"")+this.klass.identifier,tooltip:Ts(this.klass,"",!0),alignment:Tl.center,bold:!0,italics:this.klass instanceof te||this.klass.isAbstract,onClick:this.isSystemClass?void 0:function(){e.jumpToDeclaration(e.klass)}}),this.klass instanceof J&&this.withAttributes){this.addTextLine({type:"line",thicknessCm:.05});var n,i=Dl(this.klass.attributes);try{var r=function(){var t=n.value,i=e.getVisibilityText(t.visibility)+Ms(t.type)+" "+t.identifier;e.addTextLine({type:"text",text:i,tooltip:Ts(t),alignment:Tl.left,onClick:e.isSystemClass?void 0:function(){e.jumpToDeclaration(t)}})};for(i.s();!(n=i.n()).done;)r()}catch(e){i.e(e)}finally{i.f()}}this.withMethods&&(this.addTextLine({type:"line",thicknessCm:.05}),this.klass.methods.filter((function(e){return"toJson()"!=e.signature})).forEach((function(n){var i=e.getVisibilityText(n.visibility)+n.identifier+"()";if(t){var r=n.isConstructor?"":null==n.returnType?"void ":Ms(n.returnType)+" ";i=e.getVisibilityText(n.visibility)+r+n.identifier+"("+n.parameterlist.parameters.map((function(e){return Ms(e.type)+" "+e.identifier})).join(", ")+")"}e.addTextLine({type:"text",text:i,tooltip:Ts(n),alignment:Tl.left,italics:e.klass instanceof te||n.isAbstract,onClick:e.isSystemClass?void 0:function(){e.jumpToDeclaration(n)}})}))),this.backgroundColor=this.isSystemClass?"#aaaaaa":"#ffffff",this.render(),this.$dropdownTriangle=this.createElement("path",this.$element[0],{d:this.getTrianglePath(),class:"dropdown-triangle",style:"transform: translate("+(this.widthCm-.35)+"cm,0.05cm)"}),this.addMouseEvents()}},{key:"getTrianglePath",value:function(){return this.withMethods?"M 0 8 L 11 8 L 5.5 2 L 0 8":"M 0 2 L 11 2 L 5.5 8 L 0 2"}},{key:"detach",value:function(){var e;null===(e=this.$element)||void 0===e||e.off("mousedown.diagramElement"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),_l(Wl(o.prototype),"detach",this).call(this)}},{key:"addMouseEvents",value:function(){var e=this,t=this;null!=this.$dropdownTriangle&&(this.$dropdownTriangle.off("mouseup.dropdowntriangle"),this.$dropdownTriangle.off("mousedown.dropdowntriangle")),this.$dropdownTriangle.on("mousedown.dropdowntriangle",(function(e){e.stopPropagation()})),this.$dropdownTriangle.on("mouseup.dropdowntriangle",(function(t){t.stopPropagation(),e.withMethods=!e.withMethods,e.withAttributes=!e.withAttributes,e.$dropdownTriangle.attr("d",e.getTrianglePath()),e.renderLines(),e.diagram.adjustClassDiagramSize(),e.diagram.updateArrows()})),this.$element.on("mousedown.diagramElement",(function(n){if(n.stopPropagation(),n.stopImmediatePropagation(),0==n.button){var i=n.screenX,r=n.screenY;t.$element.find("rect").addClass("dragging"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),jQuery(document).on("mousemove.diagramElement",(function(n){var o=1/96*2.36/e.diagram.zoomfactor,a=(n.screenX-i)*o,s=(n.screenY-r)*o;i=n.screenX,r=n.screenY,t.move(a,s,!0),clearTimeout(t.inDebounce),t.inDebounce=setTimeout((function(){t.diagram.updateArrows()}),200)})),jQuery(document).on("mouseup.diagramElement",(function(){t.move(0,0,!0,!0);var e=t.diagram;e.adjustClassDiagramSize(),e.updateArrows(),t.$element.find("rect").removeClass("dragging"),jQuery(document).off("mouseup.diagramElement"),jQuery(document).off("mousemove.diagramElement"),e.dirty=!0}))}}))}},{key:"getVisibilityText",value:function(e){switch(e){case _.private:return"-";case _.protected:return"#";case _.public:return"+"}}},{key:"getSignature",value:function(e){var t="";if(e instanceof J&&this.withAttributes&&e.attributes.length>0){var n,i=Dl(e.attributes);try{for(i.s();!(n=i.n()).done;){var r=n.value;t+=this.getVisibilityText(r.visibility)+r.type.identifier+" "+r.identifier}}catch(e){i.e(e)}finally{i.f()}}if(this.withMethods&&e.methods.length>0){var o,a=Dl(e.methods);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!s.isConstructor){var l=null==s.returnType?"void":s.returnType.identifier;t+=this.getVisibilityText(s.visibility)+l+" "+s.identifier+"("+s.parameterlist.parameters.map((function(e){return e.type.identifier+" "+e.identifier})).join(", ")+")"}}}catch(e){a.e(e)}finally{a.f()}}return function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(t)}},{key:"hasSignatureAndFileOf",value:function(e){return e.module.file.name==this.filename&&this.getSignature(e)==this.hashedSignature}}])&&Fl(t.prototype,n),i&&Fl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Al);function Nl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Hl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Vl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"makeHead",value:function(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);if(o<1e-5)return{path:"",stroke:"none",fill:"none"};var a,s=i/o,l=r/o,u="M "+.2*t.x/Ql.cmPerPx+" "+.2*t.y/Ql.cmPerPx,c=this.arrows[n],d=Nl(c.steps);try{for(d.s();!(a=d.n()).done;){var f=a.value,h=f.r/180*Math.PI,p=s*Math.cos(h)-l*Math.sin(h),y=s*Math.sin(h)+l*Math.cos(h);u+=" l "+p*f.f/Ql.cmPerPx+" "+y*f.f/Ql.cmPerPx,s=p,l=y}}catch(e){d.e(e)}finally{d.f()}return{path:u,fill:c.fill,stroke:c.stroke}}}],(n=null)&&Hl(t.prototype,n),i&&Hl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Kl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Vl.rauteAlpha=60,Vl.arrows={inheritance:{steps:[{r:150,f:.4},{r:120,f:.4},{r:120,f:.4}],stroke:"#000000",fill:"#ffffff","stroke-dasharray":void 0},realization:{steps:[{r:150,f:.4},{r:120,f:.4},{r:120,f:.4}],stroke:"#000000",fill:"#8080ff","stroke-dasharray":"4"},composition:{steps:[{r:90+Vl.rauteAlpha,f:.3},{r:180-2*Vl.rauteAlpha,f:.3},{r:2*Vl.rauteAlpha,f:.3},{r:180-2*Vl.rauteAlpha,f:.3}],stroke:"#000000",fill:"#ffffff","stroke-dasharray":void 0}};var Ql=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.routingArrow=n,this.color=i}var t,n,i;return t=e,(n=[{key:"show",value:function(){null!=this.$element&&this.$element.show()}},{key:"hide",value:function(){null!=this.$element&&this.$element.hide()}},{key:"detach",value:function(){null!=this.$element&&this.$element.detach()}},{key:"remove",value:function(){null!=this.$element&&this.$element.remove()}},{key:"appendTo",value:function(e){e.append(this.$element)}},{key:"clear",value:function(){null!=this.$element&&this.$element.empty()}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i="http://www.w3.org/2000/svg",r=jQuery(document.createElementNS(i,e));return null!=n&&r.attr(n),null!=t&&t.appendChild(r[0]),r}},{key:"createTextElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.createElement("text",t,{font:"16px Roboto","font-family":"sans-serif",fill:"#000","alignment-baseline":"hanging"});return null!=n&&i.attr(n),i.text(e),i}},{key:"getTextMetrics",value:function(t){var n=t[0].getBBox();return{height:n.height*e.cmPerPx,width:n.width*e.cmPerPx}}},{key:"render",value:function(){var e=this.$element;null==e?(e=this.createElement("g",this.parent),this.$element=e,e.css("stroke",this.color)):e.empty();var t=this.routingArrow.minimalPoints;if(!(null==t||t.length<2)){for(var n="M "+this.getPathCoordinates(t[0]),i=1;i<t.length;i++)n+=" L "+this.getPathCoordinates(t[i]);var r=Vl.arrows[this.routingArrow.arrowType];for(this.createElement("path",e[0],{d:n}).css({"stroke-width":"0.2 cm",fill:"none","stroke-dasharray":r["stroke-dasharray"]});t.length>1&&t[t.length-1].x==t[t.length-2].x&&t[t.length-1].y==t[t.length-2].y;)t.pop();if(t.length>1&&null==this.routingArrow.endsOnArrowWithIdentifier){var o=Vl.makeHead(t[t.length-2],t[t.length-1],this.routingArrow.arrowType);this.createElement("path",e[0],{d:o.path}).css({stroke:this.color,"stroke-width":"0.2 cm",fill:o.fill})}}}},{key:"getPathCoordinates",value:function(t){return.2*t.x/e.cmPerPx+" "+.2*t.y/e.cmPerPx}}])&&Kl(t.prototype,n),i&&Kl(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ul(e){return(Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ql(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=nu(e);if(t){var r=nu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return eu(this,n)}}function eu(e,t){if(t&&("object"===Ul(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tu(e)}function tu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nu(e){return(nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ql.cmPerPx=2.54/96;var iu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yl(e,t)}(o,e);var t,n,i,r=Jl(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t)).$htmlElement=e,n.classBoxesRepository={},n.arrows=[],n.currentWorkspaceId=null,n.version=0,n.straightArrowSectionAfterRectangle=2,n.distanceFromRectangles=2,n.slotDistance=2,n.dirty=!1;var i=tu(n);return n.$menuButton.on("click",(function(e){e.preventDefault();var t=1==i.currentClassBoxes.displaySystemClasses,n=1==i.currentClassBoxes.parametersWithTypes;oa([{caption:t?"Systemklassen ausblenden":"Systemklassen einblenden",callback:function(){i.currentClassBoxes.displaySystemClasses=!t,i.drawDiagram(i.currentWorkspace,!1)}},{caption:n?"Parameter ausblenden":"Parameter einblenden",callback:function(){i.currentClassBoxes.parametersWithTypes=!n,i.currentClassBoxes.active.forEach((function(e){e.hashedSignature=-1})),i.drawDiagram(i.currentWorkspace,!1)}}],e.pageX+2,e.pageY+2),e.stopPropagation()})),n}return t=o,(n=[{key:"clearAfterLogout",value:function(){this.classBoxesRepository={},this.arrows.forEach((function(e){e.remove()})),$(this.svgElement).empty()}},{key:"serialize",value:function(){if(null!=this.currentClassBoxes){var e={classBoxes:[],displaySystemClasses:this.currentClassBoxes.displaySystemClasses,parametersWithTypes:this.currentClassBoxes.parametersWithTypes};for(var t in this.classBoxesRepository){var n,i=Zl(this.classBoxesRepository[t].active);try{for(i.s();!(n=i.n()).done;){var r=n.value.serialize();r.workspaceId=Number.parseInt(t),e.classBoxes.push(r)}}catch(e){i.e(e)}finally{i.f()}}return e}}},{key:"deserialize",value:function(e){var t,n=Zl(e.classBoxes);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=this.classBoxesRepository[i.workspaceId];null==r&&(r={active:[],inactive:[],displaySystemClasses:!1,parametersWithTypes:!1},this.classBoxesRepository[i.workspaceId]=r),r.inactive.push(Gl.deserialize(this,i)),r.displaySystemClasses=e.displaySystemClasses,r.parametersWithTypes=e.parametersWithTypes}}catch(e){n.e(e)}finally{n.f()}}},{key:"adjustClassDiagramSize",value:function(){var e=this.classBoxesRepository[this.currentWorkspaceId];this.adjustSizeAndElements(e.active)}},{key:"getClassBoxes",value:function(e){var t=this.classBoxesRepository[e.id];return null==t&&(t={active:[],inactive:[],displaySystemClasses:!1,parametersWithTypes:!1},this.classBoxesRepository[e.id]=t),t}},{key:"switchToWorkspace",value:function(e){var t=this.getClassBoxes(e);if(this.currentWorkspaceId!=e.id){if(null!=this.currentWorkspaceId){var n=this.classBoxesRepository[this.currentWorkspaceId];if(null!=n){var i,r=Zl(n.active);try{for(r.s();!(i=r.n()).done;)i.value.detach()}catch(e){r.e(e)}finally{r.f()}var o,a=Zl(n.inactive);try{for(a.s();!(o=a.n()).done;)o.value.detach()}catch(e){a.e(e)}finally{a.f()}}}var s,l=Zl(t.active);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.svgElement.appendChild(u.$element[0])}}catch(e){l.e(e)}finally{l.f()}var c,d=Zl(t.inactive);try{for(d.s();!(c=d.n()).done;){var f=c.value;null!=f.$element&&this.svgElement.appendChild(f.$element[0])}}catch(e){d.e(e)}finally{d.f()}this.adjustSizeAndElements(t.active)}return this.currentWorkspaceId=e.id,t}},{key:"drawDiagram",value:function(e,t){var n,i=this;if(null!=e){this.currentWorkspace=e,this.currentClassBoxes=this.switchToWorkspace(e);var r,o=e.moduleStore,a=[],s=!1,l=[],u=[],c=Zl(o.getModules(!1));try{for(c.s();!(r=c.n()).done;){var d=r.value,f=null===(n=null==d?void 0:d.typeStore)||void 0===n?void 0:n.typeList;null!=f&&(s=!0,f.filter((function(e){return e instanceof J||e instanceof te})).forEach((function(e){var t=i.findAndEnableClass(e,i.currentClassBoxes,l);null!=t&&a.push(t),e instanceof J&&e.registerUsedSystemClasses(u)})))}}catch(e){c.e(e)}finally{c.f()}for(var h=[];h.length<u.length;){var p,y=Zl(h=u.slice(0));try{for(y.s();!(p=y.n()).done;){var v=p.value;v instanceof J&&v.registerUsedSystemClasses(u)}}catch(e){y.e(e)}finally{y.f()}}if(this.currentClassBoxes.displaySystemClasses){var m,g=Zl(u);try{for(g.s();!(m=g.n()).done;){var b=m.value,w=this.findAndEnableClass(b,this.currentClassBoxes,l);null!=w&&a.push(w)}}catch(e){g.e(e)}finally{g.f()}}this.dirty=this.dirty||l.length>0;for(var k=0,S=l;k<S.length;k++){var P=S[k],j=new Gl(this,10*Math.random()*.2,10*Math.random()*.2,P);j.renderLines();var T=this.findFreeSpace(a,j.widthCm,j.heightCm,this.minDistance);j.moveTo(T.x,T.y,!0),a.push(j)}if(l.length>0&&this.adjustSizeAndElements(a),s){var x,M=Zl(this.currentClassBoxes.active);try{for(M.s();!(x=M.n()).done;){var O=x.value;O.hide(),O.active=!1,this.currentClassBoxes.inactive.push(O)}}catch(e){M.e(e)}finally{M.f()}this.currentClassBoxes.active=a,t||(this.adjustClassDiagramSize(),this.updateArrows())}}}},{key:"updateArrows",value:function(){this.$htmlElement.find(".jo_classdiagram-spinner").hide();var e=["#0075dc","#993f00","#005c31","#ff5005","#2bce48","#0000ff","#ffa405","#ffa8bb","#740aff","#990000","#ff0000"],t=0,n=this.drawArrows();this.version++,n.version=this.version,null!=this.routingWorker&&this.routingWorker.terminate(),this.routingWorker=new Worker("js/main/gui/diagrams/classdiagram/Router.js");var i=this;this.routingWorker.onmessage=function(n){var r=n.data;r.version==i.version&&function(){i.$htmlElement.find(".jo_classdiagram-spinner").hide(),i.arrows.forEach((function(e){e.remove()}));var n,o={},a=r.arrows.length+1;do{n=a,a=0,r.arrows.forEach((function(n){null==n.color&&(a++,null==n.endsOnArrowWithIdentifier?(n.color=e[t],o[n.identifier]=n.color,++t>e.length-1&&(t=0)):n.color=o[n.endsOnArrowWithIdentifier])}))}while(a<n);r.arrows.forEach((function(e){null==e.color&&(e.color="#ff0000")})),r.arrows.forEach((function(e){var t=new Ql(i.svgElement,e,e.color);t.render(),i.arrows.push(t)}))}()},this.routingWorker.postMessage(n),this.$htmlElement.find(".jo_classdiagram-spinner").show()}},{key:"drawArrows",value:function(){var e=this,t={rectangles:[],arrows:[],xMax:Math.ceil(this.widthCm/.2),yMax:Math.ceil(this.heightCm/.2),straightArrowSectionAfterRectangle:this.straightArrowSectionAfterRectangle,distanceFromRectangles:this.distanceFromRectangles,slotDistance:this.slotDistance},n=this.classBoxesRepository[this.currentWorkspaceId];return n.active.forEach((function(e){t.rectangles.push(e.getRoutingRectangle())})),n.active.forEach((function(i){if(i.klass instanceof J){if(null!=i.klass.baseClass){var r=e.findClassbox(i.klass.baseClass,n.active);null!=r&&e.drawArrwow(i,r,"inheritance",t)}var o,a=Zl(i.klass.implements);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=e.findClassbox(s,n.active);null!=l&&e.drawArrwow(i,l,"realization",t)}}catch(e){a.e(e)}finally{a.f()}var u,c=Zl(i.klass.getCompositeData());try{for(c.s();!(u=c.n()).done;){var d=u.value,f=e.findClassbox(d.klass,n.active);null!=f&&e.drawArrwow(f,i,"composition",t)}}catch(e){c.e(e)}finally{c.f()}}})),t}},{key:"drawArrwow",value:function(e,t,n,i){e.getRoutingRectangle(),t.getRoutingRectangle();var r=this.classBoxesRepository[this.currentWorkspaceId];i.arrows.push({arrowType:n,destRectangleIndex:r.active.indexOf(t),sourceRectangleIndex:r.active.indexOf(e),destinationIdentifier:t.className,identifier:e.className+"(extends)"+t.className})}},{key:"findClassbox",value:function(e,t){var n,i=Zl(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.klass==e)return r}}catch(e){i.e(e)}finally{i.f()}return null}},{key:"findAndEnableClass",value:function(e,t,n){for(var i=0;i<t.active.length;){var r=t.active[i];if(r.className==e.identifier||r.hasSignatureAndFileOf(e))return r.attachToClass(e),t.active.splice(i,1),r;i++}for(i=0;i<t.inactive.length;){var o=t.inactive[i];if(o.className==e.identifier||o.hasSignatureAndFileOf(e))return t.inactive.splice(i,1),o.klass=e,o.renderLines(),o.show(),o.active=!0,this.dirty=!0,o;i++}return n.push(e),null}},{key:"clear",value:function(){var e=this.classBoxesRepository[this.currentWorkspaceId];if(null!=e){var t,n=Zl(e.active);try{for(n.s();!(t=n.n()).done;)t.value.detach()}catch(e){n.e(e)}finally{n.f()}}}}])&&ql(t.prototype,n),i&&ql(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(xl);function ru(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ou(e,t,n){return t&&ru(e.prototype,t),n&&ru(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function au(e){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function su(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function uu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function du(e,t){return(du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pu(e);if(t){var r=pu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return hu(this,n)}}function hu(e,t){if(t&&("object"===au(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pu(e){return(pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&du(e,t)}(o,e);var t,n,i,r=fu(o);function o(){return uu(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"getSettingsElement",value:function(){var e,t=this,n=this.main.getCurrentWorkspace().moduleStore,i=jQuery("<span>Start der Liste:&nbsp;</span>");this.$selectElement=jQuery("<select></select>"),i.append(this.$selectElement);var r,o=su(n.getModules(!1));try{var a=function(){var n=r.value,i=null===(e=n.mainSymbolTable)||void 0===e?void 0:e.childSymbolTables;if(null==i||0==i.length)return"continue";var o=i[0].variableMap;if(null==o||null!=i[0].classContext)return"continue";o.forEach((function(e,i){var r=e.type;if(null!=r&&r instanceof J&&null!=r.module&&!r.module.isSystemModule){var o=i==t.rootIdentifier?" selected":"";t.$selectElement.append('<option value="'+i+o+'">'+i+' (Modul "'+n.file.name+'")</option>')}}))};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return i}},{key:"getName",value:function(){return"Liste"}},{key:"updateDiagram",value:function(){var e,t=null===(e=this.main.getInterpreter().heap[this.rootIdentifier])||void 0===e?void 0:e.value;if(null!=t){null!=t.type&&t.type instanceof J||this.objectDiagram.error("Die Variable "+this.rootIdentifier+" zeigt auf kein Objekt.");var n,i=t.type,r=t.value,o=this.analyzeSelfReference(i),a=[];if(null==o)for(var s=i;null!=s&&!(s instanceof be);){var l,u=su(s.attributes);try{for(u.s();!(l=u.n()).done;){var c=l.value,d=r.attributes[c.index];if(d.type instanceof J)if(null!=n&&n==c.type)a.push(c.identifier);else{var f=this.analyzeSelfReference(d.type);null!=f&&(n=f)}}}catch(e){u.e(e)}finally{u.f()}s=s.baseClass}null==o&&null==n?this.objectDiagram.error("Konnte kein sich selbst referenzierendes Objekt finden."):this.drawDiagram(t,o,a,n)}else this.objectDiagram.error("Konnte die Variable "+this.rootIdentifier+" nicht finden.")}},{key:"drawDiagram",value:function(e,t,n,i){}},{key:"analyzeSelfReference",value:function(e){for(var t=[],n=e;null!=n&&!(n instanceof be);)n.implements.length>0&&(t=t.concat(n.implements)),null==n.baseClass||n.baseClass instanceof be||(void 0).push(n.baseClass),n=n.baseClass;for(n=e;null!=n&&!(n instanceof be);){var i,r=su(n.attributes);try{for(r.s();!(i=r.n()).done;){var o=i.value.type;if(t.indexOf(o)>=0||(void 0).indexOf(o)>=0)return o}}catch(e){r.e(e)}finally{r.f()}n=n.baseClass}return null}},{key:"clear",value:function(){}}])&&cu(t.prototype,n),i&&cu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(ou((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.objectDiagram=n})));function vu(e){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ju(e);if(t){var r=ju(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Su(this,n)}}function Su(e,t){if(t&&("object"===vu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pu(e)}function Pu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ju(e){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}(o,e);var t,n,i,r=ku(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t.find(".jo_objectdiagram-canvas"),e)).$objectDiagramDiv=t,n.variants=[],n.currentVariant=null,n.variants.push(new yu(e,Pu(n)));var i=t.find(".jo_objectdiagram-type");i.empty(),i.append('<option value="none" selected>Bitte auswählen...</option>');var a,s=mu(n.variants);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.append('<option value="0">'+l.getName()+"</option>")}}catch(e){s.e(e)}finally{s.f()}var u=Pu(n);return i.on("change",(function(e){var t=e.currentTarget.value;if(null==t)null!=u.currentVariant&&(u.$canvas.find(".jo_objectDiagramError").remove(),u.currentVariant.clear()),u.currentVariant=null;else{var n=Number.parseInt(t);u.currentVariant=u.variants[n]}u.updateSettings()})),n}return t=o,(n=[{key:"error",value:function(e){this.$canvas.append('<div class="jo_objectDiagramError">'+e+"</div>")}},{key:"updateSettings",value:function(){var e=this.$objectDiagramDiv.find(".jo_objectdiagram-settings");null!=this.currentVariant?(e.empty(),e.append(this.currentVariant.getSettingsElement())):e.empty()}},{key:"updateDiagram",value:function(){null!=this.currentVariant&&this.currentVariant.updateDiagram()}}])&&bu(t.prototype,n),i&&bu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(xl);function xu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Mu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$rightDiv=n,this.isWholePage=!1,this.$tabs=n.find(".jo_tabs"),this.$headings=n.find(".jo_tabheadings");var i=this.$headings.find(".jo_classDiagramTabHeading").length>0,r=this.$headings.find(".jo_objectDiagramTabHeading").length>0;i&&(this.classDiagram=new iu(this.$tabs.find(".jo_classdiagram"),t),this.$headings.find(".jo_classDiagramTabHeading").on("click",(function(){o.main.drawClassDiagrams(!1)}))),r&&(this.objectDiagram=new Tu(this.main,this.$tabs.find(".jo_objectdiagram")),this.$headings.find(".jo_objectDiagramTabHeading").on("click",(function(){o.onObjectDiagramEnabled()})));var o=this,a="100%";n.find(".jo_whole-window").on("click",(function(){o.isWholePage=!o.isWholePage;var e=jQuery(".jo_whole-window");o.isWholePage?(jQuery("#code").css("display","none"),a=jQuery("#rightdiv").css("width"),jQuery("#rightdiv").css("width","100%"),e.removeClass("img_whole-window"),e.addClass("img_whole-window-back"),jQuery(".jo_control-container").append(jQuery("#controls")),e.attr("title","Auf normale Größe zurückführen"),jQuery(".jo_graphics").trigger("sizeChanged")):(jQuery("#code").css("display","flex"),jQuery("#rightdiv").css("width",a),e.removeClass("img_whole-window-back"),e.addClass("img_whole-window"),jQuery("#controls").insertAfter(jQuery("#view-mode")),e.attr("title","Auf Fenstergröße vergrößern"),jQuery(".jo_graphics").trigger("sizeChanged"))}))}var t,n,i;return t=e,(n=[{key:"adjustWidthToWorld",value:function(){var e=this.main.getInterpreter().worldHelper;if(null!=e&&this.isWholePage){var t=window.innerHeight-this.$headings.height()-6,n=window.innerWidth/t,i=e.width/e.height;if(i<=n){var r=i*t;this.$tabs.find(".jo_run").css("width",r+"px"),this.$tabs.find(".jo_run").css("height",t+"px")}else{var o=window.innerWidth/i;this.$tabs.find(".jo_run").css("width",window.innerWidth+"px"),this.$tabs.find(".jo_run").css("height",o+"px")}}}},{key:"initGUI",value:function(){aa(this.$rightDiv)}},{key:"isClassDiagramEnabled",value:function(){var e=this.$headings.find(".jo_classDiagramTabHeading");return 0!=e.length&&e.hasClass("jo_active")}},{key:"isObjectDiagramEnabled",value:function(){var e=this.$headings.find(".jo_objectDiagramTabHeading");return 0!=e.length&&e.hasClass("jo_active")}},{key:"updateObjectDiagramSettings",value:function(){this.isObjectDiagramEnabled&&this.objectDiagram.updateSettings()}},{key:"onObjectDiagramEnabled",value:function(){this.objectDiagram.updateSettings(),this.main.getInterpreter().state!=ic.paused&&this.main.getInterpreter().state!=ic.running||this.objectDiagram.updateDiagram()}}])&&xu(t.prototype,n),i&&xu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ou(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Cu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"initSliders",value:function(){var e=this,t=window.PointerEvent?"pointer":"mouse";jQuery("#slider1").on(t+"down",(function(n){var i=n.clientX;jQuery(document).on(t+"move.slider1",(function(t){var n=t.clientX-i;e.moveLeftPanel(n),i=t.clientX})),jQuery(document).on(t+"up.slider1",(function(){jQuery(document).off(t+"move.slider1"),jQuery(document).off(t+"up.slider1")}))})),jQuery("#slider2").on(t+"down",(function(n){var i=n.clientY;jQuery(document).on(t+"move.slider2",(function(t){var n=t.clientY-i;e.moveBottomDiv(n),i=t.clientY})),jQuery(document).on(t+"up.slider2",(function(){jQuery(document).off(t+"move.slider2"),jQuery(document).off(t+"up.slider2")}))})),jQuery("#slider3").on(t+"down",(function(n){var i=n.clientX;kl.preventFading=!0,jQuery(document).on(t+"move.slider3",(function(t){var n=t.clientX-i;e.moveRightDiv(n),i=t.clientX,t.stopPropagation()})),jQuery(document).on(t+"up.slider3",(function(){jQuery(document).off(t+"move.slider3"),jQuery(document).off(t+"up.slider3"),kl.preventFading=!1}))}));var n=jQuery('<div class="jo_sliderknob img_knob jo_button jo_active" style="left: -8px" draggable="false"></div>');jQuery("#slider2").append(n),n.on(t+"down",(function(n){var i=n.clientY,r=n.clientX;n.stopPropagation(),kl.preventFading=!0,jQuery(document).on(t+"move.knobleft",(function(t){var n=t.clientY-i,o=t.clientX-r;t.stopPropagation(),e.moveLeftPanel(o),e.moveBottomDiv(n),r+=o,i+=n})),jQuery(document).on(t+"up.knobleft",(function(){jQuery(document).off(t+"move.knobleft"),jQuery(document).off(t+"up.knobleft"),kl.preventFading=!1}))}));var i=jQuery('<div class="jo_sliderknob img_knob jo_button jo_active" style="right: -8px" draggable="false"></div>');jQuery("#slider2").append(i),i.on(t+"down",(function(n){var i=n.clientY,r=n.clientX;n.stopPropagation(),kl.preventFading=!0,jQuery(document).on(t+"move.knobright",(function(t){var n=t.clientY-i,o=t.clientX-r;t.stopPropagation(),e.moveRightDiv(o),e.moveBottomDiv(n),r+=o,i+=n})),jQuery(document).on(t+"up.knobright",(function(){jQuery(document).off(t+"move.knobright"),jQuery(document).off(t+"up.knobright"),kl.preventFading=!1}))}))}},{key:"moveRightDiv",value:function(e){var t=jQuery("#editor>.monaco-editor"),n=jQuery("#rightdiv"),i=Number.parseInt(n.css("width").replace("px",""));n.css("width",i-e+"px");var r=Number.parseInt(t.css("width").replace("px",""));t.css("width",r+e+"px"),this.main.getMonacoEditor().layout(),null!=this.main.bottomDiv.homeworkManager.diffEditor&&this.main.bottomDiv.homeworkManager.diffEditor.layout(),jQuery(".jo_graphics").trigger("sizeChanged"),i+=e}},{key:"moveBottomDiv",value:function(e){var t=jQuery("#editor>.monaco-editor"),n=jQuery("#bottomdiv-outer"),i=Number.parseInt(n.css("height").replace("px",""));n.css("height",i-e+"px");var r=Number.parseInt(t.css("height").replace("px",""));t.css("height",r+e+"px"),this.main.getMonacoEditor().layout(),null!=this.main.bottomDiv.homeworkManager.diffEditor&&this.main.bottomDiv.homeworkManager.diffEditor.layout()}},{key:"moveLeftPanel",value:function(e){var t=jQuery("#leftpanel"),n=jQuery("#editor>.monaco-editor"),i=Number.parseInt(t.css("width").replace("px",""));t.css("width",i+e+"px");var r=Number.parseInt(n.css("width").replace("px",""));n.css("width",r-e+"px"),this.main.getMonacoEditor().layout(),null!=this.main.bottomDiv.homeworkManager.diffEditor&&this.main.bottomDiv.homeworkManager.diffEditor.layout()}}])&&Ou(t.prototype,n),i&&Ou(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Au(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Eu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Du(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Iu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.classData=n}var t,n,i;return t=e,(n=[{key:"removePanels",value:function(){this.classPanel.remove(),this.studentPanel.remove()}},{key:"initGUI",value:function(){this.initStudentPanel(),this.initClassPanel(),this.renderClasses(this.classData)}},{key:"initStudentPanel",value:function(){var e=this,t=this;this.studentPanel=new za(this.main.projectExplorer.accordion,"Schüler/innen","2",null,"","student",!1,!1,"student",!1,[]),this.studentPanel.selectCallback=function(n){t.main.networkManager.sendUpdates((function(){Wo("getWorkspaces",{ws_userId:n.id,userId:e.main.user.id,language:0},(function(i){1==i.success&&(t.main.workspacesOwnerId==t.main.user.id&&(t.ownWorkspaces=t.main.workspaceList.slice(),t.currentOwnWorkspace=t.main.currentWorkspace),t.main.restoreWorkspaces(i.workspaces,!1),t.main.workspacesOwnerId=n.id,t.main.projectExplorer.setExplorerColor("rgba(255, 0, 0, 0.2"),t.main.projectExplorer.$homeAction.show(),qu.showHelper("homeButtonHelper",e.main),t.main.bottomDiv.showHomeworkTab(),t.main.bottomDiv.homeworkManager.attachToWorkspaces(t.main.workspaceList)),e.main.networkManager.updateFrequencyInSeconds=e.main.networkManager.teacherUpdateFrequencyInSeconds,e.main.networkManager.secondsTillNextUpdate=e.main.networkManager.teacherUpdateFrequencyInSeconds}))}))}}},{key:"restoreOwnWorkspaces",value:function(){var e=this.main;e.getMonacoEditor().updateOptions({readOnly:!0}),e.workspaceList=this.ownWorkspaces,e.currentWorkspace=this.currentOwnWorkspace,e.workspacesOwnerId=e.user.id,e.projectExplorer.setExplorerColor(null),e.projectExplorer.renderWorkspaces(e.workspaceList),null==e.currentWorkspace&&e.workspaceList.length>0&&(e.currentWorkspace=e.workspaceList[0]),null!=e.currentWorkspace&&e.projectExplorer.setWorkspaceActive(e.currentWorkspace,!0),this.studentPanel.select(null,!1)}},{key:"initClassPanel",value:function(){var e=this,t=this;this.classPanel=new za(this.main.projectExplorer.accordion,"Klassen","1",null,"","class",!1,!1,"class",!1,[]),this.classPanel.selectCallback=function(n){t.main.networkManager.sendUpdates((function(){var t=n;null!=t&&e.renderStudents(t.students)}))}}},{key:"renderStudents",value:function(e){this.studentPanel.clear(),e.sort((function(e,t){return e.familienname>t.familienname?-1:t.familienname>e.familienname?1:e.rufname>t.rufname?-1:t.rufname>e.rufname?1:0}));for(var t=0;t<e.length;t++){var n=e[t],i={name:n.familienname+", "+n.rufname,sortName:n.familienname+" "+n.rufname,externalElement:n,isFolder:!1,path:[]};this.studentPanel.addElement(i,!0)}}},{key:"renderClasses",value:function(e){this.studentPanel.clear(),e.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));var t,n=Au(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r={name:i.name,externalElement:i,isFolder:!1,path:[]};this.classPanel.addElement(r,!0)}}catch(e){n.e(e)}finally{n.f()}}}])&&Du(t.prototype,n),i&&Du(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(e){var t=this,n=this;e||(jQuery("#login").css("display","flex"),jQuery("#bitteWarten").css("display","none"),this.startAnimations());var i=jQuery("#login-spinner>img");jQuery("#login-username").focus(),jQuery("#login-username").on("keydown",(function(e){"Enter"==e.key&&jQuery("#login-password").focus()})),jQuery("#login-password").on("keydown",(function(e){"Enter"==e.key&&jQuery("#login-button").trigger("click")})),jQuery("#login-password").on("keydown",(function(e){"Tab"==e.key&&(e.preventDefault(),jQuery("#login-button").focus(),jQuery("#login-button").addClass("jo_active")),"Enter"==e.key&&jQuery("#login-button").trigger("click")})),jQuery("#login-button").on("keydown",(function(e){"Tab"==e.key?(e.preventDefault(),jQuery("#login-username").focus(),jQuery("#login-button").removeClass("jo_active")):jQuery("#login-button").trigger("click")})),jQuery("#jo_testuser-login-button").on("click",(function(){jQuery("#login-username").val("Testuser"),jQuery("#login-password").val(""),jQuery("#login-button").trigger("click")}));var r=!1;jQuery("#login-button").on("click",(function(){Qa.init(),i.show(),r||(r=!0,setTimeout((function(){r=!1}),1e3),t.sendLoginRequest(null))})),jQuery("#buttonLogout").on("click",(function(){n.main.user.is_testuser?n.showLoginForm():(t.main.interpreter.closeAllWebsockets(),jQuery("#bitteWartenText").html("Bitte warten, der letzte Bearbeitungsstand wird noch gespeichert ..."),jQuery("#bitteWarten").css("display","flex"),t.main.workspacesOwnerId!=t.main.user.id&&t.main.projectExplorer.onHomeButtonClicked(),t.main.networkManager.sendUpdates((function(){var e;t.main.rightDiv.classDiagram.clearAfterLogout(),Wo("logout",{currentWorkspaceId:null===(e=t.main.currentWorkspace)||void 0===e?void 0:e.id},(function(){n.showLoginForm()}))})),t.main.networkManager.notifierClient.disconnect())}))}},{key:"sendLoginRequest",value:function(e){var t=this,n=this,i="login",r={username:jQuery("#login-username").val(),password:jQuery("#login-password").val(),language:0};null!=e&&(i="ticketLogin",r={ticket:e,language:0}),Wo(i,r,(function(e){if(e.success){jQuery("#login").hide(),jQuery("#main").css("visibility","visible"),jQuery("#bitteWartenText").html("Bitte warten ..."),jQuery("#bitteWarten").css("display","flex");var i=e.user;i.is_testuser=e.isTestuser,null!=i.settings&&null!=i.settings.helperHistory||(i.settings={helperHistory:{consoleHelperDone:!1,newFileHelperDone:!1,newWorkspaceHelperDone:!1,speedControlHelperDone:!1,homeButtonHelperDone:!1,stepButtonHelperDone:!1,repositoryButtonDone:!1,folderButtonDone:!1},viewModes:null,classDiagram:null}),n.main.user=i,t.main.waitForGUICallback=function(){var r,o,a,s;n.main.mainMenu.initGUI(i,""),jQuery("#bitteWarten").hide(),jQuery("#login-spinner>img").hide(),jQuery("#menupanel-username").html(Yo(i.rufname)+" "+Yo(i.familienname)),new Ys(n.main).init(),i.is_teacher&&n.main.initTeacherExplorer(e.classdata),n.main.workspacesOwnerId=i.id,n.main.restoreWorkspaces(e.workspaces,!0),n.main.networkManager.initializeTimer(),n.main.projectExplorer.fileListPanel.setFixed(!i.is_teacher),n.main.projectExplorer.workspaceListPanel.setFixed(!i.is_teacher),null===(o=null===(r=n.main.rightDiv)||void 0===r?void 0:r.classDiagram)||void 0===o||o.clear(),null!=i.settings.classDiagram&&(null===(s=null===(a=n.main.rightDiv)||void 0===a?void 0:a.classDiagram)||void 0===s||s.deserialize(i.settings.classDiagram)),n.main.viewModeController.initViewMode(),n.main.bottomDiv.hideHomeworkTab(),!t.main.user.settings.helperHistory.folderButtonDone&&n.main.projectExplorer.workspaceListPanel.elements.length>5&&qu.showHelper("folderButton",t.main,jQuery(".img_add-folder-dark")),n.main.networkManager.initializeNotifierClient()},0==t.main.startupComplete&&(t.main.waitForGUICallback(),t.main.waitForGUICallback=null)}else jQuery("#login-message").html("Fehler: Benutzername und/oder Passwort ist falsch."),jQuery("#login-spinner>img").hide()}),(function(e){jQuery("#login-message").html("Login gescheitert: "+e),jQuery("#login-spinner>img").hide()}))}},{key:"loginWithTicket",value:function(e){jQuery("#login").hide(),jQuery("#main").css("visibility","visible"),jQuery("#bitteWartenText").html("Bitte warten ..."),jQuery("#bitteWarten").css("display","flex"),this.sendLoginRequest(e)}},{key:"showLoginForm",value:function(){var e,t;jQuery("#login").show(),jQuery("#main").css("visibility","hidden"),jQuery("#bitteWarten").css("display","none"),jQuery("#login-message").empty(),this.main.interpreter.setState(ic.not_initialized),this.main.getMonacoEditor().setModel(monaco.editor.createModel("","myJava")),this.main.projectExplorer.fileListPanel.clear(),this.main.projectExplorer.fileListPanel.setCaption(""),this.main.projectExplorer.workspaceListPanel.clear(),null===(t=null===(e=this.main.bottomDiv)||void 0===e?void 0:e.console)||void 0===t||t.clear(),this.main.interpreter.printManager.clear(),this.main.user.is_teacher&&(this.main.teacherExplorer.removePanels(),this.main.teacherExplorer=null),this.main.currentWorkspace=null,this.main.user=null}},{key:"startAnimations",value:function(){}}])&&Fu(t.prototype,n),i&&Fu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ru=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$buttonsContainer=t,this.main=n,this.$buttonMap={},this.highContrast=!1,this.editorHasFullWidth=!1,this.$buttonEditorFullscreen=jQuery('<div title="Editor in voller Breite" class="img_whole-window jo_button jo_active" style="padding: 1px; margin-right: 8px"></div>'),this.$buttonPresentationMode=jQuery('<div title="Präsentation (Beamer)" class="img_presentation-mode jo_button jo_active" syle="padding: 1px"></div>'),this.$buttonMonitorMode=jQuery('<div title="Monitor" class="img_monitor-mode jo_button jo_active" style="margin-left: 5px; padding: 1px"></div>'),t.append(this.$buttonEditorFullscreen,this.$buttonPresentationMode,this.$buttonMonitorMode),this.$buttonMap={presentation:this.$buttonPresentationMode,monitor:this.$buttonMonitorMode};var r=this.main.actionManager;r.registerAction("editor.fullwidth",[],(function(){i.toggleEditorFullwidth()}),"Editor auf die volle Breite erweitern",this.$buttonEditorFullscreen),r.registerAction("viewmode.presentation",[],(function(){i.setMode("presentation")}),"Präsentationsansicht",this.$buttonPresentationMode),r.registerAction("viewmode.monitor",[],(function(){i.setMode("monitor")}),"Monitoransicht",this.$buttonMonitorMode)}var t,n,i;return t=e,(n=[{key:"toggleEditorFullwidth",value:function(){var e=this;this.editorHasFullWidth?(this.$buttonEditorFullscreen.removeClass("img_whole-window-back"),this.$buttonEditorFullscreen.addClass("img_whole-window"),this.$buttonEditorFullscreen.attr("title","Editor in voller Breite"),jQuery("#rightdiv").css("width",this.rightDivWidth+"px"),jQuery("#editor>.monaco-editor").css("width",this.editorWidth+"px"),jQuery("#rightdiv").show(600),jQuery("#leftpanel").show(600),jQuery("#controls").show()):(this.$buttonEditorFullscreen.removeClass("img_whole-window"),this.$buttonEditorFullscreen.addClass("img_whole-window-back"),this.$buttonEditorFullscreen.attr("title","Editor in normaler Breite"),this.rightDivWidth=Number.parseInt(jQuery("#rightdiv").css("width").replace("px","")),this.editorWidth=Number.parseInt(jQuery("#editor>.monaco-editor").css("width").replace("px","")),jQuery("#rightdiv").hide(600),jQuery("#leftpanel").hide(600),jQuery("#controls").hide(),this.main.getInterpreter().stop()),setTimeout((function(){e.main.getMonacoEditor().layout()}),800),this.editorHasFullWidth=!this.editorHasFullWidth}},{key:"setMode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="presentation"==e?"monitor":"presentation";this.$buttonMap[e].addClass("jo_pressed"),this.$buttonMap[n].removeClass("jo_pressed");var i=this.main.user.settings,r=i.viewModes,o=r[e];if(r.viewModeChosen=e,this.main.themeManager.switchTheme(o.theme),this.main.editor.setFontSize(o.fontSize),this.highContrast!=o.highContrast){var a=this.main.getMonacoEditor();a.getAction("editor.action.toggleHighContrast").run(),this.highContrast=!this.highContrast}t&&this.saveSettings()}},{key:"saveFontSize",value:function(e){this.getChosenViewMode().fontSize=e,this.saveSettings()}},{key:"setTheme",value:function(e){var t=this.getChosenViewMode();t.theme=e,this.main.themeManager.switchTheme(t.theme),this.saveSettings()}},{key:"toggleHighContrast",value:function(){var e=this.getChosenViewMode();e.highContrast=!e.highContrast,this.main.getMonacoEditor().getAction("editor.action.toggleHighContrast").run(),this.saveSettings()}},{key:"getChosenViewMode",value:function(){var e=this.main.user.settings.viewModes;return e[e.viewModeChosen]}},{key:"saveSettings",value:function(){this.main.userDataDirty=!0}},{key:"initViewMode",value:function(){var e=this.main.user.settings;null==e.viewModes&&(e.viewModes={monitor:null,presentation:null,viewModeChosen:"monitor"}),null==e.viewModes.monitor&&(e.viewModes.monitor={fontSize:14,highContrast:!1,theme:"dark"},e.viewModes.presentation={fontSize:18,highContrast:!1,theme:"light"},this.saveSettings()),this.setMode(e.viewModes.viewModeChosen,!1)}}])&&zu(t.prototype,n),i&&zu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Lu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.semicolonPositions=[]}var t,n,i;return t=e,(n=[{key:"startRegistering",value:function(){this.semicolonPositions.forEach((function(e){return e.isThereAgain=!1})),this.time=(new Date).getTime()}},{key:"register",value:function(e,t){var n=this.semicolonPositions.find((function(t){return t.position.line==e.line&&t.position.column==e.column}));n?n.isThereAgain=!0:this.semicolonPositions.push({position:e,firstSeenMs:this.time,isThereAgain:!0,module:t})}},{key:"healSemicolons",value:function(){var e=this,t=(new Date).getTime();this.semicolonPositions=this.semicolonPositions.filter((function(e){return e.isThereAgain}));var n=this.main.getCurrentlyEditedModule(),i=this.main.getMonacoEditor().getPosition().lineNumber;this.semicolonPositions.filter((function(e){return t-e.firstSeenMs>2e3})).forEach((function(t){var r=null!=t.module.file.id&&t.module.file.id==n.file.id,o=[{range:new monaco.Range(t.position.line,t.position.column,t.position.line,t.position.column),text:";",forceMoveMarkers:!0}];if(r&&Math.abs(i-t.position.line)>1){var a=e.main.getMonacoEditor(),s=a.getSelection();a.executeEdits("Semicolon-Angel",o),a.setSelection(s),e.semicolonPositions.splice(e.semicolonPositions.indexOf(t),1)}}))}}])&&Bu(t.prototype,n),i&&Bu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Gu=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t;var i=this;history.pushState("PreventLeavingSite",""),window.addEventListener("popstate",(function(e){"PreventLeavingSite"==e.state?(history.pushState("PreventLeavingSite",""),i.main.editor.pushHistoryState(!1,i.main.editor.getPositionForHistory())):null==n.oneTimeBackButtonListener&&n.backButtonListener(e),null!=n.oneTimeBackButtonListener&&(n.oneTimeBackButtonListener(),n.oneTimeBackButtonListener=null)}))}var t,n,i;return t=e,(n=[{key:"registerBackButtonListener",value:function(e){this.backButtonListener=e}},{key:"registerOneTimeBackButtonListener",value:function(e){this.oneTimeBackButtonListener=e,history.pushState({},"")}}])&&Wu(t.prototype,n),i&&Wu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Hu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Vu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"start",value:function(e,t,n){var i,r=!1,o=Nu(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.isFolder&&a.moduleStore.getModules(!1).length>0){console.log("Folder "+a.path+"/"+a.name+" contains files. -> Make new folder and transforming existing one to workspace.");var s=new ka(a.name,n,a.owner_id);s.isFolder=!0,s.path=a.path,e.push(s),t.sendCreateWorkspace(s,s.owner_id,(function(e){null==e||""==e?console.log("Successfully created new Folder."):console.log("Error creating folder: "+e)})),a.isFolder=!1,a.name+=" (ws)",a.saved=!1,r=!0}}}catch(e){o.e(e)}finally{o.f()}var l,u=e.filter((function(e){return e.isFolder})),c=Nu(u);try{for(c.s();!(l=c.n()).done;){var d,f=l.value,h=[],p=Nu(u);try{for(p.s();!(d=p.n()).done;){var y=d.value;y!=f&&y.path==f.path&&y.name==f.name&&h.push(y)}}catch(e){p.e(e)}finally{p.f()}if(h.length>0){console.log(h.length+1+" folders with name "+f.path+"/"+f.name+"=> renaming them with suffixes (1), (2), ...");for(var v=0;v<h.length;v++)h[v].name+=" ("+(v+1)+")",h[v].saved=!1;r=!0}}}catch(e){c.e(e)}finally{c.f()}var m,g=[],b=Nu(u);try{for(b.s();!(m=b.n()).done;){var w=m.value,k=w.path;""==k||k.endsWith("/")||(k+="/"),k+=w.name,g.push(k)}}catch(e){b.e(e)}finally{b.f()}var S,P=Nu(e);try{for(P.s();!(S=P.n()).done;){var j=S.value;!j.isFolder&&""!=j.path&&null!=j.path&&g.indexOf(j.path)<0&&(console.log("Found workspace ("+j.path+"/"+j.name+") with path not corresponding to any folder => Set path = ''."),j.path="",j.saved=!1,r=!0)}}catch(e){P.e(e)}finally{P.f()}r&&t.sendUpdates((function(){}),!0)}}])&&Hu(t.prototype,n),i&&Hu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ku(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Uu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Zu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.repositoryOn=!0,this.workspaceList=[],this.windowStateManager=new Gu(this),this.startupComplete=2,this.programIsExecutable=!1,this.version=0,this.userDataDirty=!1}var t,n,i;return t=e,(n=[{key:"isEmbedded",value:function(){return!1}},{key:"getInterpreter",value:function(){return this.interpreter}},{key:"getCurrentWorkspace",value:function(){return this.currentWorkspace}},{key:"getDebugger",value:function(){return this.debugger}},{key:"getMonacoEditor",value:function(){return this.editor.editor}},{key:"getRightDiv",value:function(){return this.rightDiv}},{key:"getBottomDiv",value:function(){return this.bottomDiv}},{key:"getCurrentlyEditedModule",value:function(){return this.projectExplorer.getCurrentlyEditedModule()}},{key:"getActionManager",value:function(){return this.actionManager}},{key:"showProgramPointerPosition",value:function(e,t){this.projectExplorer.showProgramPointerPosition(e,t)}},{key:"hideProgramPointerPosition",value:function(){this.projectExplorer.hideProgramPointerPosition()}},{key:"getCompiler",value:function(){return this.compiler}},{key:"setModuleActive",value:function(e){this.projectExplorer.setModuleActive(e)}},{key:"getSemicolonAngel",value:function(){return this.semicolonAngel}},{key:"jumpToDeclaration",value:function(e,t){this.projectExplorer.setModuleActive(e),this.editor.editor.revealLineInCenter(t.position.line),this.editor.editor.setPosition({column:t.position.column,lineNumber:t.position.line})}},{key:"initGUI",value:function(){matchMedia("(pointer:fine)").matches&&(ua=!0),this.login=new _u(this);var e=window.location.href.indexOf("#");if(e>0){var t=window.location.href.substr(e+1);window.history.replaceState({},"Online-IDE",window.location.href.substr(0,e)),this.login.initGUI(!0),this.login.loginWithTicket(t)}else this.login.initGUI(!1);this.actionManager=new qa(null,this),this.actionManager.init(),this.networkManager=new Qo(this,jQuery("#bottomdiv-outer .jo_updateTimerDiv")),new Cu(this).initSliders(),this.mainMenu=new il(this),this.projectExplorer=new bl(this,jQuery("#leftpanel>.jo_projectexplorer")),this.projectExplorer.initGUI(),this.bottomDiv=new gs(this,jQuery("#bottomdiv-outer>.jo_bottomdiv-inner"),jQuery("body")),this.rightDiv=new Mu(this,jQuery("#rightdiv-inner")),this.rightDiv.initGUI(),this.debugger=new $a(this,jQuery("#leftpanel>.jo_debugger"),jQuery("#leftpanel>.jo_projectexplorer")),this.interpreter=new uc(this,this.debugger,new sl(jQuery("#controls"),jQuery("#editor")),jQuery("#rightdiv-inner .jo_run")),this.interpreter.initGUI(),this.initTypes(),this.checkStartupComplete(),this.correctPIXITransform(),PIXI.utils.skipHello(),this.themeManager=new pn,this.viewModeController=new Ru(jQuery("#view-mode"),this),this.semicolonAngel=new Lu(this)}},{key:"correctPIXITransform",value:function(){PIXI.Transform.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}}},{key:"initEditor",value:function(){this.editor=new Us(this,!0,!1),(new cn).init(),this.editor.initGUI(jQuery("#editor"));var e=this;jQuery(window).on("resize",(function(t){jQuery("#bottomdiv-outer").css("height","150px"),jQuery("#editor").css("height",window.innerHeight-150-30-2+"px"),e.editor.editor.layout(),jQuery("#editor").css("height","")})),jQuery(window).trigger("resize")}},{key:"initTeacherExplorer",value:function(e){this.teacherExplorer=new Iu(this,e),this.teacherExplorer.initGUI()}},{key:"checkStartupComplete",value:function(){this.startupComplete--,0==this.startupComplete&&this.start()}},{key:"initTypes",value:function(){Rt.init(),Bt.init(),Lt.init(),Wt.init(),Gt.init(),$t.init(),Ht.init(),Qt.init(),Ut.init(),Zt.init(),Xt.init(),qt.init()}},{key:"start",value:function(){null!=this.waitForGUICallback&&this.waitForGUICallback();var e=this;setTimeout((function(){e.getMonacoEditor().layout()}),200),this.compiler=new ai(this),this.startTimer(),$(window).on("unload",(function(){navigator.sendBeacon&&null!=e.user&&(e.networkManager.sendUpdates(null,!1,!0),e.networkManager.sendUpdateUserSettings((function(){})),e.interpreter.closeAllWebsockets())}))}},{key:"startTimer",value:function(){null!=this.timerHandle&&clearInterval(this.timerHandle);var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"compileIfDirty",value:function(){var e,t;if(null!=this.currentWorkspace&&this.currentWorkspace.moduleStore.isDirty()&&this.compiler.compilerStatus!=ei.compiling&&this.interpreter.state!=ic.running&&this.interpreter.state!=ic.paused)try{this.compiler.compile(this.currentWorkspace.moduleStore);var n=null===(t=null===(e=this.bottomDiv)||void 0===e?void 0:e.errorManager)||void 0===t?void 0:t.showErrors(this.currentWorkspace);this.projectExplorer.renderErrorCount(this.currentWorkspace,n),this.editor.onDidChangeCursorPosition(null),this.printProgram(),this.projectExplorer&&this.version++;var i=null!=this.interpreter.getStartableModule(this.currentWorkspace.moduleStore);i&&this.interpreter.state==ic.not_initialized&&(this.copyExecutableModuleStoreToInterpreter(),this.interpreter.setState(ic.done)),i||this.interpreter.state!=ic.done&&this.interpreter.state!=ic.error||this.interpreter.setState(ic.not_initialized),this.drawClassDiagrams(!this.rightDiv.isClassDiagramEnabled())}catch(e){console.error(e),this.compiler.compilerStatus=ei.error}}},{key:"printProgram",value:function(){this.bottomDiv.printModuleToBottomDiv(this.currentWorkspace,this.projectExplorer.getCurrentlyEditedModule())}},{key:"drawClassDiagrams",value:function(e){var t=this;clearTimeout(this.debounceDiagramDrawing),this.debounceDiagramDrawing=setTimeout((function(){var n,i;null===(i=null===(n=t.rightDiv)||void 0===n?void 0:n.classDiagram)||void 0===i||i.drawDiagram(t.currentWorkspace,e)}),500)}},{key:"copyExecutableModuleStoreToInterpreter",value:function(){var e=this.currentWorkspace.moduleStore.copy();this.interpreter.moduleStore=e,this.interpreter.moduleStoreVersion=this.version,this.interpreter.state==ic.not_initialized&&this.programIsExecutable&&this.interpreter.setState(ic.done)}},{key:"removeWorkspace",value:function(e){this.workspaceList.splice(this.workspaceList.indexOf(e),1)}},{key:"restoreWorkspaces",value:function(e,t){this.workspaceList=[],this.currentWorkspace=null,this.getMonacoEditor().updateOptions({readOnly:!0});var n,i=Ku(e.workspaces);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=ka.restoreFromData(r,this);this.workspaceList.push(o),r.id==this.user.currentWorkspace_id&&(this.currentWorkspace=o)}}catch(e){i.e(e)}finally{i.f()}t&&(new Vu).start(this.workspaceList,this.networkManager,this),this.projectExplorer.renderWorkspaces(this.workspaceList),null==this.currentWorkspace&&this.workspaceList.length>0&&(this.currentWorkspace=this.workspaceList[0]),null!=this.currentWorkspace?this.projectExplorer.setWorkspaceActive(this.currentWorkspace,!0):this.projectExplorer.setModuleActive(null),0==this.workspaceList.length&&qu.showHelper("newWorkspaceHelper",this,this.projectExplorer.workspaceListPanel.$captionElement)}},{key:"createNewWorkspace",value:function(e,t){return new ka(e,this,t)}}])&&Uu(t.prototype,n),i&&Uu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var qu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"openHelper",value:function(t,n,i){var r=jQuery(".jo_arrow_box");r.removeClass(["jo_arrow_box_left","jo_arrow_box_right","jo_arrow_box_top","jo_arrow_box_bottom"]),r.addClass("jo_arrow_box_"+i),r.css({left:"",right:"",top:"",bottom:""});var o=n.offset(),a=jQuery("body");switch(i){case"bottom":r.css({left:o.left+n.width()/2-34,bottom:a.height()-o.top+34});break;case"top":r.css({left:o.left+n.width()/2-34,top:o.top+n.height()+26});break;case"left":r.css({left:o.left+n.width()+34,top:o.top+n.height()/2-34});break;case"right":r.css({right:a.width()-o.left,top:o.top+n.height()/2-34})}r.find("span").html(t);var s=r.find(".jo_button");s.on("click",(function(t){t.stopPropagation(),s.off("click"),e.close()})),r.fadeIn(800)}},{key:"close",value:function(){jQuery(".jo_arrow_box").fadeOut(800)}},{key:"showHelper",value:function(t,n,i){var r;if(n instanceof Zu){var o=(r=n).user.settings.helperHistory;"speedControlHelper"==t&&o.speedControlHelperDone&&(t="stepButtonHelper");var a=t+"Done";if(null!=o&&(null==o[a]||!o[a])){o[a]=!0,r.networkManager.sendUpdateUserSettings((function(){}));var s="",l="left";switch(t){case"folderButton":s='Mit diesem Button können Sie in der Liste der Workspaces Ordner anlegen. \n                    <ul>\n                    <li>Bestehende Workspaces lassen sich mit der Maus in Ordner ziehen.</li>\n                    <li>Wollen Sie einen Workspace in die oberste Ordnerebene bringen, so ziehen Sie ihn einfach auf den "Workspaces"-Balken.</li>\n                    <li>Über das Kontextmenü der Ordner lassen sich Workspaces und Unterordner anlegen.</li>\n                    </ul>',l="top";break;case"repositoryButton":s='Wenn der aktuelle Workspace mit einem Repository verknüft ist, erscheint hier der "Synchronisieren-Button". Ein Klick darauf öffnet einen Dialog, in dem die Dateien des Workspace mit denen des Repositorys abgeglichen werden können.',l="top";break;case"speedControlHelper":s="Mit dem Geschwindigkeitsregler können  \n                            Sie einstellen, wie schnell das Programm abläuft. \n                            Bei Geschwindigkeiten bis 10 Steps/s wird \n                            während des Programmablaufs der Programzeiger gezeigt\n                            und die Anzeige der Variablen auf der linken \n                            Seite stets aktualisiert.",l="top",i=r.interpreter.controlButtons.speedControl.$grip;break;case"newFileHelper":s="Es gibt noch keine Programmdatei im Workspace. <br> Nutzen Sie den Button \n                        <span class='img_add-file-dark jo_inline-image'></span> um eine Programmdatei anzulegen.\n                        ",l="left";break;case"newWorkspaceHelper":s="Es gibt noch keinen Workspace. <br> Nutzen Sie den Button\n                        <span class='img_add-workspace-dark jo_inline-image'></span> um einen Workspace anzulegen.\n                        ",l="left";break;case"homeButtonHelper":s="Mit dem Home-Button <span class='img_home-dark jo_inline-image'></span> können Sie wieder zu Ihren eigenen Workspaces wechseln.",l="top",i=jQuery(".img_home-dark");break;case"stepButtonHelper":s="Mit den Buttons \"Step over\"\n                        (<span class='img_step-over-dark jo_inline-image'></span>, Taste F8), \n                        \"Step into\" \n                        (<span class='img_step-into-dark jo_inline-image'></span>, Taste F7) und \n                        \"Step out\" \n                        (<span class='img_step-out-dark jo_inline-image'></span>, Taste F9)  \n                        können Sie das Programm schrittweise ausführen und sich nach jedem Schritt die Belegung der Variablen ansehen. <br>\n                        <ul><li><span class='img_step-over-dark jo_inline-image'></span> Step over führt den nächsten Schritt aus, insbesondere werden Methodenaufrufe in einem Schritt durchgeführt.</li>\n                        <li><span class='img_step-into-dark jo_inline-image'></span> Step into führt auch den nächsten Schritt aus, geht bei Methodenaufrufen aber in die Methode hinein und führt auch die Anweisungen innerhalb der Methode schrittweise aus.</li>\n                        <li><span class='img_step-out-dark jo_inline-image'></span> Befindet sich die Programmausführung innerhalb einer Methode, so bewirkt ein Klick auf Step out, dass der Rest der Methode ausgeführt wird und die Programmausführung erst nach der Aufrufstelle der Methode anhält.</li>\n                        </ul>\n                        ",l="top",i=r.interpreter.controlButtons.$buttonStepOver;break;case"consoleHelper":s="\n                        Hier können Sie Anweisungen oder Terme eingeben, die nach Bestätigung mit der Enter-Taste ausgeführt/ausgewertet werden. Das Ergebnis sehen Sie im Bereich über der Eingabezeile. <br>\n                        Falls das Programm gerade pausiert (z.B. bei Ausführung in Einzelschritten) können Sie auch auf die Variablen des aktuellen Sichtbarkeitsbereiches zugreifen.\n                    ",l="bottom",i=r.bottomDiv.console.$consoleTab.find(".jo_monaco-editor")}""!=s&&null!=i&&i.length>0&&e.openHelper(s,i,l)}}}}],(n=null)&&Xu(t.prototype,n),i&&Xu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ju(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ec(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=n,this.pressedKeys={},this.keyPressedCallbacks=[],this.keyUpCallbacks=[],this.keyDownCallbacks=[],this.registerListeners(t)}var t,n,i;return t=e,(n=[{key:"unregisterListeners",value:function(){this.element.off("keydown"),this.element.off("keyup"),this.element.off("keypressed")}},{key:"registerListeners",value:function(e){var t=this;this.element=e;var n=this;e.on("keydown",(function(e){var i=e.key;if(null==i)return!0;e.shiftKey&&(i="shift+"+i),e.ctrlKey&&(i="ctrl"+i),e.altKey&&(i="alt"+i),n.pressedKeys[i.toLowerCase()]=!0;var r,o=Yu(n.keyDownCallbacks);try{for(o.s();!(r=o.n()).done;)(0,r.value)(i)}catch(e){o.e(e)}finally{o.f()}return t.main.isEmbedded()&&t.main.getInterpreter().state==ic.running&&!t.main.getMonacoEditor().hasTextFocus()&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.key)>=0&&e.preventDefault(),!0})),e.on("keyup",(function(e){var t=e.key;if(null==t)return!0;if(void 0!==t){e.shiftKey&&(t="shift+"+t),e.ctrlKey&&(t="ctrl"+t),e.altKey&&(t="alt"+t),n.pressedKeys[t.toLowerCase()]=!1;var i,r=Yu(n.keyUpCallbacks);try{for(r.s();!(i=r.n()).done;)(0,i.value)(t)}catch(e){r.e(e)}finally{r.f()}return!0}})),e.on("keyup",(function(e){var t=e.key;e.shiftKey&&t.length>1&&(t="[shift]+"+t),e.ctrlKey&&t.length>1&&(t="[ctrl]+"+t),e.altKey&&t.length>1&&(t="[alt]+"+t);var i,r=Yu(n.keyPressedCallbacks);try{for(r.s();!(i=r.n()).done;)(0,i.value)(t)}catch(e){r.e(e)}finally{r.f()}return!0}))}},{key:"isPressed",value:function(e){return null==e?null:1==this.pressedKeys[e.toLowerCase()]}},{key:"unsubscribeAllListeners",value:function(){this.keyPressedCallbacks=[]}}])&&ec(t.prototype,n),i&&ec(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function nc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ic,rc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gamepads=[];var t=this;window.addEventListener("gamepadconnected",(function(e){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",e.gamepad.index,e.gamepad.id,e.gamepad.buttons.length,e.gamepad.axes.length),t.gamepads.indexOf(e.gamepad)<0&&t.gamepads.push(e.gamepad)})),window.addEventListener("gamepaddisconnected",(function(e){console.log("Gamepad disconnected from index %d: %s",e.gamepad.index,e.gamepad.id);var n=t.gamepads.indexOf(e.gamepad);n>=0&&t.gamepads.splice(n,1)}))}var t,n,i;return t=e,(n=[{key:"isGamepadButtonPressed",value:function(e,t){var n=navigator.getGamepads()[e];if(null==n)return!1;var i=n.buttons[t];return!!i&&i.pressed}},{key:"getGamepadAxisValue",value:function(e,t){var n=navigator.getGamepads()[e];return null==n?0:n.axes[t]}},{key:"isGamepadConnected",value:function(e){return null!=navigator.getGamepads()[e]}}])&&nc(t.prototype,n),i&&nc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oc(e){return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e[e.not_initialized=0]="not_initialized",e[e.running=1]="running",e[e.paused=2]="paused",e[e.error=3]="error",e[e.done=4]="done",e[e.waitingForInput=5]="waitingForInput",e[e.waitingForTimersToEnd=6]="waitingForTimersToEnd"}(ic||(ic={}));var uc=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.debugger_=n,this.controlButtons=i,this.moduleStoreVersion=-100,this.stepsPerSecond=2,this.maxStepsPerSecond=1e6,this.timerDelayMs=10,this.programStack=[],this.stack=[],this.stackframes=[],this.heap={},this.timerStopped=!0,this.timerExtern=!1,this.steps=0,this.timeNetto=0,this.timeWhenProgramStarted=0,this.stepOverNestingLevel=0,this.leaveLine=-1,this.additionalStepFinishedFlag=!1,this.isFirstStatement=!0,this.showProgrampointerUptoStepsPerSecond=15,this.webSocketsToCloseAfterProgramHalt=[],this.actions=["start","pause","stop","stepOver","stepInto","stepOut","restart"],this.buttonActiveMatrix={start:[!1,!1,!0,!0,!0,!1],pause:[!1,!0,!1,!1,!1,!1],stop:[!1,!0,!0,!1,!1,!0],stepOver:[!1,!1,!0,!0,!0,!1],stepInto:[!1,!1,!0,!0,!0,!1],stepOut:[!1,!1,!0,!1,!1,!1],restart:[!1,!0,!0,!0,!0,!0]},this.timerEvents=0,this.lastStepTime=0,this.lastTimeBetweenEvents=0,this.lastPrintedModule=null,this.stepFinished=!1,this.runningStates=[ic.paused,ic.running,ic.waitingForInput],this.printManager=new _o(r,this.main),this.inputManager=new Ro(r,this.main),t.isEmbedded()?this.keyboardTool=new tc(jQuery("html"),t):this.keyboardTool=new tc(jQuery(window),t),this.gamepadTool=new rc,this.debugger=n,i.setInterpreter(this),this.timeWhenProgramStarted=performance.now(),this.steps=0,this.timeNetto=0,this.timerEvents=0,this.timerDelayMs=7;var o=this;this.timerId=setInterval((function(){o.timerExtern||o.timerFunction(o.timerDelayMs,!1,.7)}),this.timerDelayMs);var a=JSON.stringify({command:5});setInterval((function(){o.webSocketsToCloseAfterProgramHalt.forEach((function(e){return e.send(a)}))}),3e4)}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){var e=this,t=this,n=this.main.getActionManager(),i=function(){t.stepOverNestingLevel=1e6,t.start()},r=function(){t.pause()};n.registerAction("interpreter.start",["F4"],(function(){n.isActive("interpreter.start")?i():r()}),"Programm starten",this.controlButtons.$buttonStart),n.registerAction("interpreter.pause",["F4"],(function(){n.isActive("interpreter.start")?i():r()}),"Pause",this.controlButtons.$buttonPause),n.registerAction("interpreter.stop",[],(function(){t.stop(!1),t.steps=0}),"Programm anhalten",this.controlButtons.$buttonStop),n.registerAction("interpreter.stepOver",["F6"],(function(){e.oneStep(!1)}),"Einzelschritt (Step over)",this.controlButtons.$buttonStepOver),n.registerAction("interpreter.stepInto",["F7"],(function(){e.oneStep(!0)}),"Einzelschritt (Step into)",this.controlButtons.$buttonStepInto),n.registerAction("interpreter.stepOut",[],(function(){e.stepOut()}),"Step out",this.controlButtons.$buttonStepOut),n.registerAction("interpreter.restart",[],(function(){t.stop(!0)}),"Neu starten",this.controlButtons.$buttonRestart),this.setState(ic.not_initialized)}},{key:"getStartableModule",value:function(e){var t,n=!1;if(null!=(t=this.main.getCurrentlyEditedModule())){var i=e.findModuleByFile(t.file);if(null!=i&&(n=!t.hasErrors()&&!i.isStartable,i.isStartable))return i}if(null!=this.mainModule&&n){var r=e.findModuleByFile(this.mainModule.file);if(null!=r&&r.isStartable)return r}if(n){var o,a=ac(e.getModules(!1));try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.isStartable)return s}}catch(e){a.e(e)}finally{a.f()}}return null}},{key:"init",value:function(){var e,t,n,i;this.timerStopped=!0,this.main.getCurrentlyEditedModule().getBreakpointPositionsFromEditor(),null===(t=null===(e=this.main.getBottomDiv())||void 0===e?void 0:e.console)||void 0===t||t.clearExceptions(),this.moduleStoreVersion!=this.main.version&&this.main.getCompiler().atLeastOneModuleIsStartable&&(this.main.copyExecutableModuleStoreToInterpreter(),this.heap={},null===(i=null===(n=this.main.getBottomDiv())||void 0===n?void 0:n.console)||void 0===i||i.detachValues());var r=this.getStartableModule(this.moduleStore);if(null!=r){this.mainModule=r,this.currentProgramPosition=0,this.programStack=[],this.stack=[],this.stackframes=[],this.currentStackframe=0,this.setState(ic.done),this.isFirstStatement=!0,this.stepOverNestingLevel=1e6,this.programStack.push({program:this.mainModule.mainProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Hauptprogramm",callbackAfterReturn:null,isCalledFromOutside:"Hauptprogramm"});var o,a=ac(this.moduleStore.getModules(!1));try{for(a.s();!(o=a.n()).done;){var s=o.value;this.initializeEnums(s),this.initializeClasses(s)}}catch(e){a.e(e)}finally{a.f()}this.popProgram()}else this.setState(ic.not_initialized)}},{key:"popProgram",value:function(){var e=this.programStack.pop();if(this.currentProgram=e.program,this.currentProgramPosition=e.programPosition,this.currentMethod=e.method,this.currentCallbackAfterReturn=e.callbackAfterReturn,this.currentIsCalledFromOutside=e.isCalledFromOutside,null!=e.stackElementsToPushBeforeFirstExecuting){this.stackframes.push(null==this.currentStackframe?0:this.currentStackframe),this.currentStackframe=this.stack.length;var t,n=ac(e.stackElementsToPushBeforeFirstExecuting);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.stack.push(i)}}catch(e){n.e(e)}finally{n.f()}e.stackElementsToPushBeforeFirstExecuting=null}}},{key:"initializeClasses",value:function(e){var t,n=ac(e.typeStore.typeList);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i instanceof J&&(i.staticClass.classObject=new E(i.staticClass),i.pushStaticInitializationPrograms(this.programStack)),i instanceof Fn){var r,o=i.staticClass.classObject.attributes,a=ac(i.enumInfoList);try{for(a.s();!(r=a.n()).done;){var s=r.value;o[s.ordinal].value=s.object}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"initializeEnums",value:function(e){var t,n=ac(e.typeStore.typeList);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i instanceof Fn){i.pushStaticInitializationPrograms(this.programStack);var o=[],a={module:i.module,labelManager:null,statements:[]},s=i.attributeInitializationProgram.statements.length>0;s&&this.programStack.push({program:a,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Attribut-Initialisierung der Klasse "+i.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung eines Enums"});var l,u=ac(i.enumInfoList);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.object=new In(i,c),o.push({type:i,value:c.object}),null!=c.constructorCallProgram&&this.programStack.push({program:c.constructorCallProgram,programPosition:0,textPosition:{line:1,column:1,length:0},method:"Konstruktor von "+i.identifier,callbackAfterReturn:null,isCalledFromOutside:"Initialisierung eines Enums"}),s&&a.statements.push({type:r.initializeEnumValue,position:c.position,enumClass:i,valueIdentifier:c.identifier})}}catch(e){u.e(e)}finally{u.f()}s&&a.statements.push({type:r.programEnd,position:{line:0,column:0,length:1}}),i.valueList={type:new fe(i),value:o}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"start",value:function(e){var t,n;null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.clearErrors(),this.callbackAfterExecution=e,this.isFirstStatement=!0,this.pauseUntil=null,this.state!=ic.error&&this.state!=ic.done||(this.init(),this.resetRuntime()),this.setState(ic.running),this.hideProgrampointerPosition(),this.timeWhenProgramStarted=performance.now(),this.timerStopped=!1,this.getTimerClass().startTimer()}},{key:"getTimerClass",value:function(){return this.main.getCurrentWorkspace().moduleStore.getModule("Base Module").typeStore.getType("Timer")}},{key:"timerFunction",value:function(e,t,n){var i=performance.now();if(!t){var o=1e3/this.stepsPerSecond;if(this.timerStopped||i-this.lastStepTime<o)return;this.lastStepTime=i}this.lastTimeBetweenEvents=i-this.lastStepTime;var a,s=t?Number.MAX_SAFE_INTEGER:this.stepsPerSecond*this.timerDelayMs/1e3;this.timerEvents++;for(var l=0;l<s&&!this.timerStopped&&null==a&&(performance.now()-i)/e<n&&null==(a=this.nextStep());){if(this.stepsPerSecond<=this.showProgrampointerUptoStepsPerSecond&&!t&&this.showProgramPointerAndVariables(),this.state!=ic.error&&this.state!=ic.done||(this.timerStopped=!0),this.stepOverNestingLevel<0&&!this.timerStopped){var u=this.currentProgram.statements[this.currentProgramPosition].position;null!=u&&u.line==this.leaveLine||(this.timerStopped=!0,this.setState(ic.paused),this.comesStatement(r.closeStackframe)&&null==(a=this.nextStep())&&this.comesStatement(r.programEnd)&&(a=this.nextStep()))}l++}null!=a&&this.throwException(a),this.timerStopped&&(this.state!=ic.paused&&this.state!=ic.waitingForInput||this.showProgramPointerAndVariables(),null!=this.callbackAfterExecution&&(this.callbackAfterExecution(),this.callbackAfterExecution=null));var c=performance.now()-i;this.timeNetto+=c}},{key:"throwException",value:function(e){var t,n,i,r=this;this.timerStopped=!0,this.setState(ic.error);var o=jQuery('<div class="jo_exception"></div>'),a=!0;if(this.main.isEmbedded()){var s=this.main.config;if(1!=s.withBottomPanel&&1!=s.withConsole){a=!1;var l="",u=this.currentProgram.statements[this.currentProgramPosition];if(null!=u){var c=null==u?void 0:u.position;l=" in Zeile "+c.line+", Spalte "+c.column,null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.showError(this.currentProgram.module,c)}alert("Fehler"+l+": "+e)}}if(a){o.append(jQuery("<span class='jo_error-caption'>Fehler:</span>&nbsp;"+e+"<br>")),this.pushCurrentProgram();for(var d=!0,f=function(e){var t=r.programStack[e],n=t.method instanceof T?t.method.identifier:t.method,i="<span class='jo_error-caption'>"+(d?"Ort":"aufgerufen von")+": </span>"+n;null!=t.textPosition&&(i+=" <span class='jo_runtimeErrorPosition'>(Z "+t.textPosition.line+", S "+t.textPosition.column+")</span>"),i+="<br>";var a=jQuery(i);if(null!=t.textPosition){var s=r;jQuery(a[2]).on("mousedown",(function(){var e,n;null===(n=null===(e=s.main.getBottomDiv())||void 0===e?void 0:e.console)||void 0===n||n.showError(t.program.module,t.textPosition)}))}if(o.append(a),d=!1,null!=t.isCalledFromOutside)return"break"},h=this.programStack.length-1;h>=0&&"break"!==f(h);h--);var p=null===(i=this.main.getBottomDiv())||void 0===i?void 0:i.console;null!=p&&(p.writeConsoleEntry(o,null,"rgba(255, 0, 0, 0.4"),p.showTab())}}},{key:"hideProgrampointerPosition",value:function(){this.state==ic.running&&this.stepsPerSecond>this.showProgrampointerUptoStepsPerSecond&&this.main.hideProgramPointerPosition()}},{key:"comesStatement",value:function(e){return null!=this.currentProgram&&!(this.currentProgramPosition>this.currentProgram.statements.length-1)&&this.currentProgram.statements[this.currentProgramPosition].type==e}},{key:"resetRuntime",value:function(){var e,t,n;this.printManager.clear(),null===(e=this.worldHelper)||void 0===e||e.destroyWorld(),null===(t=this.processingHelper)||void 0===t||t.destroyWorld(),null===(n=this.gngEreignisbehandlungHelper)||void 0===n||n.detachEvents(),this.gngEreignisbehandlungHelper=null}},{key:"stop",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inputManager.hide(),this.setState(ic.paused),this.timerStopped=!0,null!=this.worldHelper&&(this.worldHelper.spriteAnimations=[]),null===(e=this.gngEreignisbehandlungHelper)||void 0===e||e.detachEvents(),this.gngEreignisbehandlungHelper=null,this.main.hideProgramPointerPosition(),this.getTimerClass().stopTimer(),null!=this.worldHelper&&this.worldHelper.cacheAsBitmap(),this.heap={},this.programStack=[],this.stack=[],this.stackframes=[],setTimeout((function(){t.setState(ic.done),t.main.hideProgramPointerPosition(),n&&t.start()}),500)}},{key:"pause",value:function(){this.setState(ic.paused),this.showProgramPointerAndVariables(),this.timerStopped=!0}},{key:"showProgramPointerAndVariables",value:function(){if(null!=this.currentProgram){var e=this.currentProgram.statements[this.currentProgramPosition];if(null!=e){var t=e.position;null!=t&&(this.main.showProgramPointerPosition(this.currentProgram.module.file,t),this.debugger.showData(this.currentProgram,t,this.stack,this.currentStackframe,this.heap),null!=this.main.getBottomDiv().programPrinter&&(this.currentProgram.module!=this.lastPrintedModule&&(this.main.getBottomDiv().printModuleToBottomDiv(null,this.currentProgram.module),this.lastPrintedModule=this.currentProgram.module),this.main.getBottomDiv().programPrinter.showNode(e)))}}}},{key:"stepOut",value:function(){this.stepOverNestingLevel=0,this.start()}},{key:"oneStep",value:function(e){var t,n;if(null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.clearErrors(),this.isFirstStatement=!0,this.state!=ic.paused){if(this.init(),this.state==ic.not_initialized)return;this.resetRuntime(),this.showProgramPointerAndVariables(),this.setState(ic.paused),"Hauptprogramm"==this.currentMethod&&this.return}this.stepOverNestingLevel=1e4;var i=this.stepOverNestingLevel,r=this.currentProgram.statements[this.currentProgramPosition].position,o=this.nextStep();null==o?!e&&this.stepOverNestingLevel>i?(this.stepOverNestingLevel=0,this.leaveLine=null!=r?r.line:-1,this.start()):this.state==ic.done?this.main.hideProgramPointerPosition():(this.showProgramPointerAndVariables(),this.state!=ic.waitingForInput&&this.setState(ic.paused)):this.throwException(o)}},{key:"nextStep",value:function(){var e,t;for(this.stepFinished=!1;!this.stepFinished&&!this.additionalStepFinishedFlag&&null==t;){if(this.currentProgram,this.currentProgramPosition>this.currentProgram.statements.length-1){this.setState(ic.done);break}null!=(e=this.currentProgram.statements[this.currentProgramPosition]).stepFinished&&(this.stepFinished=e.stepFinished),t=this.executeNode(e)}return this.additionalStepFinishedFlag=!1,this.steps++,t}},{key:"executeNode",value:function(e){var t,n,i=this;if(null!=e.breakpoint&&!this.isFirstStatement)return this.additionalStepFinishedFlag=!0,void this.pause();this.isFirstStatement=!1;var o,a=this.stack.length-1,s=this.currentStackframe,l=this.stack;switch(e.type){case r.castValue:var u=null==e.stackPosRelative?0:e.stackPosRelative;o=l[a+u],l[a+u]=o.type.castTo(o,e.newType);break;case r.checkCast:if(null==(o=l[a]).value)break;var c=o.value;if(e.newType instanceof J)if("object"==oc(c)){if(!c.class.hasAncestorOrIs(e.newType))return"Das Objekt der Klasse "+c.class.identifier+" kann nicht nach "+e.newType.identifier+" gecastet werden."}else{if("number"==typeof c&&["Integer","Double","Float"].indexOf(e.newType.identifier)<0)return"Eine Zahl kann nicht nach "+e.newType.identifier+" gecastet werden.";if("string"==typeof c&&["String","Character"].indexOf(e.newType.identifier)<0)return"Eine Zeichenkette kann nicht nach "+e.newType.identifier+" gecastet werden.";if("boolean"==typeof c&&"Boolean"!=e.newType.identifier)return"Ein boolescher Wert kann nicht nach "+e.newType.identifier+" gecastet werden."}else if(e.newType instanceof te&&!c.class.implementsInterface(e.newType))return"Das Objekt der Klasse "+c.class.identifier+" implementiert nicht das Interface "+e.newType.identifier+".";break;case r.localVariableDeclaration:var d=e.variable,f=d.type;o={type:f,value:null},f instanceof P&&(o.value=f.initialValue),l[d.stackPos+s]=o,e.pushOnTopOfStackForInitialization&&l.push(o);break;case r.pushLocalVariableToStack:l.push(l[e.stackposOfVariable+s]);break;case r.popAndStoreIntoVariable:l[e.stackposOfVariable+s]=l.pop();break;case r.pushAttribute:var h=e.useThisObject?l[s].value:l.pop().value;if(null==h)return"Zugriff auf ein Attribut ("+e.attributeIdentifier+") des null-Objekts";var p=h.getValue(e.attributeIndex);null!=(null==p?void 0:p.updateValue)&&p.updateValue(p),l.push(p);break;case r.pushArrayLength:var y=l.pop().value;if(null==y)return"Zugriff auf das length-Attribut des null-Objekts";l.push({type:Bt,value:y.length});break;case r.assignment:o=l.pop(),l[a-1].value=o.value,l[a-1].type instanceof P||(l[a-1].type=o.type),e.leaveValueOnStack||l.pop();break;case r.plusAssignment:o=l.pop(),l[a-1].value+=o.value;break;case r.minusAssignment:o=l.pop(),l[a-1].value-=o.value;break;case r.multiplicationAssignment:o=l.pop(),l[a-1].value*=o.value;break;case r.divisionAssignment:o=l.pop(),l[a-1].value/=o.value;break;case r.moduloAssignment:o=l.pop(),l[a-1].value%=o.value;break;case r.ANDAssigment:o=l.pop(),l[a-1].value&=o.value;break;case r.ORAssigment:o=l.pop(),l[a-1].value|=o.value;break;case r.XORAssigment:o=l.pop(),l[a-1].value^=o.value;break;case r.shiftLeftAssigment:o=l.pop(),l[a-1].value<<=o.value;break;case r.shiftRightAssigment:o=l.pop(),l[a-1].value>>=o.value;break;case r.shiftRightUnsignedAssigment:o=l.pop(),l[a-1].value>>>=o.value;break;case r.binaryOp:var v=l.pop(),m=e.leftType.compute(e.operator,l[a-1],v),g=e.leftType.getResultType(e.operator,v.type);l[a-1]={type:g,value:m};break;case r.unaryOp:var b=l.pop();e.operator==r.minus?l.push({type:b.type,value:-b.value}):l.push({type:b.type,value:!b.value});break;case r.pushConstant:l.push({value:e.value,type:e.dataType});break;case r.pushStaticClassObject:e.klass instanceof J?l.push({type:e.klass.staticClass,value:e.klass.staticClass.classObject}):l.push({type:e.klass,value:e.klass});break;case r.pushStaticAttribute:null!=(o=e.klass.classObject.getValue(e.attributeIndex)).updateValue&&o.updateValue(o),l.push(o);break;case r.selectArrayElement:var w=l.pop(),k=l.pop();if(null==k.value)return"Zugriff auf ein Element eines null-Feldes";if(w.value>=k.value.length||w.value<0)return"Zugriff auf das Element mit Index "+w.value+" eines Feldes der Länge "+k.value.length;l.push(k.value[w.value]);break;case r.callMainMethod:this.stack.push({value:e.staticClass.classObject,type:e.staticClass});var S={value:[{value:"Test",type:$t}],type:new fe($t)},j=a+2;this.stack.push(S),this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=j,this.currentProgram=e.method.program,this.currentMethod=e.method,this.currentProgramPosition=-1;for(var T=0;T<e.method.reserveStackForLocalVariables;T++)l.push(null);break;case r.makeEllipsisArray:var x=l.splice(l.length-e.parameterCount,e.parameterCount);l.push({value:x,type:e.arrayType});break;case r.callMethod:for(var M=e.method,O=a+1+e.stackframeBegin,C=M.parameterlist.parameters,A=O+1;A<=a;A++)null!=this.stack[A]&&this.stack[A].type instanceof P&&(l[A]={type:C[A-O-1].type,value:l[A].value});if(null==l[O].value&&!M.isStatic)return"Aufruf der Methode "+M.identifier+" des null-Objekts";if(M.isAbstract||M.isVirtual&&!e.isSuperCall){var D=l[O];M=D.value instanceof E?D.value.class.getMethodBySignature(M.signature):D.type.getMethodBySignature(M.signature)}if(null==M)break;if(null!=M.invoke){var I=M.getReturnType(),F=l.splice(O),_=M.invoke(F);null!=I&&"void"!=I.identifier&&l.push({value:_,type:I})}else{this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=O,this.currentProgram=M.program,this.currentMethod=M,this.currentProgramPosition=-1;for(var z=0;z<M.reserveStackForLocalVariables;z++)l.push(null);this.stepOverNestingLevel++,this.additionalStepFinishedFlag=!0}break;case r.callInputMethod:var R=e.method,B=a+1+e.stackframeBegin,L=l.splice(B);this.timerStopped=!0;var W=this.state;this.setState(ic.waitingForInput),this.showProgramPointerAndVariables();var G=this;this.inputManager.readInput(R,L,(function(e){l.push(e),i.main.hideProgramPointerPosition(),G.setState(ic.paused),W==ic.running?G.start():G.showProgramPointerAndVariables()}));break;case r.return:this.return(e,l);break;case r.decreaseStackpointer:l.splice(a+1-e.popCount);break;case r.initStackframe:this.stackframes.push(this.currentStackframe),this.currentStackframe=a+1;for(var N=0;N<e.reserveForLocalVariables;N++)l.push(null);break;case r.closeStackframe:l.splice(s),this.currentStackframe=this.stackframes.pop();break;case r.newObject:o={value:new E(e.class),type:e.class},l.push(o),e.subsequentConstructorCall&&(l.push(o),a++);for(var $=e.class;null!=$;){var H=$.attributeInitializationProgram;H.statements.length>0&&(this.stackframes.push(this.currentStackframe),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition+1,textPosition:e.position,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:null}),this.currentCallbackAfterReturn=null,this.currentStackframe=a+1,this.currentProgram=H,this.currentProgramPosition=-1,this.currentMethod="Konstruktor von "+$.identifier,this.stepOverNestingLevel++,this.additionalStepFinishedFlag=!0),$=$.baseClass}break;case r.processPostConstructorCallbacks:var V,K=ac((o=l[a]).type.getPostConstructorCallbacks());try{for(K.s();!(V=K.n()).done;)(0,V.value)(o.value)}catch(e){K.e(e)}finally{K.f()}break;case r.extendedForLoopInit:l[e.stackPosOfCounter+s]={type:Bt,value:0};break;case r.extendedForLoopCheckCounterAndGetElement:var Q=l[e.stackPosOfCounter+s].value++,U=l[e.stackPosOfCollection+s].value;switch(e.kind){case"array":Q<U.length?(l[e.stackPosOfElement+s].value=U[Q].value,l[e.stackPosOfElement+s].type=U[Q].type):this.currentProgramPosition=e.destination-1;break;case"internalList":var Z=U.intrinsicData.ListHelper.valueArray;Q<Z.length?(l[e.stackPosOfElement+s].value=Z[Q].value,l[e.stackPosOfElement+s].type=Z[Q].type):this.currentProgramPosition=e.destination-1;break;case"group":var X=U.intrinsicData.Actor.shapes;Q<X.length?(l[e.stackPosOfElement+s].value=X[Q],l[e.stackPosOfElement+s].type=X[Q].klass):this.currentProgramPosition=e.destination-1}break;case r.incrementDecrementBefore:(o=l[a]).value+=e.incrementDecrementBy;break;case r.incrementDecrementAfter:o=l[a],l[a]={value:o.value,type:o.type},o.value+=e.incrementDecrementBy;break;case r.jumpAlways:this.currentProgramPosition=e.destination-1;break;case r.jumpIfTrue:(o=l.pop()).value&&(this.currentProgramPosition=e.destination-1);break;case r.jumpIfFalse:(o=l.pop()).value||(this.currentProgramPosition=e.destination-1);break;case r.jumpIfTrueAndLeaveOnStack:(o=l[a]).value&&(this.currentProgramPosition=e.destination-1);break;case r.jumpIfFalseAndLeaveOnStack:(o=l[a]).value||(this.currentProgramPosition=e.destination-1);break;case r.noOp:break;case r.programEnd:if(this.programStack.length>0){this.popProgram(),this.currentProgramPosition--,this.additionalStepFinishedFlag=!0,this.leaveLine=-1,e.pauseAfterProgramEnd&&(this.stepOverNestingLevel=-1);break}if(null!=this.worldHelper&&this.worldHelper.hasActors()||null!=this.processingHelper||null!=this.gngEreignisbehandlungHelper&&this.gngEreignisbehandlungHelper.hasAktionsEmpfaenger()){this.currentProgramPosition--;break}if(this.main.getCurrentWorkspace().moduleStore.getModule("Base Module").typeStore.getType("Timer").timerEntries.length>0){this.currentProgramPosition--;break}if(this.currentProgram=null,this.currentProgramPosition=-1,this.additionalStepFinishedFlag=!0,qu.showHelper("speedControlHelper",this.main),this.printManager.showProgramEnd(),this.steps>0){var q=performance.now()-this.timeWhenProgramStarted,Y="Executed "+this.steps+" steps in "+this.round(q)+" ms ("+this.round(this.steps/q*1e3)+" steps/s)";null===(n=null===(t=this.main.getBottomDiv())||void 0===t?void 0:t.console)||void 0===n||n.writeConsoleEntry(Y,null),this.steps=-1}this.currentProgramPosition--,this.stop();break;case r.print:case r.println:var ee=null,ne=null;e.withColor&&(ne=l.pop().value),e.empty||(ee=l.pop().value),e.type==r.println?this.printManager.println(ee,ne):this.printManager.print(ee,ne);break;case r.pushEmptyArray:for(var ie=[],re=0;re<e.dimension;re++)ie.push(l.pop().value);l.push(this.makeEmptyArray(ie,e.arrayType));break;case r.beginArray:l.push({type:e.arrayType,value:[]});break;case r.addToArray:a-=e.numberOfElementsToAdd;var oe=l.splice(a+1,e.numberOfElementsToAdd).map((function(e){return{type:e.type,value:e.value}}));l[a].value=l[a].value.concat(oe);break;case r.pushEnumValue:var ae=e.enumClass.identifierToInfoMap[e.valueIdentifier];l.push(e.enumClass.valueList.value[ae.ordinal]);break;case r.keywordSwitch:var se=l.pop().value,le=e.destinationMap[se];null!=le?this.currentProgramPosition=le-1:null!=e.defaultDestination&&(this.currentProgramPosition=e.defaultDestination-1);break;case r.heapVariableDeclaration:var ue=e.variable;this.heap[ue.identifier]=ue,ue.value={type:ue.type,value:ue.type instanceof P?ue.type.initialValue:null},e.pushOnTopOfStackForInitialization&&this.stack.push(ue.value);break;case r.pushFromHeapToStack:var ce=this.heap[e.identifier];if(null==ce)return"Die Variable "+e.identifier+" ist nicht bekannt.";this.stack.push(ce.value);break;case r.returnIfDestroyed:var de=this.stack[s].value;null!=de&&1==de.intrinsicData.Actor.isDestroyed&&this.return(null,l);break;case r.setPauseDuration:var he=this.stack.pop().value;null==this.pauseUntil&&(this.pauseUntil=performance.now()+he);break;case r.pause:e.stepFinished=!0,null!=this.pauseUntil&&performance.now()<this.pauseUntil?this.currentProgramPosition--:this.pauseUntil=null}this.currentProgramPosition++}},{key:"return",value:function(e,t){var n=this.currentCallbackAfterReturn;if(null!=e&&e.copyReturnValueToStackframePos0){var i=t.pop();t[this.currentStackframe]=i,t.splice(this.currentStackframe+1)}else t.splice(this.currentStackframe+(null!=e&&e.leaveThisObjectOnStack?1:0));this.currentStackframe=this.stackframes.pop(),this.popProgram(),null!=e&&1==e.methodWasInjected&&this.currentProgramPosition++,this.currentProgramPosition--,this.stepOverNestingLevel--,null!=n&&n(this),this.stepOverNestingLevel<0&&this.currentProgram.statements[this.currentProgramPosition+1].type==r.jumpAlways&&(this.stepFinished=!1)}},{key:"makeEmptyArray",value:function(e,t){var n=t.arrayOfType;if(1==e.length){for(var i=[],r=0;r<e[0];r++){var o={type:n,value:null};n instanceof P&&(o.value=n.initialValue),i.push(o)}return{type:t,value:i}}for(var a=[],s=e.pop(),l=0;l<s;l++)a.push(this.makeEmptyArray(e,n));return{type:t,value:a}}},{key:"round",value:function(e){return""+Math.round(1e4*e)/1e4}},{key:"setState",value:function(e){var t,n=this.state;this.state=e,e!=ic.error&&e!=ic.done||this.closeAllWebsockets();var i,r=this.main.getActionManager(),o=ac(this.actions);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.setActive("interpreter."+a,this.buttonActiveMatrix[a][e])}}catch(e){o.e(e)}finally{o.f()}this.buttonActiveMatrix.start[e]?(this.controlButtons.$buttonStart.show(),this.controlButtons.$buttonPause.hide()):(this.controlButtons.$buttonStart.hide(),this.controlButtons.$buttonPause.show()),this.buttonActiveMatrix.stop[e]||(null!=this.worldHelper&&this.worldHelper.clearActorLists(),null===(t=this.gngEreignisbehandlungHelper)||void 0===t||t.detachEvents(),this.gngEreignisbehandlungHelper=null),this.runningStates.indexOf(n)>=0&&this.runningStates.indexOf(e)<0&&(this.debugger.disable(),this.keyboardTool.unsubscribeAllListeners()),this.runningStates.indexOf(n)<0&&this.runningStates.indexOf(e)>=0&&this.debugger.enable()}},{key:"closeAllWebsockets",value:function(){this.webSocketsToCloseAfterProgramHalt.forEach((function(e){return e.close()})),this.webSocketsToCloseAfterProgramHalt=[]}},{key:"pushCurrentProgram",value:function(){if(null!=this.currentProgram){var e,t=this.currentProgram.statements[this.currentProgramPosition];null!=t&&(e=t.position),this.programStack.push({program:this.currentProgram,programPosition:this.currentProgramPosition,textPosition:e,method:this.currentMethod,callbackAfterReturn:this.currentCallbackAfterReturn,isCalledFromOutside:this.currentIsCalledFromOutside}),this.currentCallbackAfterReturn=null,this.currentIsCalledFromOutside=null}}},{key:"runTimer",value:function(e,t,n,i){if(this.state==ic.running){var o=e.program.statements;i||0==this.programStack.length?(this.pushCurrentProgram(),this.currentProgram=e.program,this.currentMethod=e,this.currentProgramPosition=0,this.currentCallbackAfterReturn=n,this.currentIsCalledFromOutside="Timer",this.stackframes.push(this.currentStackframe),this.currentStackframe=this.stack.length,this.stack=this.stack.concat(t),o[o.length-1].type==r.return&&this.stepOverNestingLevel++):(this.programStack.splice(1,0,{program:e.program,programPosition:0,textPosition:{line:0,column:0,length:0},method:e,callbackAfterReturn:n,isCalledFromOutside:"Timer",stackElementsToPushBeforeFirstExecuting:t}),o[o.length-1].type==r.return&&this.stepOverNestingLevel++)}}},{key:"evaluate",value:function(e){this.pushCurrentProgram(),this.currentProgram=e,this.currentProgramPosition=0;var t,n,i=this.stack.length,r=this.state,o=this.stepOverNestingLevel,a=this.additionalStepFinishedFlag,s=(this.currentStackframe,0);try{for(;null==t&&(this.currentProgram!=e||this.currentProgramPosition<this.currentProgram.statements.length)&&s<1e5;)t=this.nextStep(),s++}catch(e){t="Fehler bei der Auswertung"}if(this.currentProgram==e&&this.programStack.length>0&&this.popProgram(),this.stack.length>i)for(n=this.stack.pop();this.stack.length>i;)this.stack.pop();return this.stepOverNestingLevel=o,this.additionalStepFinishedFlag=a,this.setState(r),{error:t,value:n}}},{key:"executeImmediatelyInNewStackframe",value:function(e,t){this.pushCurrentProgram(),this.currentProgram=e;var n=this.currentProgramPosition;this.currentProgramPosition=0;var i=this.stackframes.length;this.stackframes.push(this.currentStackframe);var r=this.stack.length;this.currentStackframe=r;var o,a=ac(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.stack.push(s)}}catch(e){a.e(e)}finally{a.f()}var l,u=this.state,c=this.stepOverNestingLevel,d=this.additionalStepFinishedFlag,f=0,h=null;try{for(;this.stackframes.length>i&&f<1e5&&null==h;){var p=this.currentProgram.statements[this.currentProgramPosition];h=this.executeNode(p),f++}}catch(e){h="Fehler bei der Auswertung"}if(1e5==f&&this.throwException("Die Ausführung des Konstruktors dauerte zu lange."),this.stack.length>r)for(l=this.stack.pop();this.stack.length>r;)this.stack.pop();return this.stepOverNestingLevel=c,this.additionalStepFinishedFlag=d,this.currentProgramPosition=n,this.setState(u),{error:h,value:l}}},{key:"instantiateObjectImmediately",value:function(e){for(var t=new E(e),n={value:t,type:e},i=e;null!=i;){var r=i.attributeInitializationProgram;r.statements.length>0&&this.executeImmediatelyInNewStackframe(r,[n]),i=i.baseClass}var o=e.getMethodBySignature(e.identifier+"()");return null!=o&&null!=o.program&&this.executeImmediatelyInNewStackframe(o.program,[n]),t}}])&&lc(t.prototype,n),i&&lc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function cc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var dc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"initDefaultValues",value:function(){e.defaultFillColor=8421631,e.defaultFillAlpha=1,e.defaultBorderColor=null,e.defaultBorderAlpha=1,e.defaultBorderWidth=10,e.defaultVisibility=!0}},{key:"setDefaultVisibility",value:function(t){e.defaultVisibility=t}},{key:"setDefaultBorder",value:function(t,n,i){if(e.defaultBorderWidth=t,"string"==typeof n){var r=rn.parseColorToOpenGL(n);e.defaultBorderColor=r.color,e.defaultBorderAlpha=null==i?r.alpha:i}else e.defaultBorderColor=n,null!=i&&(e.defaultBorderAlpha=i)}},{key:"setDefaultFillColor",value:function(t,n){if("string"==typeof t){var i=rn.parseColorToOpenGL(t);e.defaultFillColor=i.color,e.defaultFillAlpha=null==n?i.alpha:n}else e.defaultFillColor=t,null!=n&&(e.defaultFillAlpha=n)}}],(n=null)&&cc(t.prototype,n),i&&cc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fc(e){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function yc(){return(yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=vc(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function vc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jc(e)););return e}function mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bc(e,t,n){return t&&gc(e.prototype,t),n&&gc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kc(e,t)}function kc(e,t){return(kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jc(e);if(t){var r=jc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pc(this,n)}}function Pc(e,t){if(t&&("object"===fc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}dc.defaultFillColor=8421631,dc.defaultFillAlpha=1,dc.defaultBorderColor=null,dc.defaultBorderAlpha=1,dc.defaultBorderWidth=10,dc.defaultVisibility=!0;var Tc=function(e){wc(n,e);var t=Sc(n);function n(e){var i;mc(this,n),(i=t.call(this,"World",e,"Grafische Zeichenfläche mit Koordinatensystem")).module=e,i.setBaseClass(e.typeStore.getType("Object"));var r=e.typeStore.getType("Group"),o=e.typeStore.getType("Shape"),a=e.typeStore.getType("MouseListener");return i.addMethod(new T("World",new x([{identifier:"breite",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"höhe",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,r=e[2].value,o=i.getWorldHelper(t,n,r);t.intrinsicData.World=o}),!1,!1,"Legt einen neuen Grafikbereich (='Welt') an",!0)),i.addMethod(new T("World",new x([]),null,(function(e){var t=e[0].value,n=i.getWorldHelper(t);t.intrinsicData.World=n}),!1,!1,"Legt einen neuen Grafikbereich (='Welt') an. Das Koordinatensystem geht von 0 bis 800 in x-Richtung und von 0 - 600 in y-Richtung.",!0)),i.addMethod(new T("setBackgroundColor",new x([{identifier:"colorAsRGBInt",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.setBackgroundColor(n)}),!1,!1,'Setzt die Hintergrundfarbe. Die Farbe wird als integer-Zahl erwartet. Am besten schreibt man sie als Hexadezimalzahl, also z.B. setBackgroundColor(0xff8080)."',!1)),i.addMethod(new T("setBackgroundColor",new x([{identifier:"colorAsRGBAString",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.setBackgroundColor(n)}),!1,!1,'Setzt die Hintergrundfarbe. Die Farbe ist entweder eine vordefinierte Farbe ("schwarz", "rot", ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),i.addMethod(new T("move",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.World,o=(new PIXI.Matrix).copyFrom(r.stage.projectionTransform);r.stage.projectionTransform.identity(),r.stage.projectionTransform.translate(n,i),r.stage.projectionTransform.prepend(o),r.computeCurrentWorldBounds(),r.shapesNotAffectedByWorldTransforms.forEach((function(e){return e.move(-n,-i)}))}),!1,!1,"Verschiebt alle Objekte der Welt um x nach rechts und y nach unten.",!1)),i.addMethod(new T("follow",new x([{identifier:"shape",type:o,declaration:null,usagePositions:null,isFinal:!0},{identifier:"margin",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"xMin",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"xMax",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"yMin",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"yMax",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=e[5].value,s=e[6].value,l=t.intrinsicData.World,u=n.intrinsicData.Actor,c=0,d=0,f=u.getCenterX(),h=u.getCenterY(),p=f-(l.currentLeft+l.currentWidth-i);p>0&&l.currentLeft+l.currentWidth<o&&(c=-p);var y=l.currentLeft+i-f;y>0&&l.currentLeft>r&&(c=y);var v=h-(l.currentTop+l.currentHeight-i);v>0&&l.currentTop+l.currentHeight<=s&&(d=-v);var m=l.currentTop+i-h;if(m>0&&l.currentTop>=a&&(d=m),0!=c||0!=d){var g=(new PIXI.Matrix).copyFrom(l.stage.projectionTransform);l.stage.projectionTransform.identity(),l.stage.projectionTransform.translate(c,d),l.stage.projectionTransform.prepend(g),l.computeCurrentWorldBounds(),l.shapesNotAffectedByWorldTransforms.forEach((function(e){return e.move(-c,-d)}))}}),!1,!1,"Verschiebt die Welt so, dass das übergebene graphische Objekt (shape) sichtbar wird. Verschoben wird nur, wenn das Objekt weniger als frameWidth vom Rand entfernt ist und die Welt nicht über die gegebenen Koordinaten xMin, xMax, yMin und yMax hinausragt.",!1)),i.addMethod(new T("rotate",new x([{identifier:"angleInDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.World,a=-n/180*Math.PI,s=(new PIXI.Matrix).copyFrom(o.stage.projectionTransform);o.stage.projectionTransform.identity(),o.stage.projectionTransform.translate(-i,-r),o.stage.projectionTransform.rotate(a),o.stage.projectionTransform.translate(i,r),o.stage.projectionTransform.prepend(s),o.computeCurrentWorldBounds(),o.shapesNotAffectedByWorldTransforms.forEach((function(e){e.rotate(-n,i,r)}))}),!1,!1,"Rotiert die Welt um den angegebenen Winkel im Urzeigersinn. Drehpunkt ist der Punkt (x/y).",!1)),i.addMethod(new T("scale",new x([{identifier:"factor",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.World,a=(new PIXI.Matrix).copyFrom(o.stage.projectionTransform);o.stage.projectionTransform.identity(),o.stage.projectionTransform.translate(-i,-r),o.stage.projectionTransform.scale(n,n),o.stage.projectionTransform.translate(i,r),o.stage.projectionTransform.prepend(a),o.computeCurrentWorldBounds(),o.shapesNotAffectedByWorldTransforms.forEach((function(e){return e.scale(1/n,i,r)}))}),!1,!1,"Streckt die Welt um den angegebenen Faktor. Zentrum der Streckung ist (x/y).",!1)),i.addMethod(new T("setCoordinateSystem",new x([{identifier:"left",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.World;a.stage.projectionTransform.identity(),a.stage.projectionTransform.translate(-n,-i),a.stage.projectionTransform.scale(a.initialWidth/r,a.initialHeight/o),a.computeCurrentWorldBounds(),a.shapesNotAffectedByWorldTransforms.forEach((function(e){e.scale(r/a.initialWidth,n,i),e.move(n,i)}))}),!1,!1,"Streckt die Welt um den angegebenen Faktor. Zentrum der Streckung ist (x/y).",!1)),i.addMethod(new T("setDefaultGroup",new x([{identifier:"group",type:r,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.defaultGroup=null==n?null:n.intrinsicData.Actor}),!1,!1,"Legt eine Gruppe fest, zu der ab jetzt alle neuen Objekte automatisch hinzugefügt werden. Falls null angegeben wird, werden neue Objekte zu keiner Gruppe automatisch hinzugefügt.",!1)),i.addMethod(new T("addMouseListener",new x([{identifier:"listener",type:a,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.World.addMouseListener(n)}),!1,!1,"Fügt einen neuen MouseListener hinzu, dessen Methoden bei Mausereignissen aufgerufen werden.",!1)),i.addMethod(new T("getWidth",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentWidth)}),!1,!1,'Gibt die "Breite" des Grafikbereichs zurück, genauer: die x-Koordinate am rechten Rand.',!1)),i.addMethod(new T("getHeight",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentHeight)}),!1,!1,'Gibt die "Höhe" des Grafikbereichs zurück, genauer: die y-Koordinate am unteren Rand.',!1)),i.addMethod(new T("getTop",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentTop)}),!1,!1,"Gibt die y-Koordinate der linken oberen Ecke zurück.",!1)),i.addMethod(new T("getLeft",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.World;return Math.round(t.currentLeft)}),!1,!1,"Gibt die x-Koordinate der linken oberen Ecke zurück.",!1)),i.addMethod(new T("setCursor",new x([{identifier:"cursor",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.World,n=e[1].value;t.setCursor(n)}),!1,!1,"Ändert die Form des Mauscursors im gesamten Grafikbereich. Mögiche Werte: siehe https://developer.mozilla.org/de/docs/Web/CSS/cursor.",!1)),i}return bc(n,[{key:"getWorldHelper",value:function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,s=null===(i=null===(n=null===(t=this.module)||void 0===t?void 0:t.main)||void 0===n?void 0:n.getInterpreter())||void 0===i?void 0:i.worldHelper;if(null!=s){if(s.width!=o||s.height!=a){var l=Math.round(a/o*100);s.$containerOuter.css("padding-bottom",l+"%"),s.stage.projectionTransform.scale(s.width/o,s.width/a),null===(r=this.module.main.getRightDiv())||void 0===r||r.adjustWidthToWorld()}return s}return new Mc(o,a,this.module,e)}}]),n}(J),xc=function(e){wc(n,PIXI.Container);var t=Sc(n);function n(e,i){var r;return mc(this,n),(r=t.call(this)).sourceFrame=e,r.destinationFrame=i,r.projectionTransform=new PIXI.Matrix,r}return bc(n,[{key:"render",value:function(e){e.projection.projectionMatrix.identity(),e.projection.transform=this.projectionTransform,e.renderTexture.bind(e.renderTexture.current,this.sourceFrame,this.destinationFrame),yc(jc(n.prototype),"render",this).call(this,e),e.batch.flush(),e.batch.flush(),e.projection.projectionMatrix.identity(),e.projection.transform=null,e.renderTexture.bind(null)}}]),n}(),Mc=function(){function e(t,n,i,r){var o,a,s,l=this;for(mc(this,e),this.width=t,this.height=n,this.module=i,this.world=r,this.actActors=[],this.keyPressedActors=[],this.keyUpActors=[],this.keyDownActors=[],this.actorHelpersToDestroy=[],this.mouseListenerShapes=[],this.mouseListeners=[],this.actorsFinished=!0,this.summedDelta=0,this.scaledTextures={},this.shapes=[],this.shapesNotAffectedByWorldTransforms=[],this.actorsNotFinished=0,this.ticks=0,this.deltaSum=0,this.spriteAnimations=[],PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST,PIXI.settings.TARGET_FPMS=.03,this.globalScale=1;n>1e3||t>2e3;)this.globalScale*=2,n/=2,t/=2;this.initialHeight=this.height,this.initialWidth=this.width,this.currentLeft=0,this.currentTop=0,this.currentWidth=this.width,this.currentHeight=this.height,this.interpreter=null===(a=null===(o=this.module)||void 0===o?void 0:o.main)||void 0===a?void 0:a.getInterpreter(),null!=this.interpreter.processingHelper&&this.interpreter.throwException("Die herkömmliche Grafikausgabe kann nicht zusammen mit Processing genutzt werden."),null!=this.interpreter.worldHelper&&this.interpreter.throwException("Es darf nur ein World-Objekt instanziert werden."),this.interpreter.worldHelper=this;var u=this.module.main.getInterpreter().printManager.getGraphicsDiv();this.$coordinateDiv=this.module.main.getRightDiv().$rightDiv.find(".jo_coordinates");var c=function(){var e=u.parents(".jo_tabs");0==e.length&&(e=u.parents(".joe_rightDivInner"));var i=e.width(),r=e.height();n/t>r/i?u.css({width:t/n*r+"px",height:r+"px"}):u.css({height:n/t*i+"px",width:i+"px"})};u.off("sizeChanged"),u.on("sizeChanged",c),c(),this.$containerOuter=jQuery("<div></div>"),this.$containerInner=jQuery("<div></div>"),this.$containerOuter.append(this.$containerInner),u.append(this.$containerOuter),u.show(),u[0].oncontextmenu=function(e){e.preventDefault()},this.module.main.pixiApp?(this.app=this.module.main.pixiApp,this.app.renderer.resize(t,n),this.app.renderer.backgroundColor=0):(this.app=new PIXI.Application({antialias:!0,width:t,height:n}),this.module.main.pixiApp=this.app);var d=this;this.tickerFunction=function(e){d.tick(PIXI.Ticker.shared.elapsedMS)},this.app.ticker.add(this.tickerFunction),this.app.ticker.maxFPS=30,this.interpreter.timerExtern=!0;var f=new PIXI.Rectangle(0,0,this.width,this.height),h=new PIXI.Rectangle(0,0,t,n);this.stage=new xc(f,h),this.stage.projectionTransform=new PIXI.Matrix,this.app.stage.addChild(this.stage),this.$containerInner.append(this.app.view),this.interpreter.keyboardTool.keyPressedCallbacks.push((function(e){var t,n=hc(d.keyPressedActors);try{for(n.s();!(t=n.n()).done;){var i=t.value;d.runActorWhenKeyEvent(i,e)}}catch(e){n.e(e)}finally{n.f()}})),this.interpreter.keyboardTool.keyUpCallbacks.push((function(e){var t,n=hc(d.keyUpActors);try{for(n.s();!(t=n.n()).done;){var i=t.value;d.runActorWhenKeyEvent(i,e)}}catch(e){n.e(e)}finally{n.f()}})),this.interpreter.keyboardTool.keyDownCallbacks.push((function(e){var t,n=hc(d.keyDownActors);try{for(n.s();!(t=n.n()).done;){var i=t.value;d.runActorWhenKeyEvent(i,e)}}catch(e){n.e(e)}finally{n.f()}}));for(var p=function(){var e=v[y],i=e;window.PointerEvent&&(i=i.replace("mouse","pointer")),l.$containerInner.on(i,(function(i){var r=t*i.offsetX/l.$containerInner.width(),o=n*i.offsetY/l.$containerInner.height(),a=new PIXI.Point(r*l.globalScale,o*l.globalScale);l.stage.projectionTransform.applyInverse(a,a),r=a.x,o=a.y,d.onMouseEvent(e,r,o,i.button);var s,u=hc(l.mouseListeners);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=c.types[e]&&l.invokeMouseListener(c,e,r,o,i.button)}}catch(e){u.e(e)}finally{u.f()}if("mousedown"==e){var f=l.interpreter.gngEreignisbehandlungHelper;null!=f&&f.handleMouseClickedEvent(r,o)}}))},y=0,v=["mouseup","mousedown","mousemove","mouseenter","mouseleave"];y<v.length;y++)p();var m=this.$coordinateDiv,g=window.PointerEvent?"pointer":"mouse";this.$containerInner.on(g+"move",(function(e){var i=t*e.offsetX/l.$containerInner.width(),r=n*e.offsetY/l.$containerInner.height(),o=new PIXI.Point(i*l.globalScale,r*l.globalScale);l.stage.projectionTransform.applyInverse(o,o),i=Math.round(o.x),r=Math.round(o.y),m.text("(".concat(i,"/").concat(r,")"))})),this.$containerInner.on(g+"enter",(function(e){m.show()})),this.$containerInner.on(g+"leave",(function(e){m.hide()})),null===(s=this.module.main.getRightDiv())||void 0===s||s.adjustWidthToWorld()}return bc(e,[{key:"clearActorLists",value:function(){this.actActors=[],this.keyPressedActors=[],this.keyUpActors=[],this.keyDownActors=[]}},{key:"computeCurrentWorldBounds",value:function(){var e=new PIXI.Point(0,0);this.stage.projectionTransform.applyInverse(e,e);var t=new PIXI.Point(this.initialWidth,this.initialHeight);this.stage.projectionTransform.applyInverse(t,t),this.currentLeft=e.x,this.currentTop=e.y,this.currentWidth=Math.abs(t.x-e.x),this.currentHeight=Math.abs(t.y-e.y)}},{key:"hasActors",value:function(){return this.actActors.length>0||this.keyPressedActors.length>0||this.keyUpActors.length>0||this.keyDownActors.length>0||this.mouseListeners.length>0||this.mouseListenerShapes.length>0}},{key:"setAllHitpolygonsDirty",value:function(){var e,t=hc(this.shapes);try{for(t.s();!(e=t.n()).done;){e.value.setHitPolygonDirty(!0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"setCursor",value:function(e){this.$containerInner.css("cursor",e)}},{key:"tick",value:function(e){var t;if(null!=this.interpreter){switch(this.interpreter.state){case ic.running:this.summedDelta+=e;var n,i=hc(this.spriteAnimations);try{for(i.s();!(n=i.n()).done;){n.value.tick(e)}}catch(e){i.e(e)}finally{i.f()}if(!this.actorsFinished){this.actorsNotFinished++;break}if(null!=this.interpreter.pauseUntil)break;var r,o=!0,a=hc(this.actActors);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.actorHelper;if(!l.timerPaused&&!l.isDestroyed){var u=null===(t=s.method)||void 0===t?void 0:t.program;this.runActor(o,s,this.summedDelta),null==u||s.actorHelper.isDestroyed||(o=!1,this.actorsFinished=!1)}}}catch(e){a.e(e)}finally{a.f()}break;case ic.done:case ic.error:case ic.not_initialized:this.clearActorLists()}this.summedDelta=0,this.interpreter.state==ic.running&&(this.actActors.length>0?(this.interpreter.timerFunction(33.33,!0,.5),this.interpreter.state==ic.running&&(this.interpreter.timerStopped=!1,this.interpreter.timerFunction(33.33,!1,.08))):this.interpreter.timerFunction(33.33,!1,.7))}for(;this.actorHelpersToDestroy.length>0;){for(var c=this.actorHelpersToDestroy.pop(),d=0,f=[this.keyPressedActors,this.keyUpActors,this.keyDownActors];d<f.length;d++)for(var h=f[d],p=0;p<h.length;p++)h[p].actorHelper===c&&(h.splice(p,1),p--);for(var y=0;y<this.mouseListenerShapes.length;y++)this.mouseListenerShapes[y].shapeHelper===c&&(this.mouseListenerShapes.splice(y,1),y--);for(var v=0;v<this.actActors.length;v++)this.actActors[v].actorHelper===c&&(this.actActors.splice(v,1),v--);var m=c.displayObject;null!=m&&(m.destroy(),c.displayObject=null)}}},{key:"setBackgroundColor",value:function(e){if("string"==typeof e){var t=rn.parseColorToOpenGL(e);this.app.renderer.backgroundColor=t.color}else this.app.renderer.backgroundColor=e}},{key:"runActorWhenKeyEvent",value:function(e,t){var n,i,r=null===(n=e.method)||void 0===n?void 0:n.program,o=null===(i=e.method)||void 0===i?void 0:i.invoke,a=e.actorHelper.runtimeObject,s=[{type:a.class,value:a},{type:$t,value:t}];null!=r?this.interpreter.runTimer(e.method,s,null,!1):null!=o&&o([])}},{key:"runActor",value:function(e,t,n){var i,r,o=null===(i=t.method)||void 0===i?void 0:i.program,a=null===(r=t.method)||void 0===r?void 0:r.invoke,s=t.actorHelper.runtimeObject,l=[{type:s.class,value:s}];t.method.getParameterCount()>0&&l.push({type:Wt,value:n});var u=this;null!=o?this.interpreter.runTimer(t.method,l,e?function(e){u.actorsFinished=!0,e.timerStopped=!0}:null,!0):null!=a&&a([])}},{key:"cacheAsBitmap",value:function(){var e=this,t=null!=this.robotWorldHelper;this.mouseListenerShapes=[];var n=1;this.currentWidth*this.currentHeight>25e5&&(n=Math.sqrt(25e5/(this.currentWidth*this.currentHeight))),this.currentWidth*this.currentHeight<1048576&&(n=Math.sqrt(1048576/(this.currentWidth*this.currentHeight)));var i=new PIXI.BaseRenderTexture({scaleMode:PIXI.SCALE_MODES.LINEAR,width:Math.round(this.currentWidth*n),height:Math.round(this.currentHeight*n)}),r=new PIXI.RenderTexture(i),o=(new PIXI.Matrix).scale(n,n);setTimeout((function(){t||(e.app.renderer.render(e.stage,{renderTexture:r,transform:o}),setTimeout((function(){e.stage.children.forEach((function(e){return e.destroy()})),e.stage.removeChildren();var t=new PIXI.Sprite(r);t.localTransform.scale(e.globalScale,e.globalScale),t.transform.onChange(),e.stage.projectionTransform=new PIXI.Matrix,e.stage.addChild(t)}),300))}),150)}},{key:"destroyWorld",value:function(){for(var e=0,t=["mouseup","mousedown","mousemove","mouseenter","mouseleave"];e<t.length;e++){var n=t[e];this.$containerInner.off(n)}this.spriteAnimations=[],this.app.ticker.remove(this.tickerFunction),this.app.stage.children.forEach((function(e){return e.destroy()})),this.app.stage.removeChildren(),null!=this.robotWorldHelper&&(this.robotWorldHelper.destroy(),this.robotWorldHelper=null),jQuery(this.app.view).detach(),this.$containerOuter.remove(),this.module.main.getInterpreter().printManager.getGraphicsDiv().hide(),this.interpreter.timerExtern=!1,this.interpreter.worldHelper=null,this.$coordinateDiv.hide(),dc.initDefaultValues()}},{key:"onMouseEvent",value:function(e,t,n,i){var r=this;switch(e){case"mousedown":case"mouseup":var o,a=hc(this.mouseListenerShapes);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.shapeHelper;null!=s.types[e]&&(l.containsPoint(t,n)||l.trackMouseMove)&&this.invokeShapeMouseListener(s,e,t,n,i)}}catch(e){a.e(e)}finally{a.f()}break;case"mouseenter":var u,c=hc(this.mouseListenerShapes);try{var d=function(){var o=u.value,a=o.shapeHelper;null!=o.types[e]&&a.containsPoint(t,n)&&!a.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(o,e,t,n,i,(function(){a.mouseLastSeenInsideObject=!0}))};for(c.s();!(u=c.n()).done;)d()}catch(e){c.e(e)}finally{c.f()}break;case"mouseleave":var f,h=hc(this.mouseListenerShapes);try{var p=function(){var o=f.value,a=o.shapeHelper;null!=o.types[e]&&a.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(o,e,t,n,i,(function(){a.mouseLastSeenInsideObject=!1}))};for(h.s();!(f=h.n()).done;)p()}catch(e){h.e(e)}finally{h.f()}break;case"mousemove":var y,v=hc(this.mouseListenerShapes);try{var m=function(){var e=y.value,o=e.shapeHelper;if(null!=e.types.mousemove||null!=e.types.mouseenter&&!o.mouseLastSeenInsideObject||null!=e.types.mouseleave&&o.mouseLastSeenInsideObject){var a=o.containsPoint(t,n);(o.trackMouseMove||a)&&null!=e.types.mousemove&&r.invokeShapeMouseListener(e,"mousemove",t,n,i),a&&null!=e.types.mouseenter&&!o.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(e,"mouseenter",t,n,i,(function(){o.mouseLastSeenInsideObject=!0})),!a&&null!=e.types.mouseleave&&o.mouseLastSeenInsideObject&&r.invokeShapeMouseListener(e,"mouseleave",t,n,i,(function(){o.mouseLastSeenInsideObject=!1}))}};for(v.s();!(y=v.n()).done;)m()}catch(e){v.e(e)}finally{v.f()}}}},{key:"invokeShapeMouseListener",value:function(e,t,n,i,r,o){if(e.shapeHelper.reactToMouseEventsWhenInvisible||e.shapeHelper.displayObject.visible){var a=e.methods[t],s=a.program,l=a.invoke,u=e.shapeHelper.runtimeObject,c=[{type:u.class,value:u},{type:Wt,value:n},{type:Wt,value:i}];"mousemove"!=t&&"mouseenter"!=t&&"mouseleave"!=t&&c.push({type:Bt,value:r}),null!=s?this.interpreter.runTimer(a,c,o,!1):null!=l&&l([])}}},{key:"addMouseListener",value:function(e){var t=this.mouseListenerShapes.findIndex((function(t){return t.shapeHelper.runtimeObject==e}));t>=0&&this.mouseListenerShapes.splice(t,1);for(var n=null,i=0,r=[{identifier:"MouseUp",signature:"(double, double, int)"},{identifier:"MouseDown",signature:"(double, double, int)"},{identifier:"MouseMove",signature:"(double, double)"},{identifier:"MouseEnter",signature:"(double, double)"},{identifier:"MouseLeave",signature:"(double, double)"}];i<r.length;i++){var o=r[i],a=e.class.getMethodBySignature("on"+o.identifier+o.signature);(null!=(null==a?void 0:a.program)&&a.program.statements.length>2||null!=(null==a?void 0:a.invoke))&&(null==n&&(n={listener:e,types:{},methods:{}},this.mouseListeners.push(n)),n.types[o.identifier.toLowerCase()]=!0,n.methods[o.identifier.toLowerCase()]=a)}}},{key:"invokeMouseListener",value:function(e,t,n,i,r,o){var a=e.methods[t],s=a.program,l=a.invoke,u=e.listener,c=[{type:u.class,value:u},{type:Wt,value:n},{type:Wt,value:i}];"mousemove"!=t&&"mouseenter"!=t&&"mouseleave"!=t&&c.push({type:Bt,value:r}),null!=s?this.interpreter.runTimer(a,c,o,!1):null!=l&&l([])}}]),e}();function Oc(e){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ac(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ec(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ic(e,t,n){return t&&Dc(e.prototype,t),n&&Dc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fc(e,t){return(Fc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Rc(e);if(t){var r=Rc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return zc(this,n)}}function zc(e,t){if(t&&("object"===Oc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rc(e){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fc(e,t)}(n,e);var t=_c(n);function n(e){var i;Ec(this,n),(i=t.call(this,"Actor",e,"Abstrakte Klasse mit überschreibbaren Methoden act (zur Implemntierung eines Timers) und onKeyTyped, onKeyUp usw. zur entgegennahme von Tastaturereignissen")).setBaseClass(e.typeStore.getType("Object")),i.isAbstract=!0;var r=[{signature:"onKeyTyped(String)",actorListIdentifier:"keyPressedActors"},{signature:"onKeyUp(String)",actorListIdentifier:"keyUpActors"},{signature:"onKeyDown(String)",actorListIdentifier:"keyDownActors"},{signature:"act()",actorListIdentifier:"actActors"},{signature:"act(double)",actorListIdentifier:"actActors"}];return i.postConstructorCallbacks=[function(e){var t,n=Cc(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=e.class.getMethodBySignature(i.signature);if(null!=(null==o?void 0:o.program)){var a=e.intrinsicData.Actor;a.worldHelper[i.actorListIdentifier].push({actorHelper:a,method:o})}}}catch(e){n.e(e)}finally{n.f()}}],i.addMethod(new T("Actor",new x([]),null,(function(t){var n=t[0].value,i=new Lc(e.main.getInterpreter(),n);n.intrinsicData.Actor=i}),!1,!1,"Der Konstruktor registriert den Actor beim Grafikfenster",!0)),i.addMethod(new T("destroy",new x([]),null,(function(e){e[0].value.intrinsicData.Actor.destroy()}),!1,!1,"Vernichtet das Grafikobjekt. Falls es in einem Group-Objekt enthalten ist, wird es vor dem Vernichten automatisch aus diesem entfernt.",!1)),i.addMethod(new T("isKeyUp",new x([{identifier:"key",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return!t.intrinsicData.Actor.isKeyDown(n)}),!1,!1,"Gibt genau dann true zurück, wenn der Benutzer die gegebenen Taste gerade NICHT drückt. Als Taste kann auch bsw. [shift]+m angegeben werden. Die Angabe von Sondertasten (Enter, ArrowUp, ArrowLeft, ...) ist auch möglich.",!1)),i.addMethod(new T("isKeyDown",new x([{identifier:"key",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Actor.isKeyDown(n)}),!1,!1,"Gibt genau dann true zurück, wenn der Benutzer die gegebenen Taste gerade drückt. Als Taste kann auch bsw. [shift]+m angegeben werden. Die Angabe von Sondertasten (Enter, ArrowUp, ArrowLeft, ...) ist auch möglich.",!1)),i.addMethod(new T("isGamepadButtonDown",new x([{identifier:"gamepadIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"buttonIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.isGamepadButtonPressed(n,i)}),!1,!1,"Gibt genau dann true zurück, wenn der Button buttonIndex des Gamepads GamepadIndex gedrückt ist.",!1)),i.addMethod(new T("isGamepadConnected",new x([{identifier:"gamepadIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(t){t[0].value;var n=t[1].value;return e.main.getInterpreter().gamepadTool.isGamepadConnected(n)}),!1,!1,"Gibt true zurück, falls das Gamepad mit dem übergebenen Index angeschlossen ist. VORSICHT: Das erste Gamepad hat Index 0.",!1)),i.addMethod(new T("getGamepadAxisValue",new x([{identifier:"gamepadIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"axisIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.getGamepadAxisValue(n,i)}),!1,!1,"Gibt den Wert des Gamepad-Steuerknüppels mit Index axisIndex zurück.",!1)),i.addMethod(new T("isDestroyed",new x([]),Gt,(function(e){return e[0].value.intrinsicData.Actor.isDestroyed}),!1,!1,"Gibt true zurück, falls das Objekt bereits durch die Methode destroy() zerstört wurde.",!1)),i.addMethod(new T("getWorld",new x([]),e.typeStore.getType("World"),(function(t){t[0].value.intrinsicData.Actor;var n=e.main.getInterpreter(),i=n.worldHelper;if(null==i){var r=new E(n.moduleStore.getType("World").type);i=new Mc(800,600,n.moduleStore.getModule("Base Module"),r)}return i.world}),!1,!1,"Gibt das Welt-Objekt zurück.",!1)),i.addMethod(new T("stopActing",new x([]),Rt,(function(e){e[0].value.intrinsicData.Actor.setTimerPaused(!0)}),!1,!1,"Stoppt den 30-mal pro Sekunde erfolgenden Aufruf der Methode act für dieses Objekt.",!1)),i.addMethod(new T("restartActing",new x([]),Rt,(function(e){e[0].value.intrinsicData.Actor.setTimerPaused(!1)}),!1,!1,"Startet den 30-mal pro Sekunde erfolgenden Aufruf der Methode act für dieses Objekt erneut.",!1)),i.addMethod(new T("isActing",new x([]),Gt,(function(e){return!e[0].value.intrinsicData.Actor.timerPaused}),!1,!1,"Gibt true zurück, wenn der periodische Aufruf der Methode act weiterhin erfolgt.",!1)),i.addMethod(new T("act",new x([{identifier:"deltaTime",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird ca. 30-mal pro Sekunde aufgerufen",!1)),i.addMethod(new T("act",new x([]),Rt,null,!1,!1,"Wird ca. 30-mal pro Sekunde aufgerufen",!1)),i.addMethod(new T("onKeyTyped",new x([{identifier:"key",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste gedrückt und wieder losgelassen hat.",!1)),i.addMethod(new T("onKeyDown",new x([{identifier:"key",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste gedrückt hat.",!1)),i.addMethod(new T("onKeyUp",new x([{identifier:"key",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, nachdem der Benutzer eine Taste losgelassen hat.",!1)),i}return Ic(n,[{key:"registerWorldType",value:function(){this.methods.filter((function(e){return"getWorld"==e.identifier}))[0].returnType=this.module.typeStore.getType("World")}}]),n}(J),Lc=function(){function e(t,n){Ec(this,e),this.runtimeObject=n,this.isDestroyed=!1,this.timerPaused=!1;var i=t.worldHelper;if(null==i){var r=new E(t.moduleStore.getType("World").type);i=new Mc(800,600,t.moduleStore.getModule("Base Module"),r),r.intrinsicData.World=i,n.intrinsicData.isGNG&&i.setBackgroundColor("#e6e6e6")}this.worldHelper=i}return Ic(e,[{key:"setTimerPaused",value:function(e){this.timerPaused=e}},{key:"isKeyDown",value:function(e){return this.worldHelper.interpreter.keyboardTool.isPressed(e)}},{key:"destroy",value:function(){this.isDestroyed=!0,this.worldHelper.actorHelpersToDestroy.push(this)}},{key:"testdestroyed",value:function(e){return!!this.isDestroyed&&(this.worldHelper.interpreter.throwException("Es wurde die Methode "+e+" eines bereits mit destroy() zerstörten Grafikobjekts aufgerufen."),!0)}}]),e}();function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Nc(e,t){return(Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vc(e);if(t){var r=Vc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Hc(this,n)}}function Hc(e,t){if(t&&("object"===Wc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nc(e,t)}(a,e);var t,n,i,o=$c(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,"Alignment",e,[{type:r.pushEnumValue,position:null,identifier:"left"},{type:r.pushEnumValue,position:null,identifier:"center"},{type:r.pushEnumValue,position:null,identifier:"right"},{type:r.pushEnumValue,position:null,identifier:"top"},{type:r.pushEnumValue,position:null,identifier:"bottom"}])).documentation="Mögliche Ausrichtungen",t}return t=a,n&&Gc(t.prototype,n),i&&Gc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Fn);function Qc(e,t,n,i,r){var o=t.x-e.x,a=t.y-e.y,s=n.x-i.x,l=n.y-i.y,u=n.x-e.x,c=n.y-e.y,d=o*l-a*s;if(d*d<1e-6)return!1;var f=(u*l-c*s)/d,h=(o*c-a*u)/d,p=f>=0&&f<=1&&h>=0&&h<=1;return p&&null!=r&&(r.x=e.x+f*(t.x-e.x),r.y=e.y+f*(t.y-e.y)),p}function Uc(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}function Zc(e,t){for(var n=!1,i=e.length,r=0;r<=i-1;r++){var o=r%i,a=(r-1)%i;a<0&&(a+=i),e[o].y>t.y!=e[a].y>t.y&&t.x<(e[a].x-e[o].x)*(t.y-e[o].y)/(e[a].y-e[o].y)+e[o].x&&(n=!n)}return n}function Xc(e,t,n,i,r){var o=n.x,a=n.y,s=i.x,l=i.y,u=(s-o)*(s-o)+(l-a)*(l-a),c=2*(o-e.x)*(s-o)+2*(a-e.y)*(l-a),d=c*c-4*u*((o-e.x)*(o-e.x)+(a-e.y)*(a-e.y)-t*t);if(!(d<0)){var f=Math.sqrt(d),h=(-c+f)/(2*u),p=(-c-f)/(2*u);h>=0&&h<=1&&r.push({x:o+h*(s-o),y:a+h*(l-a)}),p>=0&&p<=1&&r.push({x:o+p*(s-o),y:a+p*(l-a)})}}function qc(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=i*i+r*r,a=((-e.x+n.x)*i+(-e.y+n.y)*r)/o;if(a<0)return Uc(e,n);if(a>1)return Uc(t,n);var s=e.x+a*(t.x-e.x),l=e.y+a*(t.y-e.y),u=n.x-s,c=n.y-l;return Math.sqrt(u*u+c*c)}function Yc(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(r*r+i*i);return o<1e-9?Uc(e,n):Math.abs(r*n.x-i*n.y+t.x*e.y-t.y*e.x)/o}function Jc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(0==e.length||0==t.length)return!1;var o=e.length+(n?0:-1),a=t.length+(i?0:-1);if(n&&Zc(e,t[0])){if(null!=r){for(var s=1e5,l=0,u=0;u<e.length-1;u++){var c=(u+1)%e.length,d=qc(e[u],e[c],t[0]);d<s&&(s=d,l=0)}var f=(l+1)%e.length;r.y=e[f].x-e[l].x,r.x=-(e[f].y-e[l].y)}return!0}if(n&&Zc(t,e[0]))return!0;for(var h=0;h<o;h++)for(var p=e[h],y=e[(h+1)%e.length],v=0;v<a;v++){var m=t[v],g=t[(v+1)%t.length];if(Qc(p,y,m,g))return!0}return!1}function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function td(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return nd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nd(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function id(){return(id="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=rd(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function rd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hd(e)););return e}function od(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ad(e,t,n){return t&&od(e.prototype,t),n&&od(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ld(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ud(e,t)}function ud(e,t){return(ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=hd(e);if(t){var r=hd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return dd(this,n)}}function dd(e,t){if(t&&("object"===ed(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fd(e)}function fd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(e){return(hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pd=function(e){ld(n,e);var t=cd(n);function n(e){var i;sd(this,n),(i=t.call(this,"Shape",e,"Basisklasse für alle graphischen Objekte die verschoben, skaliert und gedreht werden können")).setBaseClass(e.typeStore.getType("Actor")),i.isAbstract=!0;var r=e.typeStore.getType("Shape"),o=e.typeStore.getType("Direction"),a=(new fe(r),e.typeStore.getType("Vector2"));return i.addAttribute(new j("angle",Wt,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.angle}),!1,_.protected,!0,"Richtung")),i.addAttribute(new j("centerX",Wt,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.getCenterX()}),!1,_.protected,!0,"X-Koordinate des Diagonalenschnittpunkts der BoundingBox des Objekts")),i.addAttribute(new j("centerY",Wt,(function(e){var t=e.object.intrinsicData.Actor;null==t||t.isDestroyed||null==t.displayObject?e.value=0:e.value=t.getCenterY()}),!1,_.protected,!0,"Y-Koordinate des Diagonalenschnittpunkts der BoundingBox des Objekts")),i.setupAttributeIndicesRecursive(),i.addMethod(new T("move",new x([{identifier:"dx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dy",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("move")||r.move(n,i)}),!1,!1,"Verschiebt das Grafikobjekt um dx Pixel nach rechts und um dy Pixel nach unten.",!1)),i.addMethod(new T("rotate",new x([{identifier:"angleInDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerX",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerY",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("rotate")||o.rotate(n,i,r)}),!1,!1,"Dreht das Grafikobjekt um den angegebenen Winkel. Drehpunkt ist (centerX, centerY).",!1)),i.addMethod(new T("rotate",new x([{identifier:"angleInDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("rotate")||i.rotate(n)}),!1,!1,"Dreht das Grafikobjekt um den angegebenen Winkel. Drehpunkt ist der 'Mittelpunkt' des Objekts",!1)),i.addMethod(new T("scale",new x([{identifier:"factor",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerX",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"centerY",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("scale")||o.scale(n,i,r)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der Punkt (centerX, centerY)",!1)),i.addMethod(new T("scale",new x([{identifier:"factor",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("scale")||i.scale(n)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der 'Mittelpunkt' des Objekts.",!1)),i.addMethod(new T("mirrorX",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.mirrorXY(-1,1)}),!1,!1,"Spiegelt das Objekt in X-Richtung.",!1)),i.addMethod(new T("mirrorY",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.mirrorXY(1,-1)}),!1,!1,"Spiegelt das Objekt in Y-Richtung.",!1)),i.addMethod(new T("isOutsideView",new x([]),Gt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("isOutsideView"))return t.isOutsideView()}),!1,!1,"Gibt genau dann true zurück, wenn sich die Bounding Box des Objekts außerhalb des sichtbaren Bereichs befindet. ",!1)),i.addMethod(new T("getCenterX",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getCenterX"))return t.getCenterX()}),!1,!1,"Gibt die x-Koordinate des 'Mittelpunkts' zurück. Der 'Mittelpunkt' des Grafikobjekts ist der Diagonalenschnittpunkt seiner achsenparallelen Bounding-Box.",!1)),i.addMethod(new T("getCenterY",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getCenterY"))return t.getCenterY()}),!1,!1,"Gibt die y-Koordinate des 'Mittelpunkts' zurück. Der 'Mittelpunkt' des Grafikobjekts ist der Diagonalenschnittpunkt seiner achsenparallelen Bounding-Box.",!1)),i.addMethod(new T("getAngle",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getAngle"))return t.angle}),!1,!1,"Gibt den Winkel des Grafikobjekts in Grad zurück. Winkel == 0 bedeutet: dieselbe Richtung wie zum Zeipunkt der Instanzierung des Objekts. Positive Winkelzunahme bedeutet Rechtsdrehung.",!1)),i.addMethod(new T("containsPoint",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;if(!r.testdestroyed("containsPoint"))return r.containsPoint(n,i)}),!1,!1,"Gibt genau dann true zurück, wenn das Grafikobjekt den Punkt (x, y) enthält.",!1)),i.addMethod(new T("collidesWith",new x([{identifier:"object",type:fd(i),declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(t){var n=t[0].value,i=t[1].value;null==i&&e.main.getInterpreter().throwException("Der Parameter der Methode collidesWith darf nicht null sein.");var r=n.intrinsicData.Actor,o=i.intrinsicData.Actor;if(!r.testdestroyed("collidesWith")){if(!o.isDestroyed)return r.collidesWith(o);r.worldHelper.interpreter.throwException("Die der Methode collidesWith als Parameter übergebene Figur ist bereits zerstört.")}}),!1,!1,"Gibt genau dann true zurück, wenn das Grafikobjekt und das andere Grafikobjekt kollidieren.",!1)),i.addMethod(new T("collidesWithAnyShape",new x([]),Gt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("collidesWithAnyShape"))return t.collidesWithAnyShape()}),!1,!1,"Gibt genau dann true zurück, wenn das Grafikobjekt mit irgendeinem anderen Grafikobjekt kollidiert.",!1)),i.addMethod(new T("moveBackFrom",new x([{identifier:"otherShape",type:fd(i),declaration:null,usagePositions:null,isFinal:!0},{identifier:"keepColliding",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value;null==i&&e.main.getInterpreter().throwException("Der erste Parameter der Methode moveBackFrom darf nicht null sein.");var o=n.intrinsicData.Actor,a=i.intrinsicData.Actor;o.testdestroyed("moveBackFrom")||(a.isDestroyed?o.worldHelper.interpreter.throwException("Die der Methode moveBackFrom als Parameter übergebene Figur ist bereits zerstört."):o.moveBackFrom(a,r))}),!1,!1,"Rückt das Objekt entlang der letzten durch move vorgegebenen Richtung zurück, bis es das übergebene Objekt gerade noch (keepColliding == true) bzw. gerade nicht mehr (keepColliding == false) berührt.",!1)),i.addMethod(new T("directionRelativeTo",new x([{identifier:"otherShape",type:fd(i),declaration:null,usagePositions:null,isFinal:!0}]),o,(function(t){var n=t[0].value,i=t[1].value;null==i&&e.main.getInterpreter().throwException("Der erste Parameter der Methode directionRelativeTo darf nicht null sein.");var r=n.intrinsicData.Actor,a=i.intrinsicData.Actor;if(!r.testdestroyed("directionRelativeTo")){if(!a.isDestroyed)return r.directionRelativeTo(a,o);r.worldHelper.interpreter.throwException("Die der Methode directionRelativeTo als Parameter übergebene Figur ist bereits zerstört.")}}),!1,!1,"Gibt die Richtung (top, right, bottom oder left) zurück, in der das graphische Objekt relativ zum übergebenen graphischen Objekt steht.",!1)),i.addMethod(new T("moveTo",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("moveTo")||t.move(n-t.getCenterX(),i-t.getCenterY())}),!1,!1,"Verschiebt das Grafikobjekt so, dass sich sein 'Mittelpunkt' an den angegebenen Koordinaten befindet.",!1)),i.addMethod(new T("defineCenter",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("defineCenter")||t.defineCenter(n,i)}),!1,!1,"Setzt fest, wo der 'Mittelpunkt' des Objekts liegen soll. Dieser Punkt wird als Drehpunkt der Methode rotate, als Zentrum der Methode Scale und als Referenzpunkt der Methode moveTo benutzt.",!1)),i.addMethod(new T("defineCenterRelative",new x([{identifier:"xRel",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"yRel",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("defineCenterRelative")||t.defineCenterRelative(n,i)}),!1,!1,"Setzt fest, wo der 'Mittelpunkt' des Objekts liegen soll. Dabei bedeutet (XRel/YRel) = (0/0) die linke obere Ecke der Bounding Box des Objekts, (XRel/YRel) = (1/1) die rechte untere Ecke. Defaultwert ist (XRel/YRel) = (0.5/0.5), also der Diagonalenschnittpunkt der Bounding Box. Dieser Punkt wird als Drehpunkt der Methode rotate, als Zentrum der Methode Scale und als Referenzpunkt der Methode moveTo benutzt.\n\nVORSICHT: Diese Methode arbeitet nicht mehr korrekt, wenn das Objekt schon gedreht wurde!",!1)),i.addMethod(new T("setAngle",new x([{identifier:"angleDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setAngle")||t.rotate(n-t.angle)}),!1,!1,"Dreht das Objekt zur angegebenen Richtung.",!1)),i.addMethod(new T("setDefaultVisibility",new x([{identifier:"visibility",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[1].value;dc.setDefaultVisibility(t)}),!1,!0,'Setzt den Standardwert für das Attribut "visible". Dieser wird nachfolgend immer dann verwendet, wenn ein neues grafisches Objekt instanziert wird.',!1)),i.addMethod(new T("setVisible",new x([{identifier:"visible",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setVisible")||t.setVisible(n)}),!1,!1,"Macht das Grafikobjekt sichtbar (visible == true) bzw. unsichtbar (visible == false).",!1)),i.addMethod(new T("setStatic",new x([{identifier:"isStatic",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setStatic")||t.setStatic(n)}),!1,!1,"setStatic(true) hat zur Folge, dass die Ansicht des Objekts durch Transformationen des World-Objekts nicht verändert wird.",!1)),i.addMethod(new T("onMouseEnter",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil in das Objekt hineinbewegt.",!1)),i.addMethod(new T("onMouseLeave",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil in das Objekt hineinbewegt.",!1)),i.addMethod(new T("onMouseDown",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"key",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil über dem Objekt befindet und der Benutzer eine Maustaste nach unten drückt.",!1)),i.addMethod(new T("onMouseUp",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"key",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil über dem Objekt befindet und der Benutzer eine Maustaste loslässt.",!1)),i.addMethod(new T("onMouseMove",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn sich der Mauspfeil über dem Objekt befindet und bewegt.",!1)),i.addMethod(new T("tint",new x([{identifier:"colorAsRGBAString",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"Überzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht.",!1)),i.addMethod(new T("tint",new x([{identifier:"colorAsInt",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"Überzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht. Die Farbe wird als int-Wert angegeben, praktischerweise hexadezimal, also z.B. tint(0x303030).",!1)),i.addMethod(new T("startTrackingEveryMouseMovement",new x([]),Rt,(function(e){e[0].value.intrinsicData.Actor.trackMouseMove=!0}),!1,!1,'Sorgt dafür, dass ab jetzt JEDE Bewegung des Mauszeigers (auch wenn sich dieser außerhalb des Objekts befindet) ein MouseMove-Ereignis für dieses Objekt auslöst. -> Praktisch zur Umsetzung des "Ziehens" von Objekten mit der Maus!',!1)),i.addMethod(new T("stopTrackingEveryMouseMovement",new x([]),Rt,(function(e){e[0].value.intrinsicData.Actor.trackMouseMove=!1}),!1,!1,'Sorgt dafür, dass ab jetzt nur noch dann Bewegungen des Mauszeigers ein MouseMove-Ereignis für dieses Objekt auslösen, wenn sich der Mauszeiger über dem Objekt befindet. -> Praktisch zur Umsetzung des "Ziehens" von Objekten mit der Maus!',!1)),i.addMethod(new T("reactToMouseEventsWhenInvisible",new x([{identifier:"react",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.reactToMouseEventsWhenInvisible=n}),!1,!1,"Legt fest, ob das Objekt auf Mausevents (buttondown, mouse move, ...) reagiert, wenn es unsichtbar ist.",!1)),i.addMethod(new T("tint",new x([{identifier:"colorAsRGBAString",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("tint")||i.tint(n)}),!1,!1,"Überzieht das Grafikobjekt mit einer halbdurchsichtigen Farbschicht.",!1)),i.addMethod(new T("defineDirection",new x([{identifier:"angleInDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("defineDirection")||(i.directionRad=n/180*Math.PI)}),!1,!1,"Setzt die Blickrichtung des graphischen Objekts. Dies ist die Richtung, in die es durch Aufruf der Methode forward bewegt wird. \nBemerkung: die Methode rotate ändert auch die Blickrichtung!",!1)),i.addMethod(new T("forward",new x([{identifier:"distance",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("forward")||i.forward(n)}),!1,!1,"Bewegt das Objekt um die angegebene Länge in Richtung seiner Blickrichtung.\nBemerkung: Die Blickrichtung kann mit defineDirection gesetzt werden.",!1)),i.addMethod(new T("copy",new x([]),fd(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!0,!1,"Erstellt eine Kopie des Grafikobjekts und git sie zurück.",!1)),i.addMethod(new T("bringToFront",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("bringToFront"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),i.addMethod(new T("sendToBack",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("sendToBack"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),i.addMethod(new T("getHitPolygon",new x([]),new fe(a),(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHitPolygon"))return t.getHitPolygon(a)}),!1,!1,"Gibt ein Array zurück, das die vier Eckpunkte des Hit-Polygons in Form von Vector2-Ortsvektoren enthält. Bei den Klassen Rectangle, Triangle und Polygon sind dies die Eckpunkte.",!1)),i}return ad(n)}(J),yd=function(e){ld(n,e);var t=cd(n);function n(e,i){var r;sd(this,n),(r=t.call(this,e,i)).angle=0,r.hitPolygonInitial=null,r.hitPolygonTransformed=null,r.hitPolygonDirty=!0,r.reactToMouseEventsWhenInvisible=!1,r.mouseLastSeenInsideObject=!1,r.trackMouseMove=!1,r.scaleFactor=1,r.directionRad=0,r.lastMoveDx=0,r.lastMoveDy=0;for(var o=null,a=0,s=[{identifier:"MouseUp",signature:"(double, double, int)"},{identifier:"MouseDown",signature:"(double, double, int)"},{identifier:"MouseMove",signature:"(double, double)"},{identifier:"MouseEnter",signature:"(double, double)"},{identifier:"MouseLeave",signature:"(double, double)"}];a<s.length;a++){var l=s[a],u=i.class.getMethodBySignature("on"+l.identifier+l.signature);null==(null==u?void 0:u.program)&&null==(null==u?void 0:u.invoke)||(null==o&&(o={shapeHelper:fd(r),types:{},methods:{}},r.worldHelper.mouseListenerShapes.push(o)),o.types[l.identifier.toLowerCase()]=!0,o.methods[l.identifier.toLowerCase()]=u)}return null==r.worldHelper.defaultGroup&&r.worldHelper.shapes.push(fd(r)),r}return ad(n,[{key:"copyFrom",value:function(e){if(this.centerXInitial=e.centerXInitial,this.centerYInitial=e.centerYInitial,null!=e.hitPolygonInitial){this.hitPolygonInitial=[];var t,n=td(e.hitPolygonInitial);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.hitPolygonInitial.push(Object.assign({},i))}}catch(e){n.e(e)}finally{n.f()}}this.setHitPolygonDirty(!0),this.hitPolygonDirty=e.hitPolygonDirty,this.reactToMouseEventsWhenInvisible=e.reactToMouseEventsWhenInvisible,this.mouseLastSeenInsideObject=e.mouseLastSeenInsideObject,this.displayObject.localTransform.copyFrom(e.displayObject.transform.localTransform),this.displayObject.updateTransform()}},{key:"setHitPolygonDirty",value:function(e){this.hitPolygonDirty=e}},{key:"bringOnePlaneFurtherToFront",value:function(){var e=this.displayObject.parent,t=e.children.length-1,n=e.getChildIndex(this.displayObject);n<t&&e.setChildIndex(this.displayObject,n+1)}},{key:"bringOnePlaneFurtherToBack",value:function(){var e=this.displayObject.parent,t=e.getChildIndex(this.displayObject);t>0&&e.setChildIndex(this.displayObject,t-1)}},{key:"bringToFront",value:function(){var e=this.displayObject.parent,t=e.children.length-1;e.setChildIndex(this.displayObject,t)}},{key:"sendToBack",value:function(){this.displayObject.parent.setChildIndex(this.displayObject,0)}},{key:"addToDefaultGroupAndSetDefaultVisibility",value:function(){(this.displayObject.visible=dc.defaultVisibility,null!=this.worldHelper.defaultGroup)&&(this.runtimeObject.intrinsicData.Actor=this,this.worldHelper.defaultGroup.add(this.runtimeObject))}},{key:"tint",value:function(e){var t;t="string"==typeof e?rn.parseColorToOpenGL(e).color:e,this.displayObject.tint&&(this.displayObject.tint=t),this.render()}},{key:"setVisible",value:function(e){this.displayObject.visible=e}},{key:"collidesWithAnyShape",value:function(){this.displayObject.updateTransform(),this.hitPolygonDirty&&this.transformHitPolygon();var e,t=td(this.worldHelper.shapes);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this!=n)if(n.shapes||n.turtle){if(n.collidesWith(this))return!0}else if(this.turtle){if(this.collidesWith(n))return!0}else{var i=this.displayObject.getBounds(),r=n.displayObject.getBounds();if(!(i.left>r.right||r.left>i.right)&&!(i.top>r.bottom||r.top>i.bottom)&&(n.hitPolygonDirty&&n.transformHitPolygon(),Jc(this.hitPolygonTransformed,n.hitPolygonTransformed,!0,!0)))return!0}}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"collidesWith",value:function(e){if(null==this.lineElements&&null!=e.lineElements)return e.collidesWith(this);if(e.shapes)return e.collidesWith(this);if(null!=this.displayObject&&null!=e.displayObject){this.displayObject.updateTransform(),e.displayObject.updateTransform();var t=this.displayObject.getBounds(),n=e.displayObject.getBounds();return!(t.left>n.right||n.left>t.right)&&(!(t.top>n.bottom||n.top>t.bottom)&&(null==this.hitPolygonInitial||null==e.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),e.hitPolygonDirty&&e.transformHitPolygon(),Jc(this.hitPolygonTransformed,e.hitPolygonTransformed,!0,!0))))}}},{key:"directionRelativeTo",value:function(e,t){this.displayObject.updateTransform(),e.displayObject.updateTransform();var n=this.displayObject.getBounds(),i=e.displayObject.getBounds(),r=i.left-n.right,o=n.left-i.right,a=i.top-n.bottom,s=n.top-i.bottom,l=t.enumInfoList,u=[];this.lastMoveDx>0?u.push({distance:r,ei:l[3]}):this.lastMoveDx<0&&u.push({distance:o,ei:l[1]}),this.lastMoveDy>0?u.push({distance:a,ei:l[0]}):this.lastMoveDy<0&&u.push({distance:s,ei:l[2]}),0==u.length&&(u=[{distance:r,ei:l[3]},{distance:o,ei:l[1]},{distance:a,ei:l[0]},{distance:s,ei:l[2]}]);for(var c=u[0].distance,d=u[0].ei,f=1;f<u.length;f++)u[f].distance>c&&(c=u[f].distance,d=u[f].ei);return d.object}},{key:"moveBackFrom",value:function(e,t){var n=this.lastMoveDx,i=this.lastMoveDy,r=Math.sqrt(n*n+i*i);if(!(r<.001)&&this.collidesWith(e)){var o=0;this.move(-n,-i);for(var a=-1;this.collidesWith(e);){o=a;var s=2*a;if(this.move(n*(s-a),i*(s-a)),((a=s)+1)*r<-100)return void this.move(n*(-1-a),i*(-1-a))}for(var l=a,u=!1;(o-l)*r>1;){var c=(o+l)/2;this.move(n*(c-a),i*(c-a)),(u=this.collidesWith(e))?o=c:l=c,a=c}t&&!u?this.move(n*(o-a),i*(o-a)):u&&!t&&this.move(n*(l-a),i*(l-a)),this.lastMoveDx=n,this.lastMoveDy=i}}},{key:"containsPoint",value:function(e,t){return!!this.displayObject.getBounds().contains(e,t)&&(null==this.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),Zc(this.hitPolygonTransformed,{x:e,y:t})))}},{key:"transformHitPolygon",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),this.hitPolygonTransformed=[];var t,n=this.displayObject.transform.worldTransform,i=td(this.hitPolygonInitial);try{for(i.s();!(t=i.n()).done;){var r=t.value;this.hitPolygonTransformed.push({x:n.a*r.x+n.c*r.y+n.tx,y:n.b*r.x+n.d*r.y+n.ty})}}catch(e){i.e(e)}finally{i.f()}this.setHitPolygonDirty(!1)}},{key:"isOutsideView",value:function(){var e=this.displayObject.getBounds(!0),t=this.worldHelper;return e.right<t.currentLeft||e.left>t.currentLeft+t.currentWidth||e.bottom<t.currentTop||e.top>t.currentTop+t.currentHeight}},{key:"defineCenter",value:function(e,t){var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n),this.centerXInitial=n.x,this.centerYInitial=n.y}},{key:"defineCenterRelative",value:function(e,t){var n=this.displayObject.getBounds(!1);this.defineCenter(n.left+n.width*e,n.top+n.height*t)}},{key:"move",value:function(e,t){0==e&&0==t||(this.lastMoveDx=e,this.lastMoveDy=t),this.displayObject.localTransform.translate(e,t),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0)}},{key:"forward",value:function(e){var t=e*Math.cos(this.directionRad),n=-e*Math.sin(this.directionRad);this.move(t,n)}},{key:"rotate",value:function(e,t,n){if(null==t){var i=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(i,i),t=i.x,n=i.y}else{var r=new PIXI.Point(t,n);this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.applyInverse(r,r),this.displayObject.localTransform.apply(r,r),t=r.x,n=r.y}this.displayObject.localTransform.translate(-t,-n),this.displayObject.localTransform.rotate(-e/180*Math.PI),this.displayObject.localTransform.translate(t,n),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0),this.angle+=e,this.directionRad+=e/180*Math.PI}},{key:"mirrorXY",value:function(e,t){var n,i,r=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(r,r),n=r.x,i=r.y,this.displayObject.localTransform.translate(-n,-i),this.displayObject.localTransform.scale(e,t),this.displayObject.localTransform.translate(n,i),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0)}},{key:"scale",value:function(e,t,n){if(null==t){var i=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.localTransform.apply(i,i),t=i.x,n=i.y}else{var r=new PIXI.Point(t,n);this.displayObject.transform.worldTransform.applyInverse(r,r),this.displayObject.localTransform.apply(r,r),t=r.x,n=r.y}this.displayObject.localTransform.translate(-t,-n),this.displayObject.localTransform.scale(e,e),this.displayObject.localTransform.translate(t,n),this.displayObject.transform.onChange(),this.displayObject.updateTransform(),this.setHitPolygonDirty(!0),this.scaleFactor*=e}},{key:"getCenterX",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);return this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),e.x}},{key:"getCenterY",value:function(){var e=new PIXI.Point(this.centerXInitial,this.centerYInitial);return this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(e,e),e.y}},{key:"destroy",value:function(){if(id(hd(n.prototype),"destroy",this).call(this),null!=this.belongsToGroup)this.belongsToGroup.remove(this.runtimeObject);else{var e=this.worldHelper.shapes.indexOf(this);e>=0&&this.worldHelper.shapes.splice(e,1)}var t=this.worldHelper.shapesNotAffectedByWorldTransforms.indexOf(this);t>=0&&this.worldHelper.shapesNotAffectedByWorldTransforms.splice(t,1)}},{key:"getCollidingShapes",value:function(e,t){var n,i=[],r=td(e.shapes);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.intrinsicData.Actor.collidesWith(this)&&i.push({type:t,value:o})}}catch(e){r.e(e)}finally{r.f()}return i}},{key:"getHitPolygon",value:function(e){this.hitPolygonDirty&&this.transformHitPolygon();var t,n=[],i=td(this.hitPolygonTransformed);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=new E(e);o.attributes=[{type:Wt,value:r.x},{type:Wt,value:r.y}],n.push({type:e,value:o})}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"setStatic",value:function(e){var t=this.worldHelper.shapesNotAffectedByWorldTransforms;if(e)t.push(this);else{var n=t.indexOf(this);n>=0&&t.splice(n,1)}}}]),n}(Lc);function vd(e){return(vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function md(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gd(e,t,n){return t&&md(e.prototype,t),n&&md(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kd(e,t)}function kd(e,t){return(kd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Td(e);if(t){var r=Td(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pd(this,n)}}function Pd(e,t){if(t&&("object"===vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jd(e)}function jd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Td(e){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xd=function(e){wd(n,e);var t=Sd(n);function n(e){var i;bd(this,n),(i=t.call(this,"Bitmap",e,"Rechteckige Bitmap mit beliebiger Auflösung und Positionierung in der Grafikausgabe")).setBaseClass(e.typeStore.getType("Shape"));var r=i.module.typeStore.getType("Color");return i.addMethod(new T("Bitmap",new x([{identifier:"pointsX",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"pointsY",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"left",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"displayWidth",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"displayHeight",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=t[6].value,u=new Md(i,r,o,a,s,l,e.main.getInterpreter(),n);n.intrinsicData.Actor=u}),!1,!1,"Instanziert eine neue Bitmap. pointsX bzw. pointsY bezeichnet Anzahl der Bildpunkte in x bzw. y-Richtung, (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),i.addMethod(new T("getColor",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),r,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value;return t.intrinsicData.Actor.getFarbeAsObject(n,i,r)}),!1,!1,"Gibt die Farbe des Punkts (x, y) zurück.",!1)),i.addMethod(new T("setColor",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;t.intrinsicData.Actor.setzeFarbe(n,i,r,o)}),!1,!1,"Setzt die Farbe des Pixels bei (x, y). Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0.",!1)),i.addMethod(new T("setColor",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;t.intrinsicData.Actor.setzeFarbe(n,i,r)}),!1,!1,"Setzt die Farbe des Pixels bei (x, y). Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau.",!1)),i.addMethod(new T("setColor",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;t.intrinsicData.Actor.setzeFarbe(n,i,r)}),!1,!1,'Setzt die Farbe des Pixels bei (x, y). Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),i.addMethod(new T("setColor",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;t.intrinsicData.Actor.setzeFarbe(n,i,r,o)}),!1,!1,'Setzt die Farbe des Pixels bei (x, y). Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)". 0.0 <= alpha <= 1.0.',!1)),i.addMethod(new T("isColor",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"colorAsRGBAString",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;return t.intrinsicData.Actor.istFarbe(n,i,r)}),!1,!1,'Gibt genau dann true zurück, wenn das Pixel bei (x, y) die angegebene Farbe besitzt. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),i.addMethod(new T("isColor",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value;return t.intrinsicData.Actor.istFarbe(n,i,r,1)}),!1,!1,"Gibt genau dann true zurück, wenn das Pixel bei (x, y) die angegebene Farbe besitzt. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0",!1)),i.addMethod(new T("fillAll",new x([{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value;t.intrinsicData.Actor.fillAll(n,i)}),!1,!1,"Füllt die ganze Bitmap mit einer Farbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0",!1)),i.addMethod(new T("fillAll",new x([{identifier:"colorAsRGBAString",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.fillAll(n)}),!1,!1,'Füllt die ganze Bitmap mit einer Farbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),i.addMethod(new T("copy",new x([]),jd(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Bitmap-Objekts und git sie zurück.",!1)),i.addMethod(new T("clone",new x([]),jd(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("clone"))return n.getCopyOrClone(t.class,!0)}),!1,!1,"Erstellt ein weiteres Bitmap-Objekt, das auf dieselben Pixeldaten zurückgreift.",!1)),i}return gd(n)}(J),Md=function(e){wd(n,e);var t=Sd(n);function n(e,i,r,o,a,s,l,u,c){var d,f=arguments.length>9&&void 0!==arguments[9]&&arguments[9];bd(this,n),(d=t.call(this,l,u)).anzahlX=e,d.anzahlY=i,d.left=r,d.top=o,d.width=a,d.height=s,d.isBigEndian=!0;var h=new Uint32Array([287454020]),p=new Uint8Array(h.buffer);68===p[0]?d.isBigEndian=!1:17===p[0]&&(d.isBigEndian=!0),d.centerXInitial=r+a/2,d.centerYInitial=o+s/2,d.hitPolygonInitial=[{x:r,y:o},{x:r,y:o+s},{x:r+a,y:o+s},{x:r+a,y:o}],d.initGraphics(c,f);var y=d.displayObject;y.localTransform.scale(a/e,s/i),y.localTransform.translate(r,o),y.transform.onChange();var v=new PIXI.Point(d.centerXInitial,d.centerYInitial);return y.localTransform.applyInverse(v,v),d.centerXInitial=v.x,d.centerYInitial=v.y,d.addToDefaultGroupAndSetDefaultVisibility(),d}return gd(n,[{key:"getCopy",value:function(e){return this.getCopyOrClone(e,!1)}},{key:"getCopyOrClone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new E(e),r=new n(this.anzahlX,this.anzahlY,this.left,this.top,this.width,this.height,this.worldHelper.interpreter,i,this,t);return i.intrinsicData.Actor=r,r.copyFrom(this),r.render(),i}},{key:"render",value:function(){}},{key:"initGraphics",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.data=null==e?new Uint32Array(this.anzahlX*this.anzahlY):t?e.data:new Uint32Array(e.data);var n=new Uint8Array(this.data.buffer);if(t)this.texture=e.texture;else{var i=new PIXI.BufferResource(n,{width:this.anzahlX,height:this.anzahlY}),r=new PIXI.BaseTexture(i,{scaleMode:PIXI.SCALE_MODES.NEAREST});this.texture=new PIXI.Texture(r)}this.displayObject=new PIXI.Sprite(this.texture),this.worldHelper.stage.addChild(this.displayObject)}},{key:"uploadData",value:function(){this.texture.baseTexture.update()}},{key:"getFarbeAsObject",value:function(e,t,n){var i=e+t*this.anzahlX,r=new E(n),o=this.data[i],a={red:255&o,green:(65280&o)>>8,blue:(16711680&o)>>16,hex:rn.intColorToHexRGB(o>>8)};return r.intrinsicData=a,r}},{key:"istFarbe",value:function(e,t,n,i){var r,o=e+t*this.anzahlX;if("string"==typeof n){var a=rn.parseColorToOpenGL(n);r=a.color,a.alpha}else r=n;var s=this.data[o];return r==65536*(255&s)+256*((65280&s)>>8)+((16711680&s)>>16)}},{key:"setzeFarbe",value:function(e,t,n,i){var r,o=e+t*this.anzahlX;if("string"==typeof n){var a=rn.parseColorToOpenGL(n);r=a.color,null==i&&(i=a.alpha)}else r=n,null==i&&(i=1);this.data[o]=16777216*Math.round(255*i)+((255&r)<<16)+(65280&r)+((16711680&r)>>16),this.uploadData()}},{key:"fillAll",value:function(e,t){var n;if("string"==typeof e){var i=rn.parseColorToOpenGL(e);n=i.color,t=i.alpha}else n=e;this.data.fill(16777216*Math.round(255*t)+((255&n)<<16)+(65280&n)+((16711680&n)>>16)),this.uploadData()}},{key:"setzeFarbeRGBA",value:function(e,t,n,i,r,o){var a=4278190080*o+65536*r+256*i+n,s=e+t*this.anzahlX;this.data[s]=a,this.uploadData()}},{key:"getFarbe",value:function(e,t){var n=16777215&this.data[e+t*this.anzahlX];return(255&n)<<16+(65280&n)+(16711680&n)>>16}},{key:"getAlpha",value:function(e,t){return(4278190080&this.data[e+t*this.anzahlX])>>24/255}}]),n}(yd);function Od(e){return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cd(){return(Cd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Ad(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Ad(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ld(e)););return e}function Ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Id(e,t,n){return t&&Dd(e.prototype,t),n&&Dd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_d(e,t)}function _d(e,t){return(_d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ld(e);if(t){var r=Ld(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Rd(this,n)}}function Rd(e,t){if(t&&("object"===Od(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bd(e)}function Bd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ld(e){return(Ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wd=function(e){Fd(n,e);var t=zd(n);function n(e){var i;Ed(this,n),(i=t.call(this,"FilledShape",e,"Basisklasse für grafische Objekte mit Füllfarbe und Randfarbe, beide wahlweise auch transparent")).setBaseClass(e.typeStore.getType("Shape")),i.isAbstract=!0;Bd(i);var r=i.module.typeStore.getType("Color");return i.addMethod(new T("getFillColor",new x([]),r,(function(e){var t=e[0].value.intrinsicData.Actor;return t.getFarbeAsObject(t.fillColor,t.fillColor,r)}),!1,!1,"Gibt die Füllfarbe des Objekts zurück.",!1)),i.addMethod(new T("getBorderColor",new x([]),r,(function(e){var t=e[0].value.intrinsicData.Actor;return t.getFarbeAsObject(t.borderColor,t.borderColor,r)}),!1,!1,"Gibt die Randfarbe des Objekts zurück.",!1)),i.addAttribute(new j("borderWidth",Wt,(function(e){var t=e.object.intrinsicData.Actor;e.value=null!=t?t.borderWidth:Number.NaN}),!1,_.protected,!0,"Randbreite in Pixeln")),i.addMethod(new T("setAlpha",new x([{identifier:"alphaValue",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setAlpha")||i.setAlpha(n)}),!1,!1,'Setzt die Durchsichtigkeit von Füllung und Rand. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig."',!1)),i.addMethod(new T("getAlpha",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getAlpha"))return t.fillAlpha}),!1,!1,'Setzt die Durchsichtigkeit von Füllung und Rand. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig."',!1)),i.addMethod(new T("setFillColor",new x([{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setFillColor")||i.setFillColor(n)}),!1,!1,"Setzt die Füllfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau",!1)),i.addMethod(new T("setDefaultBorder",new x([{identifier:"width",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[1].value,n=e[2].value;dc.setDefaultBorder(t,n)}),!1,!0,"Setzt Default-Eigenschaften des Randes. Sie werden nachfolgend immer dann verwendet, wenn ein neues grafisches Objekt erstellt wird. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0",!1)),i.addMethod(new T("setDefaultBorder",new x([{identifier:"width",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[1].value,n=e[2].value,i=e[3].value;dc.setDefaultBorder(t,n,i)}),!1,!0,"Setzt Default-Eigenschaften des Randes. Sie werden nachfolgend immer dann verwendet, wenn ein neues grafisches Objekt erstellt wird. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0",!1)),i.addMethod(new T("setDefaultFillColor",new x([{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[1].value,n=e[2].value;dc.setDefaultFillColor(t,n)}),!1,!0,"Setzt die Default-Füllfarbe. Sie wird nachfolgend immer dann verwendet, wenn ein neues grafisches Objekt erstellt wird. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0",!1)),i.addMethod(new T("setDefaultFillColor",new x([{identifier:"color",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[1].value;dc.setDefaultFillColor(t)}),!1,!0,"Setzt die Default-Füllfarbe. Sie wird nachfolgend immer dann verwendet, wenn ein neues grafisches Objekt erstellt wird. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0",!1)),i.addMethod(new T("setFillColor",new x([{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setFillColor")||r.setFillColor(n,i)}),!1,!1,"Setzt die Füllfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0",!1)),i.addMethod(new T("setFillColor",new x([{identifier:"color",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setFillColor")||i.setFillColor(n)}),!1,!1,'Setzt die Füllfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),i.addMethod(new T("setFillColor",new x([{identifier:"color",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setFillColor")||r.setFillColor(n,i)}),!1,!1,'Setzt die Füllfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" oder "rgb(172, 22, 18)" und 0.0 <= alpha <= 1.0"',!1)),i.addMethod(new T("setBorderColor",new x([{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderColor")||i.setBorderColor(n)}),!1,!1,'Setzt die Randfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau"',!1)),i.addMethod(new T("setBorderColor",new x([{identifier:"color",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setBorderColor")||r.setBorderColor(n,i)}),!1,!1,'Setzt die Randfarbe. Die Farbe wird als int-Wert gegeben, wobei farbe == 255*255*rot + 255*grün + blau und 0.0 <= alpha <= 1.0"',!1)),i.addMethod(new T("setBorderColor",new x([{identifier:"color",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("setBorderColor")||r.setBorderColor(n,i)}),!1,!1,'Setzt die Randfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" oder "rgb(172, 22, 18)" und 0.0 <= alpha <= 1.0"',!1)),i.addMethod(new T("setBorderColor",new x([{identifier:"colorAsRGBAString",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderColor")||i.setBorderColor(n)}),!1,!1,'Setzt die Randfarbe. Die Farbe ist entweder eine vordefinierte Farbe (Color.black, Color.red, ...) oder eine css-Farbe der Art "#ffa7b3" (ohne alpha), "#ffa7b380" (mit alpha), "rgb(172, 22, 18)" oder "rgba(123, 22,18, 0.3)"',!1)),i.addMethod(new T("setBorderWidth",new x([{identifier:"widthInPixel",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setBorderWidth")||i.setBorderWidth(n)}),!1,!1,'Setzt die Linienbreite des Randes (Einheit: Pixel)"',!1)),i.setupAttributeIndicesRecursive(),i}return Id(n,[{key:"rgbaToHex",value:function(e,t){for(var n=null==e?"---":e.toString(16);n.length<6;)n="0"+n;var i=Math.round(255*t).toString(16);return i.length<2&&(i="0"+i),"#"+n+i}}]),n}(J),Gd=function(e){Fd(n,e);var t=zd(n);function n(e,i){var r;return Ed(this,n),(r=t.call(this,e,i)).borderColor=dc.defaultBorderColor,r.borderAlpha=dc.defaultBorderAlpha,r.borderWidth=dc.defaultBorderWidth,r.fillColor=dc.defaultFillColor,r.fillAlpha=dc.defaultFillAlpha,r}return Id(n,[{key:"copyFrom",value:function(e){Cd(Ld(n.prototype),"copyFrom",this).call(this,e),this.fillColor=e.fillColor,this.fillAlpha=e.fillAlpha,this.borderColor=e.borderColor,this.borderAlpha=e.borderAlpha,this.borderWidth=e.borderWidth}},{key:"setAlpha",value:function(e){this.fillAlpha=e,this.borderAlpha=e,this.render()}},{key:"setBorderColor",value:function(e,t){if("string"==typeof e){var n=rn.parseColorToOpenGL(e);this.borderColor=n.color,this.borderAlpha=null==t?n.alpha:t}else this.borderColor=e,this.borderAlpha=t;this.render()}},{key:"setFillColor",value:function(e,t){if("string"==typeof e){var n=rn.parseColorToOpenGL(e);this.fillColor=n.color,this.fillAlpha=null==t?n.alpha:t}else this.fillColor=e,null!=t&&(this.fillAlpha=t);this.render()}},{key:"setBorderWidth",value:function(e){this.borderWidth=e,this.render()}},{key:"getFarbeAsObject",value:function(e,t,n){if(null==e)return null;var i=(16711680&e)>>16,r=(65280&e)>>8,o=255&e,a=new E(n),s={red:i,green:r,blue:o,hex:rn.intColorToHexRGB(e)};return a.intrinsicData=s,a}}]),n}(yd);function Nd(e){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $d(){return($d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Hd(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Hd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jd(e)););return e}function Vd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Kd(e,t,n){return t&&Vd(e.prototype,t),n&&Vd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ud(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zd(e,t)}function Zd(e,t){return(Zd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Jd(e);if(t){var r=Jd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return qd(this,n)}}function qd(e,t){if(t&&("object"===Nd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yd(e)}function Yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jd(e){return(Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ef=function(e){Ud(n,e);var t=Xd(n);function n(e){var i;return Qd(this,n),(i=t.call(this,"Circle",e,"Kreis")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("Circle",new x([{identifier:"mx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"r",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new tf(i,r,o,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert einen neuen Kreis. (mx, my) ist der Mittelpunt, r sein Radius.",!0)),i.addMethod(new T("setRadius",new x([{identifier:"radius",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||i.setRadius(n)}),!1,!1,'Setzt den Radius des Kreises."',!1)),i.addMethod(new T("getRadius",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getRadius"))return t.r*t.displayObject.scale.x}),!1,!1,"Gibt den Radius zurück.",!1)),i.addMethod(new T("copy",new x([]),Yd(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Circle-Objekts und git sie zurück.",!1)),i}return Kd(n)}(J),tf=function(e){Ud(n,e);var t=Xd(n);function n(e,i,r,o,a){var s;return Qd(this,n),(s=t.call(this,o,a)).mx=e,s.my=i,s.r=r,s.centerXInitial=e,s.centerYInitial=i,s.render(),s.addToDefaultGroupAndSetDefaultVisibility(),s}return Kd(n,[{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.mx,this.my,this.r,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"render",value:function(){this.hitPolygonInitial=[];for(var e=Math.PI/8,t=0;t<16;t++){var n=e*t;this.hitPolygonInitial.push({x:this.mx+this.r*Math.cos(n),y:this.my+this.r*Math.sin(n)})}this.hitPolygonDirty=!0;var i=this.displayObject;null==this.displayObject?(i=new PIXI.Graphics,this.displayObject=i,this.worldHelper.stage.addChild(i)):i.clear(),null!=this.fillColor&&i.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&i.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),i.drawCircle(this.mx,this.my,this.r),i.closePath(),null!=this.fillColor&&i.endFill()}},{key:"setRadius",value:function(e){this.r=e,this.render()}},{key:"isOutsideView",value:function(){return $d(Jd(n.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my;return i*i+r*r<=this.r*this.r}},{key:"collidesWith",value:function(e){if(e instanceof n){var t=new PIXI.Point(this.centerXInitial,this.centerYInitial);this.displayObject.updateTransform(),this.displayObject.transform.worldTransform.apply(t,t);var i=this.r*this.displayObject.scale.x,r=new PIXI.Point(e.centerXInitial,e.centerYInitial);e.displayObject.updateTransform(),e.displayObject.transform.worldTransform.apply(r,r);var o=e.r*e.displayObject.scale.x,a=t.x-r.x,s=t.y-r.y;return a*a+s*s<=(i+o)*(i+o)}return $d(Jd(n.prototype),"collidesWith",this).call(this,e)}}]),n}(Gd);function nf(e){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rf(){return(rf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=of(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function of(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pf(e)););return e}function af(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sf(e,t,n){return t&&af(e.prototype,t),n&&af(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cf(e,t)}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function df(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pf(e);if(t){var r=pf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ff(this,n)}}function ff(e,t){if(t&&("object"===nf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hf(e)}function hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pf(e){return(pf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yf=function(e){uf(n,e);var t=df(n);function n(e){var i;return lf(this,n),(i=t.call(this,"Sector",e,"Kreisbogen/Kreissektor")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("Sector",new x([{identifier:"mx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"r",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"startAngle",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"endAngle",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new vf(i,r,o,a/180*Math.PI,s/180*Math.PI,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=l}),!1,!1,"Instanziert einen neuen Kreisbogen bzw. (falls die Füllfarbe nicht null ist) Kreissektor. (mx, my) ist der Mittelpunt, r sein Radius. Der Kreisbogen wird von startAngle bis endAngle (beides in Grad) gegen den Uhrzeigersinn gezogen.",!0)),i.addMethod(new T("drawRadii",new x([{identifier:"radiiZeichnen",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("drawRadii")||(i.drawRadii=n,i.render())}),!1,!1,"Legt fest, ob beim Zeichnen des Umrisses auch die beiden Radii ( = Strecken vom Mittelpunkt zur Kreislinie) mitgezeichnet werden sollen.",!1)),i.addMethod(new T("setRadius",new x([{identifier:"radius",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||i.setRadius(n)}),!1,!1,'Setzt den Radius des Kreisbogens/Kreissektors."',!1)),i.addMethod(new T("setStartAngle",new x([{identifier:"startWinkelInGrad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setStartAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.startAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Startwinkel des Kreisbogens/Kreissektors."',!1)),i.addMethod(new T("setEndAngle",new x([{identifier:"endWinkelInGrad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setEndAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.endAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Endwinkel des Kreisbogens/Kreissektors."',!1)),i.addMethod(new T("getRadius",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getRadius"))return t.r*t.displayObject.scale.x}),!1,!1,"Gibt den Radius zurück.",!1)),i.addMethod(new T("getStartAngle",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getStartAngle"))return t.startAngleRad/Math.PI*180}),!1,!1,"Gibt den Startwinkel in Grad zurück.",!1)),i.addMethod(new T("getEndAngle",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getEndAngle"))return t.endAngleRad/Math.PI*180}),!1,!1,"Gibt den Endwinkel in Grad zurück.",!1)),i.addMethod(new T("copy",new x([]),hf(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Sector-Objekts und git sie zurück.",!1)),i}return sf(n)}(J),vf=function(e){uf(n,e);var t=df(n);function n(e,i,r,o,a,s,l,u){var c;return lf(this,n),(c=t.call(this,l,u)).mx=e,c.my=i,c.r=r,c.startAngleRad=o,c.endAngleRad=a,c.drawRadii=s,c.centerXInitial=e,c.centerYInitial=i,c.render(),c.addToDefaultGroupAndSetDefaultVisibility(),c}return sf(n,[{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.mx,this.my,this.r,this.startAngleRad,this.endAngleRad,this.drawRadii,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"render",value:function(){this.hitPolygonInitial=[];var e=this.endAngleRad-this.startAngleRad;this.hitPolygonInitial.push({x:this.mx,y:this.my});for(var t=0;t<16;t++){var n=this.startAngleRad+e*t;this.hitPolygonInitial.push({x:this.mx+this.r*Math.cos(n),y:this.my+this.r*Math.sin(n)})}this.hitPolygonInitial.push({x:this.mx,y:this.my}),this.hitPolygonDirty=!0;var i=this.displayObject;null==this.displayObject?(i=new PIXI.Graphics,this.displayObject=i,this.worldHelper.stage.addChild(i)):i.clear(),null!=this.fillColor&&i.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&i.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),Math.abs(this.startAngleRad-this.endAngleRad)<1e-8?i.drawCircle(this.mx,this.my,this.r):(this.drawRadii&&i.moveTo(this.mx,this.my),i.arc(this.mx,this.my,this.r,-this.startAngleRad,-this.endAngleRad,!0),this.drawRadii&&i.lineTo(this.mx,this.my)),this.drawRadii&&i.closePath(),null!=this.fillColor&&i.endFill()}},{key:"setRadius",value:function(e){this.r=e,this.render()}},{key:"isOutsideView",value:function(){return rf(pf(n.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my,o=Math.atan2(-r,i);if(i*i+r*r<=this.r*this.r){var a=2*Math.PI,s=this.startAngleRad<0?a+this.startAngleRad:this.startAngleRad,l=this.endAngleRad<0?a+this.endAngleRad:this.endAngleRad,u=(o<0?a+o:o)>=s&&s<=l;return s<=l?u:!u}return!1}}]),n}(Gd);function mf(e){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gf(){return(gf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=bf(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function bf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Of(e)););return e}function wf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kf(e,t,n){return t&&wf(e.prototype,t),n&&wf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jf(e,t)}function jf(e,t){return(jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Of(e);if(t){var r=Of(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return xf(this,n)}}function xf(e,t){if(t&&("object"===mf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mf(e)}function Mf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Of(e){return(Of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cf=function(e){Pf(n,e);var t=Tf(n);function n(e){var i;return Sf(this,n),(i=t.call(this,"Arc",e,"Kreisbogenumriss (wahlweise gefüllt)")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("Arc",new x([{identifier:"mx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"innerRadius",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"outerRadius",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"startAngle",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"endAngle",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=t[6].value,u=new Af(i,r,o,a,s/180*Math.PI,l/180*Math.PI,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=u}),!1,!1,"Instanziert einen neuen Kreisbogen. (mx, my) ist der Mittelpunt, ri sein Innenradius, ra sein Außenradius. Der Kreisbogen wird von startAngle bis endAngle (beides in Grad) gegen den Uhrzeigersinn gezogen.",!0)),i.addMethod(new T("setInnerRadius",new x([{identifier:"innerRadius",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||(i.ri=n,i.render())}),!1,!1,'Setzt den inneren Radius des Kreisbogens"',!1)),i.addMethod(new T("setOuterRadius",new x([{identifier:"outerRadius",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setRadius")||(i.ra=n,i.render())}),!1,!1,'Setzt den äußeren Radius des Kreisbogens"',!1)),i.addMethod(new T("setStartAngle",new x([{identifier:"startWinkelInGrad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setStartAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.startAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Startwinkel des Kreisbogens/Kreissektors."',!1)),i.addMethod(new T("setEndAngle",new x([{identifier:"endWinkelInGrad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setEndAngle")||(n<0&&(n+=360*Math.ceil(-n/360)),n>360&&(n-=360*Math.trunc(n/360)),i.endAngleRad=n/180*Math.PI,i.render())}),!1,!1,'Setzt den Endwinkel des Kreisbogens/Kreissektors."',!1)),i.addMethod(new T("getInnerRadius",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getRadius"))return t.ri*t.displayObject.scale.x}),!1,!1,"Gibt den inneren Radius zurück.",!1)),i.addMethod(new T("getOuterRadius",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getOuterRadius"))return t.ra*t.displayObject.scale.x}),!1,!1,"Gibt den äußeren Radius zurück.",!1)),i.addMethod(new T("getStartAngle",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getStartAngle"))return t.startAngleRad/Math.PI*180}),!1,!1,"Gibt den Startwinkel in Grad zurück.",!1)),i.addMethod(new T("getEndAngle",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getEndAngle"))return t.endAngleRad/Math.PI*180}),!1,!1,"Gibt den Endwinkel in Grad zurück.",!1)),i.addMethod(new T("copy",new x([]),Mf(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Arc-Objekts und git sie zurück.",!1)),i}return kf(n)}(J),Af=function(e){Pf(n,e);var t=Tf(n);function n(e,i,r,o,a,s,l,u,c){var d;return Sf(this,n),(d=t.call(this,u,c)).mx=e,d.my=i,d.ri=r,d.ra=o,d.startAngleRad=a,d.endAngleRad=s,d.drawRadii=l,d.centerXInitial=e,d.centerYInitial=i,d.render(),d.addToDefaultGroupAndSetDefaultVisibility(),d}return kf(n,[{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.mx,this.my,this.ri,this.ra,this.startAngleRad,this.endAngleRad,this.drawRadii,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"render",value:function(){this.hitPolygonInitial=[];for(var e=this.endAngleRad-this.startAngleRad,t=0;t<16;t++){var n=this.startAngleRad+e*t;this.hitPolygonInitial.push({x:this.mx+this.ra*Math.cos(n),y:this.my+this.ra*Math.sin(n)})}for(var i=0;i<16;i++){var r=this.endAngleRad-e*i;this.hitPolygonInitial.push({x:this.mx+this.ri*Math.cos(r),y:this.my+this.ri*Math.sin(r)})}this.hitPolygonDirty=!0;var o=this.displayObject;null==this.displayObject?(o=new PIXI.Graphics,this.displayObject=o,this.worldHelper.stage.addChild(o)):o.clear(),null!=this.fillColor&&o.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&o.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),void 0===this.startAngleRad&&(this.startAngleRad=0),void 0===this.endAngleRad&&(this.endAngleRad=2*Math.PI),Math.abs(this.endAngleRad-this.startAngleRad)>=2*Math.PI?o.drawCircle(this.mx,this.my,this.ra).beginHole().drawCircle(this.mx,this.my,this.ri).endHole():(o.moveTo(this.mx+this.ra*Math.cos(this.startAngleRad),this.my-this.ra*Math.sin(this.startAngleRad)),o.lineTo(this.mx+this.ri*Math.cos(this.startAngleRad),this.my-this.ri*Math.sin(this.startAngleRad)),o.arc(this.mx,this.my,this.ri,-this.startAngleRad,-this.endAngleRad,!0).arc(this.mx,this.my,this.ra,-this.endAngleRad,-this.startAngleRad,!1)),o.closePath(),null!=this.fillColor&&o.endFill()}},{key:"isOutsideView",value:function(){return gf(Of(n.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my,o=Math.atan2(-r,i),a=i*i+r*r;if(a<=this.ra*this.ra&&a>=this.ri*this.ri){var s=2*Math.PI,l=this.startAngleRad<0?s+this.startAngleRad:this.startAngleRad,u=this.endAngleRad<0?s+this.endAngleRad:this.endAngleRad,c=(o<0?s+o:o)>=l&&l<=u;return l<=u?c:!c}return!1}}]),n}(Gd);function Ef(e){return(Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Df(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function If(e,t){return(If=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Rf(e);if(t){var r=Rf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _f(this,n)}}function _f(e,t){if(t&&("object"===Ef(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zf(e)}function zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rf(e){return(Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&If(e,t)}(o,e);var t,n,i,r=Ff(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Color",e,"Farbe")).setBaseClass(e.typeStore.getType("Object"));var n=function(e){var n=rn.predefinedColors[e],i=new E(zf(t)),r={red:(16711680&n)>>16,green:(65280&n)>>8,blue:255&n,hex:rn.intColorToHexRGB(n)};i.intrinsicData=r;var o=new j(e,zf(t),(function(e){e.value=i}),!0,_.public,!0,"Die Farbe "+e+" ("+rn.intColorToHexRGB(n)+") oder "+rn.intColorToRGB(n));o.color=rn.intColorToHexRGB(n),t.addAttribute(o)};for(var i in rn.predefinedColors)n(i);return t.setupAttributeIndicesRecursive(),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t.addMethod(new T("Color",new x([{identifier:"red",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=Math.trunc(e[1].value),i=Math.trunc(e[2].value),r=Math.trunc(e[3].value),o={red:n,green:i,blue:r,hex:"rgb("+n+", "+i+", "+r+")"};t.intrinsicData=o}),!1,!1,"Instanziert eine neue Farbe. Red, green und blue sind die Farbanteile, jeweils als integer-Zahlen im Bereich von 0 bis 255.",!0)),t.addMethod(new T("randomColor",new x([]),Bt,(function(e){e[0].value;return Math.floor(16777215*Math.random())}),!1,!0,"Gibt eine zufällige Farbe (ohne Transparenz) zurück.",!1)),t.addMethod(new T("randomColor",new x([{identifier:"minimumRGBValue",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){e[0].value;var t=e[1].value;return t<0&&(t=0),t>255&&(t=255),65536*(Math.floor(Math.random()*(256-t))+t)+256*(Math.floor(Math.random()*(256-t))+t)+(Math.floor(Math.random()*(256-t))+t)}),!1,!0,"Gibt eine zufällige Farbe (ohne Transparenz) zurück. Min ist der Mindestwert für den Rot-, Grün- und Blauanteil, wobei jeder der Anteile und daher auch min zwischen 0 und 255 (jeweils einschließlich) liegen muss.",!1)),t.addMethod(new T("randomColor",new x([{identifier:"minimumRGBValue",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"maximumRGBValue",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){e[0].value;var t=e[1].value,n=e[1].value;if(t<0&&(t=0),t>255&&(t=255),n<0&&(n=0),n>255&&(n=255),n<t){var i=n;n=t,t=i}return 65536*(Math.floor(Math.random()*(n-t+1))+t)+256*(Math.floor(Math.random()*(n-t+1))+t)+(Math.floor(Math.random()*(n-t+1))+t)}),!1,!0,"Gibt eine zufällige Farbe (ohne Transparenz) zurück. Min ist der Mindestwert für den Rot-, Grün- und Blauanteil, max der Höchstwert, wobei jeder der Anteile und daher auch min zwischen 0 und 255 (jeweils einschließlich) liegen muss.",!1)),t.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value.intrinsicData.hex}),!1,!1,"Verwandelt die Farbe in einen String.",!1)),t.addMethod(new T("toInt",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData;return 65536*t.red+256*t.green+t.blue}),!1,!1,"Verwandelt die Farbe in einen int-Wert um, genauer: gibt 0x10000 * red + 0x100 * green + blue zurück.",!1)),t.addMethod(new T("equals",new x([{identifier:"otherColor",type:zf(t),declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData,r=n.intrinsicData;return i.red==r.red&&i.green==r.green&&i.blue==r.blue}),!1,!1,"Vergleicht zwei Farben",!1)),t.addMethod(new T("getRed",new x([]),Bt,(function(e){return e[0].value.intrinsicData.red}),!1,!1,"Gibt den Rotanteil der Farbe zurück (0 - 255).",!1)),t.addMethod(new T("getGreen",new x([]),Bt,(function(e){return e[0].value.intrinsicData.green}),!1,!1,"Gibt den Grünanteil der Farbe zurück (0 - 255).",!1)),t.addMethod(new T("getBlue",new x([]),Bt,(function(e){return e[0].value.intrinsicData.blue}),!1,!1,"Gibt den Blauanteil der Farbe zurück (0 - 255).",!1)),t.addMethod(new T("fromRGB",new x([{identifier:"red",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){e[0].value;var t=e[1].value,n=e[2].value,i=e[3].value;return t=Math.min(t,255),t=Math.max(0,t),n=Math.min(n,255),n=Math.max(0,n),i=Math.min(i,255),65536*t+256*n+(i=Math.max(0,i))}),!1,!0,"Berechnet aus Rot-, Grün- und Blauwert (alle zwischen 0 und 255) die Farbe.",!1)),t.addMethod(new T("fromRGBA",new x([{identifier:"red",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"green",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"blue",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){e[0].value;var t=e[1].value,n=e[2].value,i=e[3].value,r=e[4].value;t=Math.min(t,255),t=Math.max(0,t),n=Math.min(n,255),n=Math.max(0,n),i=Math.min(i,255),i=Math.max(0,i),r=Math.min(r,1),r=Math.max(0,r);for(var o=(16777216*t+65536*n+256*i+Math.floor(255*r)).toString(16);o.length<8;)o="0"+o;return"#"+o}),!1,!0,"Berechnet aus Rot-, Grün- und Blauwert (alle zwischen 0 und 255) sowie Alpha-Wert (zwischen 0 und 1) die Farbe.",!1)),t.addMethod(new T("fromHSLA",new x([{identifier:"hue",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"saturation",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"luminance",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"alpha",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){e[0].value;var n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value;n=Math.min(n,360),n=Math.max(0,n),i=Math.min(i,100),i=Math.max(0,i),r=Math.min(r,100),r=Math.max(0,r),o=Math.min(o,1),o=Math.max(0,o);for(var a=t.hslToRgb(n,i,r),s=(16777216*a.r+65536*a.g+256*a.b+Math.floor(255*o)).toString(16);s.length<8;)s="0"+s;return"#"+s}),!1,!0,"Berechnet Hue (0 - 360), Saturation (0 - 100) und Luminance (0 - 100) sowie Alpha-Wert (zwischen 0 und 1) die Farbe.",!1)),t.addMethod(new T("fromHSL",new x([{identifier:"hue",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"saturation",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"luminance",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){e[0].value;var n=e[1].value,i=e[2].value,r=e[3].value;n=Math.min(n,360),n=Math.max(0,n),i=Math.min(i,100),i=Math.max(0,i),r=Math.min(r,100),r=Math.max(0,r);var o=t.hslToRgb(n,i,r);return 65536*o.r+256*o.g+o.b}),!1,!0,"Berechnet Hue (0 - 360), Saturation (0 - 100) und Luminance (0 - 100)die Farbe.",!1)),t}return t=o,(n=[{key:"hslToRgb",value:function(e,t,n){t/=100,n/=100;var i=(1-Math.abs(2*n-1))*t,r=i*(1-Math.abs(e/60%2-1)),o=n-i/2,a=0,s=0,l=0;return 0<=e&&e<60?(a=i,s=r,l=0):60<=e&&e<120?(a=r,s=i,l=0):120<=e&&e<180?(a=0,s=i,l=r):180<=e&&e<240?(a=0,s=r,l=i):240<=e&&e<300?(a=r,s=0,l=i):300<=e&&e<360&&(a=i,s=0,l=r),{r:a=Math.round(255*(a+o)),g:s=Math.round(255*(s+o)),b:l=Math.round(255*(l+o))}}}])&&Df(t.prototype,n),i&&Df(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(J);function Lf(e){return(Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wf(){return(Wf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Gf(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Gf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xf(e)););return e}function Nf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $f(e,t,n){return t&&Nf(e.prototype,t),n&&Nf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kf(e,t)}function Kf(e,t){return(Kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xf(e);if(t){var r=Xf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Uf(this,n)}}function Uf(e,t){if(t&&("object"===Lf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zf(e)}function Zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xf(e){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qf=function(e){Vf(n,e);var t=Qf(n);function n(e){var i;return Hf(this,n),(i=t.call(this,"Ellipse",e,"Ellipse")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("Ellipse",new x([{identifier:"mx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"rx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"ry",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new Yf(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert eine neue Ellipse. (mx, my) ist der Mittelpunt, rx und ry sind ihre Radien.",!0)),i.addMethod(new T("setRadiusX",new x([{identifier:"rx",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setRadiusX(n)}),!1,!1,'Setzt den x-Radius der Ellipse"',!1)),i.addMethod(new T("setRadiusY",new x([{identifier:"ry",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setRadiusY(n)}),!1,!1,'Setzt den y-Radius der Ellipse"',!1)),i.addMethod(new T("copy",new x([]),Zf(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Ellipse-Objekts und git sie zurück.",!1)),i}return $f(n)}(J),Yf=function(e){Vf(n,e);var t=Qf(n);function n(e,i,r,o,a,s){var l;return Hf(this,n),(l=t.call(this,a,s)).mx=e,l.my=i,l.rx=r,l.ry=o,l.centerXInitial=e,l.centerYInitial=i,l.render(),l.addToDefaultGroupAndSetDefaultVisibility(),l}return $f(n,[{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.mx,this.my,this.rx,this.ry,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"render",value:function(){this.hitPolygonInitial=[];for(var e=Math.PI/8,t=0;t<16;t++){var n=e*t;this.hitPolygonInitial.push({x:this.mx+this.rx*Math.cos(n),y:this.my+this.ry*Math.sin(n)})}var i=this.displayObject;null==this.displayObject?(i=new PIXI.Graphics,this.displayObject=i,this.worldHelper.stage.addChild(i)):i.clear(),null!=this.fillColor&&i.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&i.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),i.drawEllipse(this.mx,this.my,this.rx,this.ry),i.closePath(),null!=this.fillColor&&i.endFill()}},{key:"setRadiusX",value:function(e){this.rx=e,this.render()}},{key:"setRadiusY",value:function(e){this.rx=e,this.render()}},{key:"isOutsideView",value:function(){return Wf(Xf(n.prototype),"isOutsideView",this).call(this)}},{key:"containsPoint",value:function(e,t){if(!this.displayObject.getBounds().contains(e,t))return!1;var n=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(n,n);var i=n.x-this.mx,r=n.y-this.my;return i*i/(this.rx*this.rx)+r*r/(this.ry*this.ry)<=1}}]),n}(Gd);function Jf(e){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eh(){return(eh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=th(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function th(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fh(e)););return e}function nh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ih(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ih(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oh(e,t,n){return t&&rh(e.prototype,t),n&&rh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lh(e,t)}function lh(e,t){return(lh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fh(e);if(t){var r=fh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ch(this,n)}}function ch(e,t){if(t&&("object"===Jf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dh(e)}function dh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fh(e){return(fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hh=function(e){sh(n,e);var t=uh(n);function n(e){var i;ah(this,n),(i=t.call(this,"CollisionPair",e,"Speichert die Referenzen auf zwei Figuren, die gerade kollidiert sind. Diese Klasse von den Kollisionsmethden der Klasse Group benutzt.")).setBaseClass(e.typeStore.getType("Object"));var r=e.typeStore.getType("Shape");return i.addAttribute(new j("shapeA",r,(function(e){var t=e.object;e.value=t.intrinsicData.ShapeA}),!1,_.public,!0,"Erstes an der Kollision beteiligtes Shape")),i.addAttribute(new j("shapeB",r,(function(e){var t=e.object;e.value=t.intrinsicData.ShapeB}),!1,_.public,!0,"Zweites an der Kollision beteiligtes Shape")),i.setupAttributeIndicesRecursive(),i}return oh(n)}(J),ph=function(e){sh(n,e);var t=uh(n);function n(e){var i;ah(this,n),(i=t.call(this,"Group",e,"Klasse zum Gruppieren grafischer Elemente. Die gruppierten Elemente können miteinander verschoben, gedreht, gestreckt sowie ein- und ausgeblendet werden. Zudem besitzt die Klasse Methoden zur schnellen Erkennung von Kollision mit Elementen außerhalb der Gruppe.")).setBaseClass(e.typeStore.getType("Shape"));var r=e.typeStore.getType("CollisionPair"),o=new fe(r),a=e.typeStore.getType("Shape");i.addMethod(new T("Group",new x([]),null,(function(t){var n=t[0].value,i=new yh(e.main.getInterpreter(),n);n.intrinsicData.Actor=i}),!1,!1,"Instanziert eine neue Gruppe. Ihr können mit der Methode add Elemente hinzugefügt werden, die dann mit der Gruppe verschoben, gedreht, ... werden.",!0)),i.addMethod(new T("Group",new x([{identifier:"shapes",type:new fe(e.typeStore.getType("Shape")),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=new yh(e.main.getInterpreter(),n);n.intrinsicData.Actor=r;var o,a=nh(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;r.add(s.value)}}catch(e){a.e(e)}finally{a.f()}}),!1,!1,"Instanziert eine neue Gruppe und fügt die übergebenen Grafikobjekte der Gruppe hinzu. Der Gruppe können mit der Methode add weitere Grafikobjekte hinzugefügt werden, die dann mit der Gruppe verschoben, gedreht, ... werden.",!0)),i.addMethod(new T("add",new x([{identifier:"shapes",type:new fe(a),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("add")){var r,o=nh(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.add(a.value)}}catch(e){o.e(e)}finally{o.f()}}}),!1,!1,"Fügt die Grafikobjekte der Gruppe hinzu.",!1)),i.addMethod(new T("get",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),a,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("get"))return i.getElement(n)}),!1,!1,"Gibt das Grafikelement der Gruppe mit dem entsprechenden Index zurück. VORSICHT: Das erste Element hat Index 0!",!1)),i.addMethod(new T("remove",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.removeElementAt(n)}),!1,!1,"Entfernt das Grafikelement aus der Gruppe mit dem entsprechenden Index, zerstört es jedoch nicht. VORSICHT: Das erste Element hat Index 0!",!1)),i.addMethod(new T("remove",new x([{identifier:"shape",type:a,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("remove")||(i.remove(n),i.worldHelper.shapes.push(n.intrinsicData.Actor))}),!1,!1,"Entfernt das übergebene Grafikelement aus der Gruppe, zerstört es jedoch nicht.",!1));var s=new fe(a);return i.addMethod(new T("getCollidingShapes",new x([{identifier:"shape",type:e.typeStore.getType("Shape"),declaration:null,usagePositions:null,isFinal:!0}]),s,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(i.testdestroyed("getCollidingShapes")||null==n)return[];var r,o=[],s=nh(i.getCollidingObjects(n));try{for(s.s();!(r=s.n()).done;){var l=r.value;o.push({type:a,value:l})}}catch(e){s.e(e)}finally{s.f()}return o}),!1,!1,"Gibt die Objekte der Gruppe zurück, die mit dem übergebenen Shape kollidieren.",!1)),i.addMethod(new T("getCollisionPairs",new x([{identifier:"group",type:dh(i),declaration:null,usagePositions:null,isFinal:!0},{identifier:"maxOneCollisionPerShape",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),o,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,o=t.intrinsicData.Actor,a=n.intrinsicData.Actor;if(!o.testdestroyed("getCollidingShapes"))return o.getCollidingObjects2(a,r,i)}),!1,!1,"Überprüft, welche Objekte der Gruppe mit welchen der anderen kollidieren. Gibt für jede Kollision ein Collisionpair-Objekt zurück, das die beiden kollidierenden Objekte enthält. Falls maxOneCollisionPerShape == true ist jedes Objekt dabei aber nur in max. einem Collisionpair-Objekt enthalten.",!1)),i.addMethod(new T("size",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("size"))return t.shapes.length}),!1,!1,"Gibt zurück, wie viele Elemente in der Gruppe enthalten sind.",!1)),i.addMethod(new T("empty",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("empty")||t.removeAllChidren()}),!1,!1,"Entfernt alle Elemente aus der Gruppe, löscht die Elemente aber nicht.",!1)),i.addMethod(new T("destroyAllChildren",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("destroyAllChildren")||t.destroyChildren()}),!1,!1,"Löscht alle Elemente der Gruppe, nicht aber die Gruppe selbst.",!1)),a.addMethod(new T("getCollidingShapes",new x([{identifier:"group",type:dh(i),declaration:null,usagePositions:null,isFinal:!0}]),s,(function(e){var t=e[0].value,n=e[1].value.intrinsicData.Actor,i=t.intrinsicData.Actor;if(!i.testdestroyed("getCollidingShapes"))return i.getCollidingShapes(n,a)}),!1,!1,"Gibt alle Shapes der Gruppe group zurück, die mit dem Shape kollidieren.",!1)),i.addMethod(new T("copy",new x([]),dh(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Group-Objekts (und aller seiner enthaltenen Grafikobjekte!) und git sie zurück.",!1)),i.addMethod(new T("renderAsStaticBitmap",new x([{identifier:"renderAsStaticBitmap",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),dh(i),(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("renderAsStaticBitmap")||t.cacheAsBitmap(n)}),!1,!1,"Zeichnet alle Objekte dieser Group in ein Bild und verwendet fortan nur noch dieses Bild, ohne die Kindelemente der Group erneut zu zeichnen. Mit dieser Methode können komplexe Bilder (z.B. ein Sternenhimmel) aufgebaut und dann statisch gemacht werden. Nach dem Aufbau brauchen sie daher kaum mehr Rechenzeit.",!1)),i}return oh(n)}(J),yh=function(e){sh(n,e);var t=uh(n);function n(e,i){var r;return ah(this,n),(r=t.call(this,e,i)).shapes=[],r.displayObject=new PIXI.Container,r.worldHelper.stage.addChild(r.displayObject),r.addToDefaultGroupAndSetDefaultVisibility(),r}return oh(n,[{key:"cacheAsBitmap",value:function(e){var t=this.displayObject;e?setTimeout((function(){t.cacheAsBitmap=!0}),300):t.cacheAsBitmap=e}},{key:"removeElementAt",value:function(e){if(e<0||e>=this.shapes.length)this.worldHelper.interpreter.throwException("In der Gruppe gibt es kein Element mit Index "+e+".");else{var t=this.shapes[e];this.remove(t)}}},{key:"getElement",value:function(e){if(!(e<0||e>=this.shapes.length))return this.shapes[e];this.worldHelper.interpreter.throwException("In der Gruppe gibt es kein Element mit Index "+e+".")}},{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.worldHelper.interpreter,t);t.intrinsicData.Actor=i;var r,o=nh(this.shapes);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.intrinsicData.Actor.getCopy(a.class),l=s.intrinsicData.Actor;i.shapes.push(s),l.belongsToGroup=i,i.displayObject.addChild(l.displayObject)}}catch(e){o.e(e)}finally{o.f()}return i.copyFrom(this),i.render(),t}},{key:"setTimerPaused",value:function(e){this.timerPaused=e;var t,n=nh(this.shapes);try{for(n.s();!(t=n.n()).done;){t.value.intrinsicData.Actor.timerPaused=e}}catch(e){n.e(e)}finally{n.f()}}},{key:"add",value:function(e){if(null!=e){var t=e.intrinsicData.Actor;if(t.isDestroyed)this.worldHelper.interpreter.throwException("Ein schon zerstörtes Objekt kann keiner Gruppe hinzugefügt werden.");else if(!this.hasCircularReference(e)){if(this.shapes.push(e),null!=t.belongsToGroup)t.belongsToGroup.remove(e);else{var n=this.worldHelper.shapes.indexOf(t);n>=0&&this.worldHelper.shapes.splice(n,1)}t.belongsToGroup=this,this.displayObject.parent.updateTransform();var i=(new PIXI.Matrix).copyFrom(this.displayObject.transform.worldTransform);i.invert(),t.displayObject.localTransform.prepend(i.prepend(this.worldHelper.stage.localTransform)),t.displayObject.transform.onChange(),this.displayObject.addChild(t.displayObject),t.displayObject.updateTransform();var r,o=0,a=0,s=nh(this.shapes);try{for(s.s();!(r=s.n()).done;){var l=r.value.intrinsicData.Actor;o+=l.getCenterX(),a+=l.getCenterY()}}catch(e){s.e(e)}finally{s.f()}var u=o/this.shapes.length,c=a/this.shapes.length;this.displayObject.updateTransform();var d=this.displayObject.worldTransform.applyInverse(new PIXI.Point(u,c));this.centerXInitial=d.x,this.centerYInitial=d.y}}}},{key:"removeAllChidren",value:function(){var e,t=0,n=nh(this.shapes);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.deregister(i,t++)}}catch(e){n.e(e)}finally{n.f()}this.shapes=[]}},{key:"remove",value:function(e){var t=this.shapes.indexOf(e);t>=0&&(this.shapes.splice(t,1),this.deregister(e,t))}},{key:"deregister",value:function(e,t){var n=e.intrinsicData.Actor,i=(new PIXI.Matrix).copyFrom(n.displayObject.transform.worldTransform);this.displayObject.removeChildAt(t);var r=(new PIXI.Matrix).copyFrom(this.worldHelper.stage.localTransform);r.invert(),n.displayObject.localTransform.identity(),n.displayObject.localTransform.append(i.prepend(r)),n.displayObject.transform.onChange(),this.worldHelper.stage.addChild(n.displayObject),n.displayObject.updateTransform(),n.belongsToGroup=null}},{key:"render",value:function(){}},{key:"destroy",value:function(){this.destroyChildren(),eh(fh(n.prototype),"destroy",this).call(this)}},{key:"destroyChildren",value:function(){var e,t=nh(this.shapes.slice(0));try{for(t.s();!(e=t.n()).done;){e.value.intrinsicData.Actor.destroy()}}catch(e){t.e(e)}finally{t.f()}this.shapes=[]}},{key:"hasOverlappingBoundingBoxWith",value:function(e){this.displayObject.updateTransform(),e.displayObject.updateTransform();var t=this.displayObject.getBounds(),n=e.displayObject.getBounds();return!(t.left>n.right||n.left>t.right)&&!(t.top>n.bottom||n.top>t.bottom)}},{key:"collidesWith",value:function(e){if(!this.hasOverlappingBoundingBoxWith(e))return!1;var t,n=nh(this.shapes);try{for(n.s();!(t=n.n()).done;){if(t.value.intrinsicData.Actor.collidesWith(e))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"setHitPolygonDirty",value:function(e){var t,n=nh(this.shapes);try{for(n.s();!(t=n.n()).done;){t.value.intrinsicData.Actor.setHitPolygonDirty(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"containsPoint",value:function(e,t){this.displayObject.updateTransform();var n=this.displayObject.getBounds();if(e<n.left||e>n.left+n.width||t<n.top||t>n.top+n.height)return!1;var i,r=nh(this.shapes);try{for(r.s();!(i=r.n()).done;){if(i.value.intrinsicData.Actor.containsPoint(e,t))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getCollidingObjects",value:function(e){var t,n=[],i=e.intrinsicData.Actor,r=nh(this.shapes);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.intrinsicData.Actor.collidesWith(i)&&n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getCollidingObjects2",value:function(e,t,n){var i,r=[],o=new Map,a=nh(this.shapes);try{for(a.s();!(i=a.n()).done;){var s,l=i.value.intrinsicData.Actor,u=nh(e.shapes);try{for(u.s();!(s=u.n()).done;){var c=s.value.intrinsicData.Actor;if(l.collidesWith(c)){if(!n||null==o.get(c)){o.set(c,!0);var d=new E(t);d.intrinsicData.ShapeA=l.runtimeObject,d.intrinsicData.ShapeB=c.runtimeObject,r.push({type:t,value:d})}if(n)break}}}catch(e){u.e(e)}finally{u.f()}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"hasCircularReference",value:function(e){var t=e.intrinsicData.Actor;if(t instanceof n){if(t==this)return this.worldHelper.interpreter.throwException("Eine Group darf sich nicht selbst enthalten!"),!0;var i,r=nh(t.shapes);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(this.hasCircularReference(o))return!0}}catch(e){r.e(e)}finally{r.f()}}return!1}},{key:"tint",value:function(e){var t,n=nh(this.shapes);try{for(n.s();!(t=n.n()).done;){t.value.intrinsicData.Actor.tint(e)}}catch(e){n.e(e)}finally{n.f()}}}]),n}(yd);function vh(e){return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gh(e,t){return(gh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=kh(e);if(t){var r=kh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return wh(this,n)}}function wh(e,t){if(t&&("object"===vh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kh(e){return(kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sh,Ph=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gh(e,t)}(o,e);var t,n,i,r=bh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Key",e,"Aufzählung von Sondertasten zur Benutzung in den Methoden Actor.onKeyUp, Actor.onKeyTyped und Actor.onKeyDown")).setBaseClass(e.typeStore.getType("Object")),t.addAttribute(new j("ArrowUp",$t,(function(e){e.value="ArrowUp"}),!0,_.public,!0,"")),t.addAttribute(new j("ArrowDown",$t,(function(e){e.value="ArrowDown"}),!0,_.public,!0,"")),t.addAttribute(new j("ArrowLeft",$t,(function(e){e.value="ArrowLeft"}),!0,_.public,!0,"")),t.addAttribute(new j("ArrowRight",$t,(function(e){e.value="ArrowRight"}),!0,_.public,!0,"")),t.addAttribute(new j("Enter",$t,(function(e){e.value="Enter"}),!0,_.public,!0,"")),t.addAttribute(new j("Space",$t,(function(e){e.value=" "}),!0,_.public,!0,"")),t.addAttribute(new j("Shift",$t,(function(e){e.value="Shift"}),!0,_.public,!0,"")),t.addAttribute(new j("Alt",$t,(function(e){e.value="Alt"}),!0,_.public,!0,"")),t.addAttribute(new j("Strg",$t,(function(e){e.value="Control"}),!0,_.public,!0,"")),t.addAttribute(new j("PageUp",$t,(function(e){e.value="PageUp"}),!0,_.public,!0,"")),t.addAttribute(new j("PageDown",$t,(function(e){e.value="PageDown"}),!0,_.public,!0,"")),t.addAttribute(new j("Backspace",$t,(function(e){e.value="Backspace"}),!0,_.public,!0,"")),t.addAttribute(new j("Escape",$t,(function(e){e.value="Escape"}),!0,_.public,!0,"")),t.addAttribute(new j("Entf",$t,(function(e){e.value="Delete"}),!0,_.public,!0,"")),t.addAttribute(new j("Einf",$t,(function(e){e.value="Insert"}),!0,_.public,!0,"")),t.addAttribute(new j("Ende",$t,(function(e){e.value="End"}),!0,_.public,!0,"")),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t}return t=o,n&&mh(t.prototype,n),i&&mh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function jh(e){return(jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Th(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ch(e,t,n){return t&&Oh(e.prototype,t),n&&Oh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ah(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eh(e,t)}function Eh(e,t){return(Eh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_h(e);if(t){var r=_h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ih(this,n)}}function Ih(e,t){if(t&&("object"===jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fh(e)}function Fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _h(e){return(_h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.makeHull=function(t){var n=t.slice();return n.sort(e.POINT_COMPARATOR),e.makeHullPresorted(n)},e.makeHullPresorted=function(e){if(e.length<=1)return e.slice();for(var t=[],n=0;n<e.length;n++){for(var i=e[n];t.length>=2;){var r=t[t.length-1],o=t[t.length-2];if(!((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x)))break;t.pop()}t.push(i)}t.pop();for(var a=[],s=e.length-1;s>=0;s--){for(var l=e[s];a.length>=2;){var u=a[a.length-1],c=a[a.length-2];if(!((u.x-c.x)*(l.y-c.y)>=(u.y-c.y)*(l.x-c.x)))break;a.pop()}a.push(l)}return a.pop(),1==t.length&&1==a.length&&t[0].x==a[0].x&&t[0].y==a[0].y?t:t.concat(a)},e.POINT_COMPARATOR=function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}(Sh||(Sh={}));var zh=function(e){Ah(n,e);var t=Dh(n);function n(e){var i;Mh(this,n),(i=t.call(this,"Polygon",e,"Wahlweise geschlossenes Polygon (mit Füllung und Rand) oder offener Streckenzug")).setBaseClass(e.typeStore.getType("FilledShape"));var r=e.typeStore.getType("Shape");return i.addMethod(new T("Polygon",new x([{identifier:"closeAndFill",type:Gt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:new fe(Wt),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=[];r.forEach((function(e){return o.push(e.value)}));var a=new Rh(o,i,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Polygon. Die Punkte werden als Array von double-Werten der Form {x1, y1, x2, y2, ...} übergeben.",!0)),i.addMethod(new T("Polygon",new x([{identifier:"closeAndFill",type:Gt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:new fe(Wt),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=[];r.forEach((function(e){return o.push(e.value)}));var a=new Rh(o,i,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Polygon. Die Punkte werden als double-Werte der Form x1, y1, x2, y2, ... übergeben.",!0)),i.addMethod(new T("Polygon",new x([{identifier:"closeAndFill",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=new Rh([],i,e.main.getInterpreter(),n);n.intrinsicData.Actor=r}),!1,!1,"Instanziert ein neues Polygon ohne Punkte.",!0)),i.addMethod(new T("Polygon",new x([{identifier:"shape",type:r,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,r=t[1].value;if(null!=r){var o=r.intrinsicData.Actor;o.displayObject.getBounds();var a=[];a=i.extractPoints(o,a);var s,l=[],u=Th(a=Sh.makeHull(a));try{for(u.s();!(s=u.n()).done;){var c=s.value;l.push(c.x),l.push(c.y)}}catch(e){u.e(e)}finally{u.f()}l.length>0&&(l=l.concat(l.slice(0,2)));var d=new Rh(l,!1,e.main.getInterpreter(),n,!0);n.intrinsicData.Actor=d}else e.main.getInterpreter().throwException("Die übergebene Figur ist null.")}),!1,!1,"Instanziert ein neues Polygon. Seine Punkte sind die Punkte des Hitpolygons der übergebenen Figur.",!0)),i.addMethod(new T("addPoint",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("addPoint")||r.addPoint(n,i)}),!1,!1,'Fügt dem Polygon einen Punkt hinzu."',!1)),i.addMethod(new T("setPoints",new x([{identifier:"points",type:new fe(Wt),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("addPoints")||i.setPoints(n.map((function(e){return e.value})))}),!1,!1,'Löscht alle Punkte des Polygons und setzt komplett neue. Diese werden in einem double[] übergeben, das abwechselnd die x- und y-Koordinaten enthält."',!1)),i.addMethod(new T("addPoints",new x([{identifier:"points",type:new fe(Wt),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("addPoints"))for(var r=0;r<n.length-1;r+=2)i.addPoint(n[r].value,n[r+1].value,r>=n.length-2)}),!1,!1,'Fügt dem Polygon mehrere Punkte hinzu. Diese werden in einem double[] übergeben, das abwechselnd die x- und y-Koordinaten enthält."',!1)),i.addMethod(new T("insertPoint",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("insertPoint")||o.insertPoint(n,i,r)}),!1,!1,'Fügt dem Polygon einen Punkt als "index-ter" Punkt hinzu. index == 0 => ganz am Anfang; index == Anzahl der bisherigen Punkte => ganz am Ende;"',!1)),i.addMethod(new T("movePointTo",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("insertPoint")||o.movePointTo(n,i,r)}),!1,!1,"schiebt den index-ten Punkt nach (x, y). index == 0 => erster Punkt, index == 1 => zweiter Punkt usw.",!1)),i.addMethod(new T("close",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("close")||(t.isClosed=!0,t.render())}),!1,!1,"Schließt das Polygon. Diese Methode hat bei gefüllten Polygonen keinen Effekt.",!1)),i.addMethod(new T("open",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("open")||(t.isClosed=!1,t.render())}),!1,!1,"Öffnet das Polygon. Diese Methode hat bei gefüllten Polygonen keinen Effekt.",!1)),i.addMethod(new T("copy",new x([]),Fh(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Polygon-Objekts und git sie zurück.",!1)),i}return Ch(n,[{key:"extractPoints",value:function(e,t){if(e instanceof yh){var n,i=[],r=Th(e.shapes);try{for(r.s();!(n=r.n()).done;){var o=n.value;i=this.extractPoints(o.intrinsicData.Actor,i)}}catch(e){r.e(e)}finally{r.f()}return t.concat(i)}return e.hitPolygonDirty&&e.transformHitPolygon(),t.concat(e.hitPolygonTransformed.map((function(e){return{x:e.x,y:e.y}})))}}]),n}(J),Rh=function(e){Ah(n,e);var t=Dh(n);function n(e,i,r,o){var a,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Mh(this,n),(a=t.call(this,r,o)).closeAndFill=i,a.isClosed=!1,a.isClosed=s;var l=0,u=0;a.hitPolygonInitial=[];for(var c=0;c<e.length;){var d=e[c++],f=e[c++];l+=d,u+=f,a.hitPolygonInitial.push({x:d,y:f})}return e.length>1&&(a.centerXInitial=l/a.hitPolygonInitial.length,a.centerYInitial=u/a.hitPolygonInitial.length),i||(a.borderColor=255),a.render(),a.addToDefaultGroupAndSetDefaultVisibility(),a}return Ch(n,[{key:"getCopy",value:function(e){var t=new E(e),i=new n([],this.closeAndFill,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"render",value:function(){var e=this.displayObject;if(null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&this.closeAndFill&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),this.hitPolygonInitial.length>0){e.moveTo(this.hitPolygonInitial[0].x,this.hitPolygonInitial[0].y);for(var t=1;t<this.hitPolygonInitial.length;t++)e.lineTo(this.hitPolygonInitial[t].x,this.hitPolygonInitial[t].y)}(this.closeAndFill||this.isClosed)&&e.closePath(),null!=this.fillColor&&this.closeAndFill&&e.endFill()}},{key:"addPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(i,i),this.hitPolygonInitial.push({x:i.x,y:i.y}),this.hitPolygonDirty=!0,n&&this.render()}},{key:"insertPoint",value:function(e,t,n){n<0&&(n=0),n>this.hitPolygonInitial.length&&(n=this.hitPolygonInitial.length);var i=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(i,i),this.hitPolygonInitial.splice(n,0,{x:i.x,y:i.y}),this.hitPolygonDirty=!0,this.render()}},{key:"movePointTo",value:function(e,t,n){if(n<0&&(n=0),n>this.hitPolygonInitial.length&&(n=this.hitPolygonInitial.length),0!=this.hitPolygonInitial.length){var i=new PIXI.Point(e,t);this.displayObject.transform.worldTransform.applyInverse(i,i),this.hitPolygonInitial[n].x=i.x,this.hitPolygonInitial[n].y=i.y,this.hitPolygonDirty=!0,this.render()}}},{key:"setPoint",value:function(e,t,n){0!=n&&1!=n||(this.hitPolygonInitial[n]={x:e,y:t},this.hitPolygonDirty=!0,this.render())}},{key:"setPoints",value:function(e){this.hitPolygonInitial=[];for(var t=0;t<e.length-1;t+=2)this.hitPolygonInitial.push({x:e[t],y:e[t+1]});this.hitPolygonDirty=!0,this.render()}},{key:"setAllPointsUntransformed",value:function(e){this.hitPolygonInitial=[];for(var t=0;t<e.length;t+=2)this.hitPolygonInitial.push({x:e[t],y:e[t+1]});this.hitPolygonDirty=!0,this.render()}}]),n}(Gd);function Bh(e){return(Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wh(e,t,n){return t&&Lh(e.prototype,t),n&&Lh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$h(e,t)}function $h(e,t){return($h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qh(e);if(t){var r=Qh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Vh(this,n)}}function Vh(e,t){if(t&&("object"===Bh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kh(e)}function Kh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qh(e){return(Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uh=function(e){Nh(n,e);var t=Hh(n);function n(e){var i;return Gh(this,n),(i=t.call(this,"Rectangle",e,"Rechteck")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("Rectangle",new x([{identifier:"left",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new Zh(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues, achsenparalleles Rechteck-Objekt. (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),i.addMethod(new T("setWidth",new x([{identifier:"width",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setWidth")||(t.width=n/t.displayObject.scale.x,t.centerXInitial=t.left+t.width/2,t.render())}),!1,!1,"Setzt die Breite des Rechtecks.",!1)),i.addMethod(new T("setHeight",new x([{identifier:"height",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("setHeight")||(t.height=n/t.displayObject.scale.y,t.centerYInitial=t.top+t.height/2,t.render())}),!1,!1,"Setzt die Höhe des Rechtecks.",!1)),i.addMethod(new T("getWidth",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.width*t.scaleFactor}),!1,!1,"Gibt die Breite zurück.",!1)),i.addMethod(new T("getHeight",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.height*t.scaleFactor}),!1,!1,"Gibt die Höhe zurück.",!1)),i.addMethod(new T("copy",new x([]),Kh(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Rectangle-Objekts und git sie zurück.",!1)),i}return Wh(n)}(J),Zh=function(e){Nh(n,e);var t=Hh(n);function n(e,i,r,o,a,s){var l;return Gh(this,n),(l=t.call(this,a,s)).left=e,l.top=i,l.width=r,l.height=o,l.centerXInitial=e+r/2,l.centerYInitial=i+o/2,l.render(),l.addToDefaultGroupAndSetDefaultVisibility(),l}return Wh(n,[{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.left,this.top,this.width,this.height,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"render",value:function(){this.hitPolygonInitial=[{x:this.left,y:this.top},{x:this.left,y:this.top+this.height},{x:this.left+this.width,y:this.top+this.height},{x:this.left+this.width,y:this.top}];var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.moveTo(this.left,this.top),e.lineTo(this.left+this.width,this.top),e.lineTo(this.left+this.width,this.top+this.height),e.lineTo(this.left,this.top+this.height),e.closePath(),null!=this.fillColor&&e.endFill()}}]),n}(Gd);function Xh(e){return(Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Yh(e,t){return(Yh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tp(e);if(t){var r=tp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ep(this,n)}}function ep(e,t){if(t&&("object"===Xh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var np=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yh(e,t)}(a,e);var t,n,i,o=Jh(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,"RepeatType",e,[{type:r.pushEnumValue,position:null,identifier:"once"},{type:r.pushEnumValue,position:null,identifier:"loop"},{type:r.pushEnumValue,position:null,identifier:"backAndForth"}])).documentation="Gibt an, auf welche Art eine Sprite-Animation abgespielt werden soll.",t}return t=a,n&&qh(t.prototype,n),i&&qh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Fn);function ip(e){return(ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function op(e,t,n){return t&&rp(e.prototype,t),n&&rp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lp(e,t)}function lp(e,t){return(lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function up(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fp(e);if(t){var r=fp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return cp(this,n)}}function cp(e,t){if(t&&("object"===ip(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dp(e)}function dp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fp(e){return(fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hp=function(e){sp(n,e);var t=up(n);function n(e){var i;return ap(this,n),(i=t.call(this,"RoundedRectangle",e,"Rechteck mit abgerundeten Ecken")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("RoundedRectangle",new x([{identifier:"left",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"top",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"width",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"radius",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new pp(i,r,o,a,s,e.main.getInterpreter(),n);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues, achsenparalleles abgerundetes Rechteck-Objekt. (left, top) sind die Koordinaten der linken oberen Ecke.",!0)),i.addMethod(new T("getWidth",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.width*t.displayObject.scale.x}),!1,!1,"Gibt die Breite zurück.",!1)),i.addMethod(new T("getHeight",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.height*t.displayObject.scale.y}),!1,!1,"Gibt die Höhe zurück.",!1)),i.addMethod(new T("getRadius",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.radius*t.displayObject.scale.y}),!1,!1,"Gibt den Eckradius zurück.",!1)),i.addMethod(new T("copy",new x([]),dp(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des RoundedRectangle-Objekts und git sie zurück.",!1)),i}return op(n)}(J),pp=function(e){sp(n,e);var t=up(n);function n(e,i,r,o,a,s,l){var u;return ap(this,n),(u=t.call(this,s,l)).left=e,u.top=i,u.width=r,u.height=o,u.radius=a,u.centerXInitial=e+r/2,u.centerYInitial=i+o/2,u.hitPolygonInitial=[],u.addCenterCircle(e+a,i+a,Math.PI/2),u.addCenterCircle(e+a,i+o-a,Math.PI),u.addCenterCircle(e+r-a,i+o-a,3*Math.PI/2),u.addCenterCircle(e+r-a,i+a,0),u.hitPolygonInitial.push({x:e+a,y:i}),u.render(),u.addToDefaultGroupAndSetDefaultVisibility(),u}return op(n,[{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.left,this.top,this.width,this.height,this.radius,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"addCenterCircle",value:function(e,t,n){for(var i=Math.PI/2/8,r=0;r<=8;r++)this.hitPolygonInitial.push({x:e+this.radius*Math.cos(n+i*r),y:t-this.radius*Math.sin(n+i*r)})}},{key:"render",value:function(){var e=this.displayObject;null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&e.beginFill(this.fillColor,this.fillAlpha),null!=this.borderColor&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5),e.drawRoundedRect(this.left,this.top,this.width,this.height,this.radius),null!=this.fillColor&&e.endFill()}}]),n}(Gd);function yp(e){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mp(e,t){return(mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wp(e);if(t){var r=wp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return bp(this,n)}}function bp(e,t){if(t&&("object"===yp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wp(e){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mp(e,t)}(a,e);var t,n,i,o=gp(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,"ScaleMode",e,[{type:r.pushEnumValue,position:null,identifier:"linear"},{type:r.pushEnumValue,position:null,identifier:"nearest_neighbour"}])).documentation="Art der Interpolation der Pixelfarben beim Skalieren von grafischen Objekten",t}return t=a,n&&vp(t.prototype,n),i&&vp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Fn);function Sp(e){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Tp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xp(e,t){return(xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Cp(e);if(t){var r=Cp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Op(this,n)}}function Op(e,t){if(t&&("object"===Sp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cp(e){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ap=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xp(e,t)}(o,e);var t,n,i,r=Mp(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Sound",e,"Aufzählung aller Geräusche")).setBaseClass(e.typeStore.getType("Object"));var n,i=Pp(Qa.sounds);try{var a=function(){var e=n.value;t.addAttribute(new j(e.name,$t,(function(t){t.value=e.name}),!0,_.public,!0,e.description))};for(i.s();!(n=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t.addMethod(new T("playSound",new x([{identifier:"sound",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[1].value;Qa.play(t)}),!1,!0,"Spielt einen Sound ab. Die Möglichen Sounds sind als statische Variablen der Klasse Sound hinterlegt. Tippe als Parameter also Sound gefolgt von einem Punkt ein, um eine Auswahl zu sehen!")),t}return t=o,n&&Tp(t.prototype,n),i&&Tp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Ep(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Dp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getPolygonForTexture",value:function(t,n,i,r){null==n&&(n=0),t+="#"+n;var o=e.polygonStore[t];return null==o&&(o=e.getPolygon(r,i.worldHelper),e.polygonStore[t]=o),o}},{key:"getPolygon",value:function(t,n){var i=n.app.renderer.plugins.extract.pixels(t),r=t.width,o=t.height;if(i.length!==4*r*o)return[{x:0,y:0},{x:r,y:0},{x:r,y:o},{x:0,y:o}];var a=[],s=[];e.addPointsOnLine({x:0,y:0},{x:r-1,y:0},9,s),e.addPointsOnLine({x:r-1,y:0},{x:r-1,y:o-1},9,s),e.addPointsOnLine({x:r-1,y:o-1},{x:0,y:o-1},9,s),e.addPointsOnLine({x:0,y:o-1},{x:0,y:0},9,s);for(var l={x:r/2,y:o/2},u=0,c=s;u<c.length;u++){var d=c[u];e.probe(a,d,l,r,o,i)}for(var f=!1;!f;){f=!0;for(var h=0;h<a.length-1;h++)Yc(a[h],a[(h+2)%a.length],a[h+1])<2&&(a.splice(h+1,1),f=!1)}return a}},{key:"addPointsOnLine",value:function(e,t,n,i){for(var r=(t.x-e.x)/(n-1),o=(t.y-e.y)/(n-1),a=1;a<=n-1+.1;a++)i.push({x:e.x+r*a,y:e.y+o*a})}},{key:"probe",value:function(t,n,i,r,o,a){for(var s,l,u=Uc(n,i),c=(i.x-n.x)/u,d=(i.y-n.y)/u,f=0;f<=u-2&&(s=n.x+f*c,l=n.y+f*d,e.isTransparent(s,l,r,o,a));f++);t.push({x:s,y:l})}},{key:"isTransparent",value:function(e,t,n,i,r){return e<0||t<0||e>n||t>i||0==r[4*Math.round(e)+4*n*Math.round(t)+3]}}],(n=null)&&Ep(t.prototype,n),i&&Ep(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Rp(e,t,n){return t&&zp(e.prototype,t),n&&zp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wp(e,t)}function Wp(e,t){return(Wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Hp(e);if(t){var r=Hp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Np(this,n)}}function Np(e,t){if(t&&("object"===Ip(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $p(e)}function $p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hp(e){return(Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Dp.polygonStore={};var Vp=function(e){Lp(n,e);var t=Gp(n);function n(e){var i;Bp(this,n),(i=t.call(this,"Sprite",e,"Ein Sprite ist eine kleine Pixelgrafik, die verschoben, gedreht und skaliert werden kann. Zudem besitzt es Methoden zum Erkennen von Kollisionen mit anderen grafischen Objekten.")).setBaseClass(e.typeStore.getType("Shape"));var r=e.typeStore.getType("ScaleMode");return i.addMethod(new T("Sprite",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"scalemode",type:r,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new Kp(i,r,o.enumValue.identifier,a,e.main.getInterpreter(),n,null,s.enumValue.identifier);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein Auzählungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhältst Du ein Auswahl von Bildern. Einen Überblick über die Bilder bekommst Du auch über den Menüpunkt Hilfe->Sprite-Bilderübersicht.",!0)),i.addMethod(new T("Sprite",new x([{identifier:"shape",type:e.typeStore.getType("Shape"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"scalemode",type:r,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value;if(null!=i){var o=new Kp(0,0,"",0,e.main.getInterpreter(),n,i.intrinsicData.Actor,r.enumValue.identifier);n.intrinsicData.Actor=o}else e.main.getInterpreter().throwException("Die übergebene Figur ist null.")}),!1,!1,"Zeichnet das graphische Objekt (shape) in eine Bitmap und macht daraus ein Sprite. Dieses wird an der Position (x, y) dargestellt.",!0)),i.addMethod(new T("Sprite",new x([{identifier:"shape",type:e.typeStore.getType("Shape"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value;if(null!=i){var r=new Kp(0,0,"",0,e.main.getInterpreter(),n,i.intrinsicData.Actor,"linear");n.intrinsicData.Actor=r}else e.main.getInterpreter().throwException("Die übergebene Figur ist null.")}),!1,!1,"Zeichnet das graphische Objekt (shape) in eine Bitmap und macht daraus ein Sprite. Dieses wird an der Position (x, y) dargestellt.",!0)),i.addMethod(new T("Sprite",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new Kp(i,r,o.enumValue.identifier,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein Aufzählungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhältst Du ein Auswahl von Bildern. Einen Überblick über die Bilder bekommst Du auch über den Menüpunkt Hilfe->Sprite-Bilderübersicht.",!0)),i.addMethod(new T("Sprite",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new Kp(i,r,o.enumValue.identifier,null,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,"Instanziert ein neues Sprite und stellt es an der Position (x, y) dar. SpriteLibraryEntry ist ein Auzählungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhältst Du ein Auswahl von Bildern. Einen Überblick über die Bilder bekommst Du auch über den Menüpunkt Hilfe->Sprite-Bilderübersicht.",!0)),i.addMethod(new T("setImage",new x([{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.isDestroyed||i.setTexture(n.enumValue.identifier)}),!1,!1,"Ändert das Bild des Sprites. SpriteLibraryEntry ist ein Auzählungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhältst Du ein Auswahl von Bildern. Einen Überblick über die Bilder bekommst Du auch über den Menüpunkt Hilfe->Sprite-Bilderübersicht.",!1)),i.addMethod(new T("setImage",new x([{identifier:"spriteLibraryEntry",type:e.typeStore.getType("SpriteLibrary"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.isDestroyed||r.setTexture(n.enumValue.identifier,i)}),!1,!1,"Ändert das Bild des Sprites. SpriteLibraryEntry ist ein Auzählungstyp (enum). Gib einfach SpriteLibraryEntry gefolgt von einem Punkt ein, dann erhältst Du ein Auswahl von Bildern. Einen Überblick über die Bilder bekommst Du auch über den Menüpunkt Hilfe->Sprite-Bilderübersicht.",!1)),i.addMethod(new T("setImageIndex",new x([{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.isDestroyed||i.setTexture(i.textureName,n)}),!1,!1,"Ändert den Bildindex des Sprites.",!1)),i.addMethod(new T("playAnimation",new x([{identifier:"indexArray",type:new fe(Bt),declaration:null,usagePositions:null,isFinal:!0},{identifier:"repeatType",type:e.typeStore.getType("RepeatType"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"imagesPerSecond",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t,n=e[0].value,i=e[1].value,r=e[2].value,o=e[3].value,a=n.intrinsicData.Actor,s=[],l=Fp(i);try{for(l.s();!(t=l.n()).done;){var u=t.value;s.push(u.value)}}catch(e){l.e(e)}finally{l.f()}a.testdestroyed("playAnimation")||a.playAnimation(s,r.enumValue.identifier,o)}),!1,!1,"Spielt eine Animation ab.",!1)),i.addMethod(new T("playAnimation",new x([{identifier:"fromIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"toIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"repeatType",type:e.typeStore.getType("RepeatType"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"imagesPerSecond",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.Actor;if(!a.testdestroyed("playAnimation")){var s=[];if(Math.abs(i-n)<1e4)for(var l=Math.sign(i-n),u=n;u!=i;u+=l)s.push(u);a.playAnimation(s,r.enumValue.identifier,o)}}),!1,!1,"Spielt eine Animation ab.",!1)),i.addMethod(new T("stopAnimation",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.isDestroyed||t.stopAnimation(!1)}),!1,!1,"Stoppt die gerade laufende Animation",!1)),i.addMethod(new T("pauseAnimation",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("pauseAnimation")||t.pauseAnimation()}),!1,!1,"Pausiert die laufende Animation.",!1)),i.addMethod(new T("resumeAnimation",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("resumeAnimation")||t.resumeAnimation()}),!1,!1,"Fährt mit einer pausierten Animation wieder fort.",!1)),i.addMethod(new T("setAlpha",new x([{identifier:"alphaValue",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("setAlpha")||i.setAlpha(n)}),!1,!1,"Setzt die Durchsichtigkeit. 0.0 bedeutet vollkommen durchsichtig, 1.0 bedeutet vollkommen undurchsichtig.",!1)),i.addMethod(new T("copy",new x([]),$p(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Sprite-Objekts und git sie zurück.",!1)),i.addMethod(new T("getWidth",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.getWidth()}),!1,!1,"Gibt die Breite zurück.",!1)),i.addMethod(new T("getHeight",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.getHeight()}),!1,!1,"Gibt die Höhe zurück.",!1)),i.addMethod(new T("makeTiling",new x([{identifier:"width",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("makeTiling")||r.makeTiling(n,i)}),!1,!1,"Fügt das identische Bild nach rechts und unten kachelartig ('tile'!) so oft hinzu, bis die angegebene Breite erreicht ist. \nTIPP: Mit der Methode getTileImage() erhält man ein Tile-Objekt, dessen Methoden move, scale, mirrorX und mirrorY sich gleichzeitig auf jede einzelne Kachel auswirken.",!1)),i.addMethod(new T("getTileImage",new x([]),e.typeStore.getType("Tile"),(function(t){var n=t[0].value.intrinsicData.Actor;if(!n.testdestroyed("getTileImage")){if(n.isTileSprite){var i=new E(e.typeStore.getType("Tile"));return i.intrinsicData.Actor=new Up(n),i}n.worldHelper.interpreter.throwException("Das Sprite hat kein TileImage. Sie müssen es zuerst mit der Methode makeTiling in ein Kachel-Sprite umwandeln.")}}),!1,!1,"Nachdem das Sprite mittels der Methode 'makeTiling' zum TileSprite gemacht wurde, kann wirken die Methoden move, scale und rotate immer auf den ganzen gekachelten Bereich. Will man das verfielfachte Bild ändern, so bekommt man über diese Methode das Sprite-Objekt, das diesem Bild entspricht. Ruft man für dieses Objekt die Methoden move, rotate oder scale auf, so wirken sie auf jede der einzelnen Kacheln.",!1)),i}return Rp(n)}(J),Kp=function(e){Lp(n,e);var t=Gp(n);function n(e,i,r,o,a,s,l){var u,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"nearest_neighbour";if(Bp(this,n),(u=t.call(this,a,s)).x=e,u.y=i,u.name=r,u.index=o,u.scaleMode=c,u.animationIndices=[],u.animationRuns=!1,u.imagesPerMillisecond=1,u.animationTime=0,u.animationPaused=!1,u.repeatType="once",u.textureName="",u.isTileSprite=!1,null==l)u.setTexture(null,o);else{u.copyBitmapFromShape(l);var d=l.displayObject.getBounds();u.x=d.left+d.width/2,u.y=d.top+d.height/2}var f=u.displayObject;return u.displayObject.localTransform.translate(u.x-f.width/2,u.y-f.height/2),u.displayObject.transform.onChange(),u.worldHelper.stage.addChild(f),u.centerXInitial=f.width/2,u.centerYInitial=f.height/2,u.addToDefaultGroupAndSetDefaultVisibility(),u}return Rp(n,[{key:"makeTiling",value:function(e,t){e/=this.scaleFactor,t/=this.scaleFactor;var n=this.displayObject,i=new PIXI.TilingSprite(n.texture,e,t);n.texture.baseTexture.mipmap=PIXI.MIPMAP_MODES.OFF,i.setParent(n.parent),i.transform.localTransform.copyFrom(n.transform.localTransform),i.transform.onChange(),i.updateTransform(),this.displayObject=i,this.centerXInitial+=-n.width/2+e/2,this.centerYInitial+=-n.height/2+t/2;var r=this.centerXInitial-e/2,o=this.centerYInitial-t/2,a=r+e,s=o+t;this.hitPolygonInitial=[{x:r,y:o},{x:a,y:o},{x:a,y:s},{x:r,y:s}],this.setHitPolygonDirty(!0),n.destroy(),this.isTileSprite=!0}},{key:"setTileOffset",value:function(e,t){this.isTileSprite&&this.displayObject.tilePosition.set(e,t)}},{key:"copyBitmapFromShape",value:function(e){var t=e.displayObject.getBounds(),n=t.width,i=t.height,r=new PIXI.BaseRenderTexture({scaleMode:"nearest_neighbour"==this.scaleMode?PIXI.SCALE_MODES.NEAREST:PIXI.SCALE_MODES.LINEAR,width:n,height:i}),o=new PIXI.RenderTexture(r),a=e.displayObject;this.worldHelper.app.renderer.render(a,{renderTexture:o,transform:(new PIXI.Matrix).translate(-t.left,-t.top)});var s,l=[],u=Fp(l=this.extractPoints(e,l));try{for(u.s();!(s=u.n()).done;){var c=s.value;c.x-=t.left,c.y-=t.top}}catch(e){u.e(e)}finally{u.f()}this.hitPolygonInitial=l,this.hitPolygonInitial=Sh.makeHull(l),this.hitPolygonDirty=!0,this.displayObject=new PIXI.Sprite(o),e.setHitPolygonDirty(!0)}},{key:"extractPoints",value:function(e,t){if(e instanceof yh){var n,i=Fp(e.shapes);try{for(i.s();!(n=i.n()).done;){var r=n.value;t=this.extractPoints(r.intrinsicData.Actor,t)}}catch(e){i.e(e)}finally{i.f()}return t}return e.hitPolygonDirty&&e.transformHitPolygon(),t.concat(e.hitPolygonTransformed.map((function(e){return{x:e.x,y:e.y}})))}},{key:"getWidth",value:function(){return this.displayObject.width*this.scaleFactor}},{key:"getHeight",value:function(){return this.displayObject.height*this.scaleFactor}},{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.x,this.y,this.name,this.index,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.copyFrom(this),i.render(),t}},{key:"setAlpha",value:function(e){this.displayObject.alpha=e}},{key:"setTexture",value:function(e,t){if(e!=this.name||t!=this.index){null==e&&(e=this.name),null==t&&(t=0),this.index=t,this.textureName=e;var n=PIXI.Loader.shared.resources.spritesheet.spritesheet,i=e+"#"+t,r=n.textures[i];if(null!=r){if("linear"==this.scaleMode){var o=this.worldHelper.scaledTextures[i];if(null==o){var a=new PIXI.Sprite(r),s=PIXI.RenderTexture.create({width:a.width,height:a.height,scaleMode:PIXI.SCALE_MODES.LINEAR});this.worldHelper.app.renderer.render(a,{renderTexture:s}),this.worldHelper.scaledTextures[i]=s,o=s}null==(r=o)&&(r=n.textures[i])}var l=this.displayObject;null==l?(l=new PIXI.Sprite(r),this.displayObject=l):l.texture=r,this.hitPolygonInitial=Dp.getPolygonForTexture(e,t,this,new PIXI.Sprite(n.textures[i])),this.hitPolygonDirty=!0}else null==this.displayObject&&(this.displayObject=new PIXI.Sprite)}}},{key:"render",value:function(){}},{key:"playAnimation",value:function(e,t,n){this.stopAnimation(!1),this.animationIndices=e,this.repeatType=t,this.imagesPerMillisecond=n/1e3,this.animationTime=0,this.animationRuns=!0,this.worldHelper.spriteAnimations.push(this)}},{key:"stopAnimation",value:function(e){if(this.animationRuns){var t=this.worldHelper.spriteAnimations,n=t.indexOf(this);n>=0&&t.splice(n,1)}this.animationRuns=!1,e&&this.setVisible(!1)}},{key:"pauseAnimation",value:function(){this.animationPaused=!0}},{key:"resumeAnimation",value:function(){this.animationPaused=!1}},{key:"tick",value:function(e){if(!this.animationPaused){var t;if("backAndForth"==this.repeatType){var n=2*this.animationIndices.length/this.imagesPerMillisecond,i=Math.trunc(this.animationTime/n),r=this.animationTime-i*n;(t=this.imagesPerMillisecond*r)>=this.animationIndices.length&&(t=Math.max(2*this.animationIndices.length-.1-t,0)),t=Math.trunc(t)}else if("loop"==this.repeatType){var o=this.animationIndices.length/this.imagesPerMillisecond,a=Math.trunc(this.animationTime/o),s=this.animationTime-a*o;t=this.imagesPerMillisecond*s,t=Math.trunc(t)}else if((t=Math.trunc(this.imagesPerMillisecond*this.animationTime))>=this.animationIndices.length)return void this.stopAnimation(!0);this.animationTime+=e,this.setTexture(null,this.animationIndices[t])}}}]),n}(yd),Qp=function(e){Lp(n,e);var t=Gp(n);function n(e){var i;return Bp(this,n),(i=t.call(this,"Tile",e,"Eine Kachel in einem Sprite, das mithilfe der Methode makeTiling zu einer Kachelfläche gemacht wurde.")).setBaseClass(e.typeStore.getType("Object")),i.addMethod(new T("move",new x([{identifier:"dx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dy",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("move")||r.move(n,i)}),!1,!1,"Verschiebt das Grafikobjekt um dx Pixel nach rechts und um dy Pixel nach unten.",!1)),i.addMethod(new T("scale",new x([{identifier:"factor",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("scale")||i.scale(n,n)}),!1,!1,"Streckt das Grafikobjekt um den angegebenen Faktor. Das Zentrum der Streckung ist der 'Mittelpunkt' des Objekts.",!1)),i.addMethod(new T("mirrorX",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.scale(-1,1)}),!1,!1,"Spiegelt das Objekt in X-Richtung.",!1)),i.addMethod(new T("mirrorY",new x([]),Rt,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("mirrorX")||t.scale(1,-1)}),!1,!1,"Spiegelt das Objekt in Y-Richtung.",!1)),i}return Rp(n)}(J),Up=function(){function e(t){Bp(this,e),this.spriteHelper=t}return Rp(e,[{key:"move",value:function(e,t){var n=this.spriteHelper.displayObject;n.tilePosition.x+=e,n.tilePosition.y+=t}},{key:"scale",value:function(e,t){var n=this.spriteHelper.displayObject;n.tileScale.x*=e,n.tileScale.y*=t}},{key:"testdestroyed",value:function(e){return this.spriteHelper.testdestroyed(e)}}]),e}();function Zp(e){return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qp(e,t){return(qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ey(e);if(t){var r=ey(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jp(this,n)}}function Jp(e,t){if(t&&("object"===Zp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ey(e){return(ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ty=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qp(e,t)}(a,e);var t,n,i,o=Yp(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,"SpriteLibrary",e,SpriteLibrary.filter((function(e){return null==e.index||0==e.index})).map((function(e){return{type:r.pushEnumValue,position:null,identifier:e.name}})))).documentation="Aufzählung der Sprite-Grafiken",t}return t=a,n&&Xp(t.prototype,n),i&&Xp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Fn);function ny(e){return(ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ry(e,t,n){return t&&iy(e.prototype,t),n&&iy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ay(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return(sy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ly(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=dy(e);if(t){var r=dy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return uy(this,n)}}function uy(e,t){if(t&&("object"===ny(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cy(e)}function cy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dy(e){return(dy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fy=function(e){ay(n,e);var t=ly(n);function n(e){var i;return oy(this,n),(i=t.call(this,"Text",e,"Text, der innerhalb der Grafikausgabe dargestellt werden kann")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("Text",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"fontsize",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new hy(i,r,o,a,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert ein neues Textobjekt. (x, y) sind die Koordinaten des Textankers (default: links oben), fontsize die Höhe des Textes in Pixeln.",!0)),i.addMethod(new T("Text",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"fontsize",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"font-family",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=t[5].value,l=new hy(i,r,o,a,e.main.getInterpreter(),n,s);n.intrinsicData.Actor=l}),!1,!1,"Instanziert ein neues Textobjekt. (x, y) sind die Koordinaten des Textankers (default: links oben), fontsize die Höhe des Textes in Pixeln.",!0)),i.addMethod(new T("setFontsize",new x([{identifier:"fontsize",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setFontsize(n)}),!1,!1,"Setzt die Schriftgröße des Textes (Einheit: Pixel).",!1)),i.addMethod(new T("setAlignment",new x([{identifier:"alignment",type:e.typeStore.getType("Alignment"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setAlignment(n.enumValue.identifier)}),!1,!1,'Setzt die Ausrichtung in X-Richtung. Zulässige Werte sind "Alignment.left", "Alignment.right" und "Alignment.center".',!1)),i.addMethod(new T("setText",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Actor.setText(n)}),!1,!1,"Setzt den Text.",!1)),i.addMethod(new T("copy",new x([]),cy(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Text-Objekts und git sie zurück.",!1)),i.addMethod(new T("getWidth",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getWidth"))return t.getWidth()}),!1,!1,"Gibt die Breite des Textes zurück.",!1)),i.addMethod(new T("getHeight",new x([]),Wt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("getHeight"))return t.getHeight()}),!1,!1,"Gibt die Höhe des Textes zurück.",!1)),i.addMethod(new T("setStyle",new x([{identifier:"isBold",type:Gt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"isItalic",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Actor;r.testdestroyed("getHeight")||r.setStyle(n,i)}),!1,!1,"Gibt die Höhe des Textes zurück.",!1)),i}return ry(n)}(J),hy=function(e){ay(n,e);var t=ly(n);function n(e,i,r,o,a,s,l){var u;return oy(this,n),(u=t.call(this,a,s)).x=e,u.y=i,u.fontsize=r,u.text=o,u.fontFamily=l,u.alignment="left",u.textStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:u.fontsize,fontStyle:"normal",fontWeight:"normal",fill:[u.fillColor],stroke:u.borderColor,strokeThickness:u.borderWidth,dropShadow:!1,wordWrap:!1,align:"left",lineJoin:"round"}),u.centerXInitial=e,u.centerYInitial=i,0==u.fontsize&&(u.fontsize=10),u.borderColor=null,u.textStyle.stroke=null,null!=l&&(u.textStyle.fontFamily=l),u.hitPolygonInitial=[],u.render(),u.addToDefaultGroupAndSetDefaultVisibility(),u}return ry(n,[{key:"setStyle",value:function(e,t){this.textStyle.fontWeight=e?"bold":"normal",this.textStyle.fontStyle=t?"italic":"normal",this.render()}},{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.x,this.y,this.fontsize,this.text,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.alignment=this.alignment,i.copyFrom(this),i.render(),t}},{key:"render",value:function(){var e=this.displayObject;if(this.textStyle.fill=this.fillColor,this.textStyle.stroke=this.borderColor,this.textStyle.strokeThickness=this.borderWidth,this.textStyle.fontSize=this.fontsize,null==this.displayObject)e=new PIXI.Text(this.text,this.textStyle),this.displayObject=e,this.displayObject.localTransform.translate(this.x,this.y),this.displayObject.transform.onChange(),this.worldHelper.stage.addChild(e);else{switch(e.text=this.text,e.alpha=this.fillAlpha,this.alignment){case"left":e.anchor.x=0;break;case"center":e.anchor.x=.5;break;case"right":e.anchor.x=1}e.style=this.textStyle}if(this.centerXInitial=0,this.centerYInitial=0,null!=this.text){var t=PIXI.TextMetrics.measureText(this.text,this.textStyle);this.centerXInitial=t.width/2,this.centerYInitial=t.height/2}}},{key:"setFontsize",value:function(e){this.fontsize=e,0==this.fontsize&&(this.fontsize=10),this.render()}},{key:"setText",value:function(e){this.text=e,this.render()}},{key:"setAlignment",value:function(e){this.alignment=e,this.render()}},{key:"getWidth",value:function(){return this.displayObject.width}},{key:"getHeight",value:function(){return this.displayObject.height}}]),n}(Gd);function py(e){return(py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vy(e,t){return(vy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function my(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=by(e);if(t){var r=by(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return gy(this,n)}}function gy(e,t){if(t&&("object"===py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function by(e){return(by=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}(o,e);var t,n,i,r=my(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Input",e,"Klasse mit statischen Methoden zur Eingabe von Text per Tastatur")).setBaseClass(e.typeStore.getType("Object")),t.addMethod(new T("readChar",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Ht,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp char")),t.addMethod(new T("readInt",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp int")),t.addMethod(new T("readString",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp String")),t.addMethod(new T("readFloat",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),Lt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp float")),t.addMethod(new T("readDouble",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp double")),t.addMethod(new T("readBoolean",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Defaultwert",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp boolean")),t.addMethod(new T("readChar",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Ht,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp char")),t.addMethod(new T("readInt",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp int")),t.addMethod(new T("readString",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),$t,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp String")),t.addMethod(new T("readFloat",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Lt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp float")),t.addMethod(new T("readDouble",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp double")),t.addMethod(new T("readBoolean",new x([{identifier:"Meldungstext",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){return null}),!1,!0,"Erwartet vom Benutzer die Eingabe eines Wertes vom Datentyp boolean")),t}return t=o,n&&yy(t.prototype,n),i&&yy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function ky(e){return(ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Py(e,t){return(Py=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xy(e);if(t){var r=xy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ty(this,n)}}function Ty(e,t){if(t&&("object"===ky(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xy(e){return(xy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var My=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}(o,e);var t,n,i,r=jy(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Gamepad",e,"Klasse mit statischen Methoden zur Abfrage der Gamepads")).setBaseClass(e.typeStore.getType("Object")),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t.addMethod(new T("isButtonDown",new x([{identifier:"gamepadIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"buttonIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.isGamepadButtonPressed(n,i)}),!1,!0,"Gibt genau dann true zurück, wenn der Button buttonIndex des Gamepads GamepadIndex gedrückt ist.",!1)),t.addMethod(new T("isConnected",new x([{identifier:"gamepadIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(t){t[0].value;var n=t[1].value;return e.main.getInterpreter().gamepadTool.isGamepadConnected(n)}),!1,!0,"Gibt true zurück, falls das Gamepad mit dem übergebenen Index angeschlossen ist. VORSICHT: Das erste Gamepad hat Index 0.",!1)),t.addMethod(new T("getAxisValue",new x([{identifier:"gamepadIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"axisIndex",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(t){t[0].value;var n=t[1].value,i=t[2].value;return e.main.getInterpreter().gamepadTool.getGamepadAxisValue(n,i)}),!1,!0,"Gibt den Wert des Gamepad-Steuerknüppels mit Index axisIndex zurück.",!1)),t}return t=o,n&&Sy(t.prototype,n),i&&Sy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Oy(e){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ay(e,t){return(Ay=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ey(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Iy(e);if(t){var r=Iy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Dy(this,n)}}function Dy(e,t){if(t&&("object"===Oy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Iy(e){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}(o,e);var t,n,i,r=Ey(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Math",e,"Klasse mit statischen Methoden zur Berechnung mathematischer Funktionen (sin, cos, abs, ...) und zur Ermittlung von Zufallszahlen.")).setBaseClass(e.typeStore.getType("Object")),t.addAttribute(new j("PI",Wt,(function(e){e.value=Math.PI}),!0,_.public,!0,"Die Kreiszahl Pi (3.1415...)")),t.addAttribute(new j("E",Wt,(function(e){e.value=Math.E}),!0,_.public,!0,"Die Eulersche Zahl e")),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass),t.addMethod(new T("round",new x([{identifier:"Wert",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.round(e[1].value)}),!1,!0,"**Rundet** den Wert")),t.addMethod(new T("floor",new x([{identifier:"Wert",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.floor(e[1].value)}),!1,!0,"Rundet den Wert ab, sucht also die **nächstkleinere** ganze Zahl")),t.addMethod(new T("ceil",new x([{identifier:"Wert",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.ceil(e[1].value)}),!1,!0,"Rundet den Wert auf, sucht also die **nächstgrößere** Zahl.")),t.addMethod(new T("signum",new x([{identifier:"Wert",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.sign(e[1].value)}),!1,!0,"Gibt das Vorzeichen der Zahl zurück, d.h. \n  - -1, falls die Zahl **negativ** ist,\n  - 0, falls die Zahl **0** ist und\n  - +1, falls die Zahl **positiv** ist.")),t.addMethod(new T("sqrt",new x([{identifier:"Wert",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.sqrt(e[1].value)}),!1,!0,"Gibt die **Quadratwurzel** der Zahl zurück. Für andere Wurzeln benutze Math.pow(a, b), z.B. Math.pow(10, 1.0/3.0) für die Kubikwurzel aus 10.")),t.addMethod(new T("random",new x([]),Wt,(function(e){return Math.random()}),!1,!0,"Gibt eine Zufallszahl aus dem Intervall [0;1[ zurück.")),t.addMethod(new T("pow",new x([{identifier:"Basis",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"Exponent",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.pow(e[1].value,e[2].value)}),!1,!0,'Math.pow(a, b) gibt "a hoch b" zurück.')),t.addMethod(new T("toDegrees",new x([{identifier:"WinkelInRad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return e[1].value/Math.PI*180}),!1,!0,"Wandelt einen Winkel von Rad in Grad um, d.h. berechnet Winkel/Pi*180.")),t.addMethod(new T("toRadians",new x([{identifier:"WinkelInGrad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return e[1].value/180*Math.PI}),!1,!0,"Wandelt einen Winkel von Grad in Rad um, d.h. berechnet Winkel/180*Pi.")),t.addMethod(new T("exp",new x([{identifier:"Zahl",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.exp(e[1].value)}),!1,!0,'Berechnet "e hoch die Zahl".')),t.addMethod(new T("log",new x([{identifier:"Zahl",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.log(e[1].value)}),!1,!0,"Berechnet den natürlichen Logarithmus der Zahl.")),t.addMethod(new T("log10",new x([{identifier:"Zahl",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.log10(e[1].value)}),!1,!0,"Berechnet den Zehnerlogarithmus der Zahl.")),t.addMethod(new T("sin",new x([{identifier:"WinkelInRad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.sin(e[1].value)}),!1,!0,"Berechnet den Sinus des Winkels.")),t.addMethod(new T("cos",new x([{identifier:"WinkelInRad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.cos(e[1].value)}),!1,!0,"Berechnet den Cosinus des Winkels.")),t.addMethod(new T("tan",new x([{identifier:"WinkelInRad",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.tan(e[1].value)}),!1,!0,"Berechnet den Tangens des Winkels.")),t.addMethod(new T("asin",new x([{identifier:"WertDesSinus",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.asin(e[1].value)}),!1,!0,"Berechnet den Arcus-Sinus des Wertes in Rad.")),t.addMethod(new T("acos",new x([{identifier:"WertDesCosinus",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.acos(e[1].value)}),!1,!0,"Berechnet den Arcus-Cosinus des Wertes in Rad.")),t.addMethod(new T("atan",new x([{identifier:"WertDesTangens",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.atan(e[1].value)}),!1,!0,"Berechnet den Arcus-Tangens des Wertes in Rad.")),t.addMethod(new T("atan2",new x([{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.atan2(e[1].value,e[2].value)}),!1,!0,"Sind (x, y) die kartesischen Koordinaten eines Punktes, so ist Math.atan2(x, y) der Winkel alpha der Polarkoordinaten (alpha, r) des Punktes. \n**Bem.: **Alpha wird in Rad berechnet.")),t.addMethod(new T("abs",new x([{identifier:"Wert",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),t.addMethod(new T("abs",new x([{identifier:"Wert",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),Lt,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),t.addMethod(new T("abs",new x([{identifier:"Wert",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.abs(e[1].value)}),!1,!0,"Berechnet den Betrag des Wertes.")),t.addMethod(new T("max",new x([{identifier:"a",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die größere der beiden Zahlen zurück.")),t.addMethod(new T("max",new x([{identifier:"a",type:Lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),Lt,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die größere der beiden Zahlen zurück.")),t.addMethod(new T("max",new x([{identifier:"a",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.max(e[1].value,e[2].value)}),!1,!0,"Gibt die größere der beiden Zahlen zurück.")),t.addMethod(new T("min",new x([{identifier:"a",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zurück.")),t.addMethod(new T("min",new x([{identifier:"a",type:Lt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:Lt,declaration:null,usagePositions:null,isFinal:!0}]),Lt,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zurück.")),t.addMethod(new T("min",new x([{identifier:"a",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){return Math.min(e[1].value,e[2].value)}),!1,!0,"Gibt die kleinere der beiden Zahlen zurück.")),t}return t=o,n&&Cy(t.prototype,n),i&&Cy(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function _y(e){return(_y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zy(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function By(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ly(e,t){return(Ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ny(e);if(t){var r=Ny(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Gy(this,n)}}function Gy(e,t){if(t&&("object"===_y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ny(e){return(Ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}(o,e);var t,n,i,r=Wy(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"MathTools",e,"Klasse mit mathematischen Hilfsfunktionen als statische Methoden")).setBaseClass(e.typeStore.getType("Object")),t.staticClass.setupAttributeIndicesRecursive(),t.staticClass.classObject=new E(t.staticClass);var n=e.typeStore.getType("Vector2"),i=new fe(n),a=n.attributeMap.get("x").index,s=n.attributeMap.get("y").index;return t.addMethod(new T("intersectCircleWithPolygon",new x([{identifier:"mx",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"my",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"r",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"points",type:i,declaration:null,usagePositions:null,isFinal:!0}]),i,(function(e){var t,i=e[1].value,r=e[2].value,o=e[3].value,l=[],u=zy(e[4].value);try{for(u.s();!(t=u.n()).done;){var c=t.value;l.push({x:c.value.attributes[a].value,y:c.value.attributes[s].value})}}catch(e){u.e(e)}finally{u.f()}for(var d=[],f={x:i,y:r},h=0;h<l.length;h++){Xc(f,o,l[h],l[(h+1)%l.length],d)}for(var p=[],y=0,v=d;y<v.length;y++){var m=v[y],g=new E(n);g.attributes[a]={type:Wt,value:m.x},g.attributes[s]={type:Wt,value:m.y},p.push({type:n,value:g})}return p}),!1,!0,"Zu einem gegebenen Kreis werden die Punkte berechnet, die auf den Seiten eines gegebenen Polygons liegen.")),t.addMethod(new T("intersectLineSegments",new x([{identifier:"p0",type:n,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p1",type:n,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p2",type:n,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p3",type:n,declaration:null,usagePositions:null,isFinal:!0}]),n,(function(e){for(var t=[],i=0;i<4;i++){var r=e[i].value.attributes;t.push({x:r[a].value,y:r[s].value})}var o={x:0,y:0};if(Qc(t[0],t[1],t[2],t[3],o)){var l=new E(n);return l.attributes[a]={type:Wt,value:o.x},l.attributes[s]={type:Wt,value:o.y},l}return null}),!1,!0,"Berechnet den Schnittpunkt der Strecken [p0, p1] und [p2, p3]. Gibt null zurück, wenn sich die Strecken nicht schneiden oder wenn sie parallel sind und teilweise aufeinander liegen.")),t.addMethod(new T("polygonContainsPoint",new x([{identifier:"polygonPoints",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"p",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t,n=[],i=zy(e[1].value);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push({x:r.value.attributes[a].value,y:r.value.attributes[s].value})}}catch(e){i.e(e)}finally{i.f()}var o=e[2].value.attributes;return Zc(n,{x:o[a].value,y:o[s].value})}),!1,!0,"Gibt genau dann true zurück, wenn das Polygon den Punkt enthält.")),t.addMethod(new T("distancePointToLine",new x([{identifier:"p",type:n,declaration:null,usagePositions:null,isFinal:!0},{identifier:"a",type:n,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){for(var t=[],n=0;n<3;n++){var i=e[n].value.attributes;t.push({x:i[a].value,y:i[s].value})}return Yc(t[1],t[2],t[0])}),!1,!0,"Berechnet den Abstand des Punktes P zur Gerade AB.")),t.addMethod(new T("distancePointToLineSegment",new x([{identifier:"p",type:n,declaration:null,usagePositions:null,isFinal:!0},{identifier:"a",type:n,declaration:null,usagePositions:null,isFinal:!0},{identifier:"b",type:n,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){for(var t=[],n=0;n<3;n++){var i=e[n].value.attributes;t.push({x:i[a].value,y:i[s].value})}return qc(t[1],t[2],t[0])}),!1,!0,"Berechnet den Abstand des Punktes P zur Strecke [AB].")),t}return t=o,n&&By(t.prototype,n),i&&By(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Hy(e){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ky(e,t,n){return t&&Vy(e.prototype,t),n&&Vy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zy(e,t)}function Zy(e,t){return(Zy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Yy(e);if(t){var r=Yy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return qy(this,n)}}function qy(e,t){if(t&&("object"===Hy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yy(e){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jy=function(e){Uy(n,e);var t=Xy(n);function n(e){var i;return Qy(this,n),(i=t.call(this,"System",e,"Klasse mit statischen Methoden für Systemfunktionen, z.B. Sound, Löschen der Ausgabe usw.")).deltaTimeMillis=0,i.printStream=new E(e.typeStore.getType("PrintStream")),i.setBaseClass(e.typeStore.getType("Object")),i.addAttribute(new j("out",e.typeStore.getType("PrintStream"),(function(e){e.value=i.printStream}),!0,_.public,!0,"PrintStream-Objekt, mit dem Text ausgegeben werden kann.")),i.staticClass.setupAttributeIndicesRecursive(),i.staticClass.classObject=new E(i.staticClass),i.addMethod(new T("currentTimeMillis",new x([]),Bt,(function(e){return Date.now()+i.deltaTimeMillis}),!1,!0,"Gibt die Anzahl der Millisekunden, die seit dem 01.01.1970 00:00:00 UTC vergangen sind, zurück.")),i.addMethod(new T("exit",new x([{identifier:"status",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(t){var n,i=null===(n=e.main.getBottomDiv())||void 0===n?void 0:n.console;null!=i&&(i.writeConsoleEntry("Das Programm wurde angehalten mit Statuswert: "+t[1].value,null,"#0000ff"),i.showTab()),e.main.getInterpreter().stop()}),!1,!0,"Beendet das Programm und gibt den übergebenen Wert in der Konsole aus.")),i}return Ky(n)}(J),ev=function(e){Uy(n,e);var t=Xy(n);function n(e){var i;return Qy(this,n),(i=t.call(this,"PrintStream",e,"Interne Hilfsklasse, um System.out.println zu ermöglichen. Das Objekt System.out ist von der Klasse PrintStream.")).setBaseClass(e.typeStore.getType("Object")),i.addMethod(new T("print",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){e.main.getInterpreter().printManager.print(t[1].value)}),!1,!0,"Gibt den Text aus.")),i.addMethod(new T("println",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){e.main.getInterpreter().printManager.println(t[1].value)}),!1,!0,"Gibt den Text aus, gefolgt von einem Zeilensprung.")),i.addMethod(new T("println",new x([]),null,(function(t){e.main.getInterpreter().printManager.println("")}),!1,!0,"Setzt den Cursor in die nächste Zeile.")),i}return Ky(n)}(J);function tv(e){return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function iv(e,t,n){return t&&nv(e.prototype,t),n&&nv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ov(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}function av(e,t){return(av=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=uv(e);if(t){var r=uv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lv(this,n)}}function lv(e,t){if(t&&("object"===tv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uv(e){return(uv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cv=function(e){ov(n,e);var t=sv(n);function n(e){var i;return rv(this,n),(i=t.call(this,"SystemTools",e,"Klasse mit statischen Methoden für Systemfunktionen, z.B. Löschen der Ausgabe, Registrieren eines Tastaturlisteners usw.")).setBaseClass(e.typeStore.getType("Object")),i.staticClass.setupAttributeIndicesRecursive(),i.staticClass.classObject=new E(i.staticClass),i.addMethod(new T("clearScreen",new x([]),null,(function(t){e.main.getInterpreter().printManager.clear()}),!1,!0,"Löscht den Bildschirm")),i.addMethod(new T("setSpeed",new x([{identifier:"speed",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[1].value;e.main.getInterpreter().controlButtons.speedControl.setSpeedInStepsPerSecond(n>=1?n:"max")}),!1,!0,"Setzt die Ausführungsgeschwindigkeit. Der Parameter speed wir in Steps/Sekunde angegeben. Eine negative Zahl bedeutet: 'maximal'.")),i.addMethod(new T("getSpeed",new x([]),Bt,(function(t){return e.main.getInterpreter().controlButtons.speedControl.getSpeedInStepsPerSecond()}),!1,!0,"Gibt die Ausführungsgeschwindigkeit in Steps pro Sekunde zurück.")),i.addMethod(new T("pause",new x([{identifier:"durationInMs",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){}),!1,!0,"Pausiert das Programm für die angegebene Zeit in ms.")),i.addMethod(new T("addKeyListener",new x([{identifier:"keyListener",type:e.typeStore.getType("KeyListener"),declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[1].value,i=n.class.getMethodBySignature("onKeyTyped(String)");null!=i&&e.main.getInterpreter().keyboardTool.keyPressedCallbacks.push((function(t){var r=null==i?void 0:i.program,o=null==i?void 0:i.invoke,a=[{type:n.class,value:n},{type:$t,value:t}];null!=r?e.main.getInterpreter().runTimer(i,a,null,!1):null!=o&&o([])}))}),!1,!0,"Fügt einen KeyListener hinzu, dessen Methode keyTyped immer dann aufgerufen wird, wenn eine Taste gedrückt und anschließend losgelassen wird.")),i}return iv(n)}(J),dv=function(e){ov(n,e);var t=sv(n);function n(e){var i;return rv(this,n),(i=t.call(this,"KeyListener",e,"Interface mit Methode onKeyTyped. Eine Klasse, die dieses Interface implementiert, kann auf Tastatureingaben reagieren. Ein Objekt dieser Klasse muss zuvor aber mit System.addKeyListener() registriert werden.")).addMethod(new T("onKeyTyped",new x([{identifier:"key",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, nachdem eine Taste gedrückt wurde.")),i}return iv(n)}(te);function fv(e){return(fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hv(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pv(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function yv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vv(e,t,n){return t&&yv(e.prototype,t),n&&yv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bv(e,t)}function bv(e,t){return(bv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Sv(e);if(t){var r=Sv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return kv(this,n)}}function kv(e,t){if(t&&("object"===fv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sv(e){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pv=function(e){gv(n,e);var t=wv(n);function n(e){var i;return mv(this,n),(i=t.call(this,"Runnable",e)).addMethod(new T("run",new x([]),Rt,null,!1,!1,"Wird vom Timer immer wieder aufgerufen")),i}return vv(n)}(te),jv=function(e){gv(n,e);var t=wv(n);function n(e){var i;return mv(this,n),(i=t.call(this,"Timer",e,"Timer Klasse zur periodischen Ausführung von Methoden")).timerEntries=[],i.timerRunning=!1,i.timerStarted=!1,i.setBaseClass(e.typeStore.getType("Object")),i.staticClass.classObject=new E(i.staticClass),i.addMethod(new T("repeat",new x([{identifier:"runnable",type:e.typeStore.getType("Runnable"),declaration:null,usagePositions:null,isFinal:!0},{identifier:"deltaTimeInMs",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[1].value,n={timerListener:t,dt:e[2].value,lastTimeFired:0,running:!0,method:t.class.getMethod("run",new x([]))};i.timerEntries.push(n)}),!1,!0,"Fügt ein neues TimerListener-Objekt hinzu und ruft dessen tick-Methode immer wieder auf.")),i}return vv(n,[{key:"startTimer",value:function(){this.timerStarted||(this.timerStarted=!0,this.processTimerEntries())}},{key:"stopTimer",value:function(){this.timerStarted=!1}},{key:"processTimerEntries",value:function(){var e,t;if(this.timerStarted){if(this.timerEntries.length>0){var n=null===(t=null===(e=this.module)||void 0===e?void 0:e.main)||void 0===t?void 0:t.getInterpreter();if(null!=n){if(!this.timerRunning&&n.state==ic.running){var i,r=performance.now(),o=hv(this.timerEntries);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=r-a.lastTimeFired;s>=a.dt&&(this.runEntry(a,n,Math.round(s)),a.lastTimeFired=r)}}catch(e){o.e(e)}finally{o.f()}}switch(n.state){case ic.done:case ic.error:case ic.not_initialized:this.timerEntries=[],this.timerRunning=!1}}}var l=this;setTimeout((function(){l.processTimerEntries()}),10)}}},{key:"runEntry",value:function(e,t,n){var i=[{type:e.timerListener.class,value:e.timerListener}];this.timerRunning=!0;var r=this;t.runTimer(e.method,i,(function(e){r.timerRunning=!1}),!1)}}]),n}(J);function Tv(e){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mv(e,t){return(Mv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ov(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Av(e);if(t){var r=Av(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Cv(this,n)}}function Cv(e,t){if(t&&("object"===Tv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Av(e){return(Av=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ev=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mv(e,t)}(o,e);var t,n,i,r=Ov(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"Map",e,"Interface mit Methoden einer Map (Schlüssel-Wert-Speicher)");var n=e.typeStore.getType("Object"),i=n.clone();i.identifier="K",i.isTypeVariable=!0;var a={identifier:"K",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=n.clone();s.identifier="V",s.isTypeVariable=!0;var l={identifier:"V",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:s};return t.typeVariables.push(l),t.addMethod(new T("size",new x([]),Bt,null,!0,!1,"Gibt die Anzahl der Elemente der Map zurück.")),t.addMethod(new T("isEmpty",new x([]),Gt,null,!0,!1,"Testet, ob die Map leer ist.")),t.addMethod(new T("containsKey",new x([{identifier:"key",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Gibt genau dann true zurück, wenn die Map zum Schlüssel key einen Wert enthält.")),t.addMethod(new T("containsValue",new x([{identifier:"value",type:s,declaration:null,usagePositions:null,isFinal:!0}]),Gt,null,!0,!1,"Gibt genau dann true zurück, wenn die Map den Wert enthält.")),t.addMethod(new T("get",new x([{identifier:"key",type:i,declaration:null,usagePositions:null,isFinal:!0}]),s,null,!0,!1,"Gibt den Wert zum Schlüssel key zurück. Gibt null zurück, falls die Map zum Schlüssel key keinen Wert enthält.")),t.addMethod(new T("put",new x([{identifier:"key",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"value",type:s,declaration:null,usagePositions:null,isFinal:!0}]),s,null,!0,!1,"Speichert das key-value pair in der Map. Falls zum key vorher schon ein Value gespeichert war, wird dieser zurückgegeben. In der Map wird er dann durch den neuen Value überschrieben. Falls es zum key noch keinen value in der Map gab, wird null zurückgegeben.")),t.addMethod(new T("clear",new x([]),null,null,!0,!1,"Entfernt alle Element aus dieser Map.")),t}return t=o,n&&xv(t.prototype,n),i&&xv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function Dv(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iv(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _v=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runtimeObject=t,this.interpreter=n,this.module=i,this.keyArray=[],this.valueArray=[],this.map=new Map}var t,n,i;return t=e,(n=[{key:"get",value:function(e){return this.map.get(e.value)}},{key:"set",value:function(e,t){var n=this.map.get(e.value);return null==n?this.keyArray.push(e):this.valueArray.splice(this.valueArray.indexOf(n),1),this.valueArray.push(t),this.map.set(e.value,t),n}},{key:"allElementsPrimitive",value:function(){var e,t=Dv(this.keyArray);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!(n.type instanceof P||["String","_Double","Integer","Boolean","Character"].indexOf(n.type.identifier)>=0))return!1}}catch(e){t.e(e)}finally{t.f()}var i,r=Dv(this.valueArray);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(!(o.type instanceof P||["String","_Double","Integer","Boolean","Character"].indexOf(o.type.identifier)>=0))return!1}}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"to_String",value:function(){if(this.allElementsPrimitive()){for(var e="[",t=0;t<this.keyArray.length;t++)e+=this.keyArray[t].value+" => "+this.valueArray[t].value,t<this.keyArray.length-1&&(e+=", ");return e+"]"}for(var n={line:1,column:1,length:1},i=[{type:r.noOp,position:n,stepFinished:!1},{type:r.pushConstant,dataType:$t,value:"[",position:n,stepFinished:!1}],o=new x([]),a=0;a<this.valueArray.length;a++){var s=this.keyArray[a];s.type instanceof P||s.type instanceof _t?i.push({type:r.pushConstant,dataType:$t,value:s.type.castTo(s,$t).value,position:n,stepFinished:!1}):(i.push({type:r.pushConstant,dataType:s.type,value:s.value,stepFinished:!1,position:n}),i.push({type:r.callMethod,method:s.type.getMethod("toString",o),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:n})),i.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:n}),i.push({type:r.pushConstant,dataType:$t,value:" => ",position:n,stepFinished:!1}),i.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:n});var l=this.valueArray[a];null==l.value||l.type instanceof P||l.type instanceof _t?i.push({type:r.pushConstant,dataType:$t,value:null==l.value?"null":l.type.castTo(l,$t).value,position:n,stepFinished:!1}):(i.push({type:r.pushConstant,dataType:l.type,value:l.value,stepFinished:!1,position:n}),i.push({type:r.callMethod,method:l.type.getMethod("toString",o),isSuperCall:!1,stackframeBegin:-1,stepFinished:!1,position:n})),i.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:n}),a<this.valueArray.length-1&&(i.push({type:r.pushConstant,dataType:$t,value:", ",position:n,stepFinished:!1}),i.push({type:r.binaryOp,leftType:$t,operator:r.plus,stepFinished:!1,position:n}))}i.push({type:r.pushConstant,dataType:$t,value:"]",position:n,stepFinished:!1}),i.push({type:r.binaryOp,operator:r.plus,leftType:$t,stepFinished:!1,position:n}),i.push({type:r.return,copyReturnValueToStackframePos0:!0,leaveThisObjectOnStack:!1,stepFinished:!1,position:n,methodWasInjected:!0});var u={module:this.module,statements:i,labelManager:null},c=new T("toString",new x([]),$t,u,!1,!1);return this.interpreter.runTimer(c,[],(function(){return console.log("List.toString fertig!")}),!0),""}},{key:"size",value:function(){return this.valueArray.length}},{key:"isEmpty",value:function(){return 0==this.valueArray.length}},{key:"containsKey",value:function(e){return null!=this.map.get(e.value)}},{key:"containsValue",value:function(e){var t,n=Dv(this.valueArray);try{for(n.s();!(t=n.n()).done;)if(t.value.value==e.value)return!0}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"clear",value:function(){this.valueArray=[],this.keyArray=[],this.map.clear()}}])&&Fv(t.prototype,n),i&&Fv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zv(e){return(zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bv(e,t){return(Bv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Gv(e);if(t){var r=Gv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Wv(this,n)}}function Wv(e,t){if(t&&("object"===zv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gv(e){return(Gv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bv(e,t)}(o,e);var t,n,i,r=Lv(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,"HashMap",e,"Map-Klasse mit Zugriffszeit proportional zu log(Anzahl der Elemente)");var n=e.typeStore.getType("Object");t.setBaseClass(n);var i=n.clone();i.identifier="K",i.isTypeVariable=!0;var a={identifier:"K",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:i};t.typeVariables.push(a);var s=n.clone();s.identifier="V",s.isTypeVariable=!0;var l={identifier:"V",scopeFrom:{line:1,column:1,length:1},scopeTo:{line:1,column:1,length:1},type:s};t.typeVariables.push(l);var u=e.typeStore.getType("Map").clone();return u.typeVariables=[a,l],t.implements.push(u),t.addMethod(new T("HashMap",new x([]),null,(function(t){var n=t[0].value,i=new _v(n,e.main.getInterpreter(),e);n.intrinsicData.MapHelper=i}),!1,!1,"Instanziert eine neue HashMap",!0)),t.addMethod(new T("put",new x([{identifier:"key",type:i,declaration:null,usagePositions:null,isFinal:!0},{identifier:"value",type:s,declaration:null,usagePositions:null,isFinal:!0}]),s,(function(e){var t=e[0].value,n=e[1],i=e[2];return t.intrinsicData.MapHelper.set(n,i)}),!1,!1,"Speichert das key-value pair in der Map. Falls zum key vorher schon ein Value gespeichert war, wird dieser zurückgegeben. In der Map wird er dann durch den neuen Value überschrieben. Falls es zum key noch keinen value in der Map gab, wird null zurückgegeben.")),t.addMethod(new T("clear",new x([]),null,(function(e){return e[0].value.intrinsicData.MapHelper.clear()}),!1,!1,"Entfernt alle Key-Value-Pairs aus dieser HashMap.")),t.addMethod(new T("containsKey",new x([{identifier:"key",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.MapHelper.containsKey(n)}),!1,!1,"Gibt genau dann true zurück, wenn die Map zum Schlüssel key einen Wert enthält.")),t.addMethod(new T("containsValue",new x([{identifier:"value",type:s,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1];return t.intrinsicData.MapHelper.containsValue(n)}),!1,!1,"Gibt genau dann true zurück, wenn die Map den Wert enthält.")),t.addMethod(new T("get",new x([{identifier:"key",type:i,declaration:null,usagePositions:null,isFinal:!0}]),s,(function(e){var t=e[0].value,n=e[1],i=t.intrinsicData.MapHelper.get(n);return null==i?null:i.value}),!1,!1,"Gibt den Wert zum Schlüssel key zurück. Gibt null zurück, falls die Map zum Schlüssel key keinen Wert enthält.")),t.addMethod(new T("isEmpty",new x([]),Gt,(function(e){return e[0].value.intrinsicData.MapHelper.isEmpty()}),!1,!1,"Testet, ob die HashMap leer ist.")),t.addMethod(new T("size",new x([]),Bt,(function(e){return e[0].value.intrinsicData.MapHelper.size()}),!1,!1,"Gibt die Anzahl der key-value-pairs der HashMap zurück.")),t.addMethod(new T("toString",new x([]),$t,(function(e){return e[0].value.intrinsicData.MapHelper.to_String()}),!1,!1)),t}return t=o,n&&Rv(t.prototype,n),i&&Rv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function $v(e){return($v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Vv(e,t){return(Vv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zv(e);if(t){var r=Zv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Qv(this,n)}}function Qv(e,t){if(t&&("object"===$v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uv(e)}function Uv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zv(e){return(Zv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}(o,e);var t,n,i,r=Kv(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Triangle",e,"Dreieck")).setBaseClass(e.typeStore.getType("Polygon")),t.addMethod(new T("Triangle",new x([{identifier:"x1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x3",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y3",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){for(var n=t[0].value,i=[],r=1;r<=6;r++)i.push(t[r].value);var o=new Rh(i,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=o}),!1,!1,"Instanziert ein neues Dreieck.",!0)),t.addMethod(new T("copy",new x([]),Uv(t),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Triangle-Objekts und git sie zurück.",!1)),t}return t=o,n&&Hv(t.prototype,n),i&&Hv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function qv(e){return(qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jv(e,t,n){return t&&Yv(e.prototype,t),n&&Yv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}function nm(e,t){return(nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=am(e);if(t){var r=am(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return rm(this,n)}}function rm(e,t){if(t&&("object"===qv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return om(e)}function om(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function am(e){return(am=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sm=function(e){tm(n,e);var t=im(n);function n(e){var i;em(this,n),(i=t.call(this,"LocalDateTime",e,"Ein LocalDate-Objekt speichert einen Zeitpunkt (Datum und Uhrzeit).")).setBaseClass(e.typeStore.getType("Object"));var r=e.typeStore.getType("DayOfWeek"),o=e.typeStore.getType("Month");return i.addMethod(new T("LocalDateTime",new x([]),null,(function(e){var t=e[0].value,n={date:new Date};t.intrinsicData.ldt=n}),!1,!1,"Holt den aktuellen Zeitpunkt von der Systemuhr des Rechners und gibt ihn als LocalDateTime-Objekt zurück.",!0)),i.addMethod(new T("now",new x([]),om(i),(function(e){var t=new E(om(i)),n={date:new Date};return t.intrinsicData.ldt=n,t}),!1,!0,"Holt den aktuellen Zeitpunkt von der Systemuhr des Rechners und gibt ihn als LocalDateTime-Objekt zurück.",!1)),i.addMethod(new T("of",new x([{identifier:"year",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"month",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dayOfMonth",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"hour",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"minute",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"second",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),om(i),(function(e){var t=new E(om(i)),n=Math.trunc(e[1].value),r=Math.trunc(e[2].value),o=Math.trunc(e[3].value),a=Math.trunc(e[4].value),s=Math.trunc(e[5].value),l=Math.trunc(e[6].value),u={date:new Date(n,r-1,o,a,s,l)};return t.intrinsicData.ldt=u,t}),!1,!0,"Gibt ein LocalDateTime-Objekt zurück, das den durch year, month (1 - 12), dayOfMonth, hour, minute, second beschriebenen Zeitpunkt repräsentiert.",!1)),i.addMethod(new T("of",new x([{identifier:"year",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"month",type:o,declaration:null,usagePositions:null,isFinal:!0},{identifier:"dayOfMonth",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"hour",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"minute",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"second",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),om(i),(function(e){var t=new E(om(i)),n=Math.trunc(e[1].value),r=e[2].value,o=Math.trunc(e[3].value),a=Math.trunc(e[4].value),s=Math.trunc(e[5].value),l=Math.trunc(e[6].value),u={date:new Date(n,r.enumValue.ordinal,o,a,s,l)};return t.intrinsicData.ldt=u,t}),!1,!0,"Gibt ein LocalDateTime-Objekt zurück, das den durch year, month (1 - 12), dayOfMonth, hour, minute, second beschriebenen Zeitpunkt repräsentiert.",!1)),i.addMethod(new T("plusDays",new x([{identifier:"days",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),om(i),(function(e){var t=e[0].value,n=Math.trunc(e[1].value),r=t.intrinsicData.ldt.date,o=new Date(r.getTime()+24*n*3600*1e3),a=new E(om(i)),s={date:o};return a.intrinsicData.ldt=s,a}),!1,!1,"Gibt ein neues LocalDateTime-Objekt zurück, das einen Zeitpunkt repräsentiert, der um die übergebene Anzahl von Tagen später liegt.",!1)),i.addMethod(new T("minusDays",new x([{identifier:"days",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),om(i),(function(e){var t=e[0].value,n=Math.trunc(e[1].value),r=t.intrinsicData.ldt.date,o=new Date(r.getTime()-24*n*3600*1e3),a=new E(om(i)),s={date:o};return a.intrinsicData.ldt=s,a}),!1,!1,"Gibt ein neues LocalDateTime-Objekt zurück, das einen Zeitpunkt repräsentiert, der um die übergebene Anzahl von Tagen früher liegt.",!1)),i.addMethod(new T("compareTo",new x([{identifier:"date",type:om(i),declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.ldt.date.getTime(),r=n.intrinsicData.ldt.date.getTime();return Math.sign(i-r)}),!1,!1,"Gibt 1 zurück, falls das Datum größer ist als das übergebene, 0, falls sie gleich sind und -1, falls das Datum kleiner ist als das übergebene.",!1)),i.addMethod(new T("until",new x([{identifier:"date",type:om(i),declaration:null,usagePositions:null,isFinal:!0}]),Bt,(function(e){var t=e[0].value,n=e[1].value;return(t.intrinsicData.ldt.date.getTime()-n.intrinsicData.ldt.date.getTime())/86400}),!1,!1,"Gibt zurück, wie viele Tage (gerundet) zwischen den beiden Zeitpunkten liegen.",!1)),i.addMethod(new T("getYear",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ldt.date.getFullYear()}),!1,!1,"Gibt das Jahr zurück.",!1)),i.addMethod(new T("getMonthValue",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ldt.date.getMonth()+1}),!1,!1,"Gibt den Monat als Zahl zurück (Januar == 1, Februar == 2, ..., Dezember == 12).",!1)),i.addMethod(new T("getDayOfMonth",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ldt.date.getDate()}),!1,!1,"Gibt den Tag innerhalb des Monats zurück (Zahl von 1 bis 31).",!1)),i.addMethod(new T("getHour",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ldt.date.getHours()}),!1,!1,"Gibt die Stunde innerhalb des Tages zurück.",!1)),i.addMethod(new T("getMinute",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ldt.date.getMinutes()}),!1,!1,"Gibt die Minute zurück.",!1)),i.addMethod(new T("getSecond",new x([]),Bt,(function(e){return e[0].value.intrinsicData.ldt.date.getSeconds()}),!1,!1,"Gibt die Sekunde zurück.",!1)),i.addMethod(new T("toString",new x([]),$t,(function(e){var t=e[0].value.intrinsicData.ldt.date,n=function(e){return e<10?"0"+e:""+e};return"".concat(n(t.getDate()),".").concat(n(t.getMonth()+1),".").concat(n(t.getFullYear())," ").concat(n(t.getHours()),":").concat(n(t.getMinutes()),":").concat(n(t.getSeconds()))}),!1,!1,"Gibt den Wert in der Form 12.03.2007 10:15:30 zurück.",!1)),i.addMethod(new T("getDayOfWeek",new x([]),r,(function(e){var t=e[0].value.intrinsicData.ldt.date.getDay();return r.enumInfoList[t-1].object}),!1,!1,"Gibt die den Wochentag zurück. Falls Du ihn als Zahl (0 == Montag, ...) benötigst, nutze getDayOfWeek().toOrdinal(). ",!1)),i.addMethod(new T("getMonth",new x([]),o,(function(e){var t=e[0].value.intrinsicData.ldt.date.getMonth();return o.enumInfoList[t].object}),!1,!1,"Gibt die den Monat zurück. Falls Du ihn als Zahl (1 == Januar, ...) benötigst, nutze getMonthValue()",!1)),i}return Jv(n)}(J),lm=function(e){tm(n,e);var t=im(n);function n(e){var i;return em(this,n),(i=t.call(this,"DayOfWeek",e,[{type:r.pushEnumValue,position:null,identifier:"Montag"},{type:r.pushEnumValue,position:null,identifier:"Dienstag"},{type:r.pushEnumValue,position:null,identifier:"Mittwoch"},{type:r.pushEnumValue,position:null,identifier:"Donnerstag"},{type:r.pushEnumValue,position:null,identifier:"Freitag"},{type:r.pushEnumValue,position:null,identifier:"Samstag"},{type:r.pushEnumValue,position:null,identifier:"Sonntag"}])).documentation="Wochentag",i}return Jv(n)}(Fn),um=function(e){tm(n,e);var t=im(n);function n(e){var i;return em(this,n),(i=t.call(this,"Month",e,[{type:r.pushEnumValue,position:null,identifier:"Januar"},{type:r.pushEnumValue,position:null,identifier:"Februar"},{type:r.pushEnumValue,position:null,identifier:"März"},{type:r.pushEnumValue,position:null,identifier:"April"},{type:r.pushEnumValue,position:null,identifier:"Mai"},{type:r.pushEnumValue,position:null,identifier:"Juni"},{type:r.pushEnumValue,position:null,identifier:"Juli"},{type:r.pushEnumValue,position:null,identifier:"August"},{type:r.pushEnumValue,position:null,identifier:"Septemter"},{type:r.pushEnumValue,position:null,identifier:"Oktober"},{type:r.pushEnumValue,position:null,identifier:"November"},{type:r.pushEnumValue,position:null,identifier:"Dezember"}])).documentation="Monat",i}return Jv(n)}(Fn);function cm(e){return(cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fm(e,t){return(fm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=vm(e);if(t){var r=vm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return pm(this,n)}}function pm(e,t){if(t&&("object"===cm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ym(e)}function ym(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vm(e){return(vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}(o,e);var t,n,i,r=hm(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Line",e,"Strecke (gerade Linie zwischen zwei Punkten)")).setBaseClass(e.typeStore.getType("FilledShape")),t.addMethod(new T("Line",new x([{identifier:"x1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new Rh([i,r,o,a],!1,e.main.getInterpreter(),n);n.intrinsicData.Actor=s}),!1,!1,"Instanziert eine Strecke mit Anfangspunkt (x1/y1) und Endpunkt (x2/y2).",!0)),t.addMethod(new T("copy",new x([]),ym(t),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie der Strecke und git sie zurück.",!1)),t.addMethod(new T("setPoint",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"index",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.Actor;o.testdestroyed("setPoint")||o.setPoint(n,i,r-1)}),!1,!1,"Ändert einen Punkt des Polygons. index == 1 bedeutet: Anfangspunkt; index == 2 bedeutet: Endpunkt",!1)),t.addMethod(new T("setPoints",new x([{identifier:"x1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.Actor;a.testdestroyed("setPoints")||a.setPoints([n,i,r,o])}),!1,!1,"Ändert die Punkte der Strecke. (x1/y1) ist der neue Anfangspunkt, (x2/y2) ist der neue Endpunkt.",!1)),t}return t=o,n&&dm(t.prototype,n),i&&dm(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function gm(e){return(gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wm(e,t){return(wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function km(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jm(e);if(t){var r=jm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Sm(this,n)}}function Sm(e,t){if(t&&("object"===gm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pm(e)}function Pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jm(e){return(jm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wm(e,t)}(o,e);var t,n,i,r=km(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Vector2",e,"Repräsentiert einen zweidimensionalen Vektor")).setBaseClass(e.typeStore.getType("Object")),t.addAttribute(new j("x",Wt,null,!1,_.public,!1,"x-Komponente des Vektors")),t.addAttribute(new j("y",Wt,null,!1,_.public,!1,"y-Komponente des Vektors")),t.setupAttributeIndicesRecursive();var n=t.attributeMap.get("x").index,i=t.attributeMap.get("y").index;return t.addMethod(new T("Vector2",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),null,(function(e){var t=e[0].value,r=e[1].value,o=e[2].value;t.attributes[n]={type:Wt,value:r},t.attributes[i]={type:Wt,value:o}}),!1,!1,"Instanziert einen neuen zweidimensionalen Vektor mit den Komponenten x und y.",!0)),t.addMethod(new T("fromPolarCoordinates",new x([{identifier:"r",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"alphaDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Pm(t),(function(e){var r=new E(Pm(t)),o=e[1].value,a=e[2].value;return a*=Math.PI/180,r.attributes[n]={type:Wt,value:Math.cos(a)*o},r.attributes[i]={type:Wt,value:Math.sin(a)*o},r}),!1,!0,"Gibt einen neuen zweidimensionalen Vektor zurück, der mit den Polarkoordinaten (r/alphaDeg) gebildet wird. Datei ist r (Abstand zum Ursprung des Koordinatensystems) und alphaDeg (Winkel zur positiven x-Achse in Grad).",!1)),t.addMethod(new T("toString",new x([]),$t,(function(e){var t=e[0].value,r=t.attributes[n].value,o=t.attributes[i].value;return"(".concat(r,"/").concat(o,")")}),!1,!1,'Gibt den Vektor als Zeichenkette in der Form "(x/y)" zurück.',!1)),t.addMethod(new T("getAngleDeg",new x([]),Wt,(function(e){var t=e[0].value,r=t.attributes[n].value,o=t.attributes[i].value,a=Math.atan2(o,r)/Math.PI*180;return a>=0?a:360+a}),!1,!1,"Gibt den zur positiven x-Achse in Grad zurück.",!1)),t.addMethod(new T("getAngleRad",new x([]),Wt,(function(e){var t=e[0].value,r=t.attributes[n].value,o=t.attributes[i].value,a=Math.atan2(o,r);return a>=0?a:2*Math.PI+a}),!1,!1,"Gibt den zur positiven x-Achse im Bogenmaß zurück.",!1)),t.addMethod(new T("getLength",new x([]),Wt,(function(e){var t=e[0].value,r=t.attributes[n].value,o=t.attributes[i].value;return Math.sqrt(r*r+o*o)}),!1,!1,"Gibt die Länge des Vectors zurück.",!1)),t.addMethod(new T("toUnitVector",new x([]),Pm(t),(function(e){var r=e[0].value,o=r.attributes[n].value,a=r.attributes[i].value,s=new E(Pm(t)),l=Math.sqrt(o*o+a*a);return Math.abs(l)>1e-11?(o/=l,a/=l):(o=0,a=0),s.attributes[n]={type:Wt,value:o},s.attributes[i]={type:Wt,value:a},s}),!1,!1,"Gibt den zum Vektor zugehörigen Einheitsvektor (d.h. den Vektor mit derselben Richtung, aber der Länge 1) zurück.",!1)),t.addMethod(new T("setLength",new x([{identifier:"length",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Pm(t),(function(e){var t=e[0].value,r=t.attributes[n].value,o=t.attributes[i].value,a=e[1].value,s=Math.sqrt(r*r+o*o);s>0&&(t.attributes[n].value=r/s*a,t.attributes[i].value=o/s*a)}),!1,!1,"Ändert den Vektor so, dass er seine Richtung beibehält, aber auf die angegebene Länge gestreckt/gestaucht wird.",!1)),t.addMethod(new T("plus",new x([{identifier:"vector",type:Pm(t),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Pm(t),(function(e){var r=e[0].value,o=e[1].value,a=r.attributes[n].value,s=r.attributes[i].value,l=o.attributes[n].value,u=o.attributes[i].value,c=new E(Pm(t));return c.attributes[n]={type:Wt,value:a+l},c.attributes[i]={type:Wt,value:s+u},c}),!1,!1,"Gibt die Summe zurück, die sich aus Addition dieses Vektor mit dem übergebenen Vektor ergibt. WICHTIG: Diese Methode ändert das Objekt nicht, für das sie aufgerufen wurde!",!1)),t.addMethod(new T("minus",new x([{identifier:"vector",type:Pm(t),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Pm(t),(function(e){var r=e[0].value,o=e[1].value,a=r.attributes[n].value,s=r.attributes[i].value,l=o.attributes[n].value,u=o.attributes[i].value,c=new E(Pm(t));return c.attributes[n]={type:Wt,value:a-l},c.attributes[i]={type:Wt,value:s-u},c}),!1,!1,"Gibt die Differenz zurück, die sich aus Subtraktion des übergebenen Vektors von diesem Vektor ergibt. WICHTIG: Diese Methode ändert das Objekt nicht, für das sie aufgerufen wurde!",!1)),t.addMethod(new T("scalarProduct",new x([{identifier:"vector1",type:Pm(t),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"vector2",type:Pm(t),declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Wt,(function(e){var t=e[1].value,r=e[2].value,o=t.attributes[n].value,a=t.attributes[i].value;return o*r.attributes[n].value+a*r.attributes[i].value}),!1,!0,"Gibt das Skalarprodukt der beiden Vektoren zurück.",!1)),t.addMethod(new T("scaledBy",new x([{identifier:"scalar",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Pm(t),(function(e){var r=e[0].value,o=r.attributes[n].value,a=r.attributes[i].value,s=e[1].value,l=new E(Pm(t));return l.attributes[n]={type:Wt,value:o*s},l.attributes[i]={type:Wt,value:a*s},l}),!1,!1,"Gibt das Produkt zurück, das sich aus Multiplikation dieses Vektor mit dem übergebenen Skalar ergibt. WICHTIG: Diese Methode ändert das Objekt nicht, für das sie aufgerufen wurde!",!1)),t.addMethod(new T("rotatedBy",new x([{identifier:"angleDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Pm(t),(function(e){var r=e[0].value,o=r.attributes[n].value,a=r.attributes[i].value,s=-e[1].value*Math.PI/180,l=Math.sin(s),u=Math.cos(s),c=new E(Pm(t));return c.attributes[n]={type:Wt,value:o*u-a*l},c.attributes[i]={type:Wt,value:o*l+a*u},c}),!1,!1,"Gibt den um den übergebenen Winkel (in Grad) rotierten Vektor zurück. Positiver Winkel => Rotation GEGEN DEN Uhrzeigersinn. WICHTIG: Diese Methode ändert das Objekt nicht, für das sie aufgerufen wurde!",!1)),t.addMethod(new T("distance",new x([{identifier:"x1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Wt,(function(e){var t=e[1].value,n=e[2].value,i=e[3].value-t,r=e[4].value-n;return Math.sqrt(i*i+r*r)}),!1,!0,"Berechnet den Abstand der Punkte (x1/y1) und (x2/y2).")),t}return t=o,n&&bm(t.prototype,n),i&&bm(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function xm(e){return(xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Om(e,t,n){return t&&Mm(e.prototype,t),n&&Mm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}function Em(e,t){return(Em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Fm(e);if(t){var r=Fm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Im(this,n)}}function Im(e,t){if(t&&("object"===xm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fm(e){return(Fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _m=function(e){Am(n,e);var t=Dm(n);function n(e){var i;return Cm(this,n),(i=t.call(this,"MouseListener",e,"Interface mit Methoden, die aufgerufen werden, wenn Maus-Ereignisse eintreten. Ein Objekt dieser Klasse muss zuvor aber mit world.addMouseListener() registriert werden, wobei world das aktuelle World-Objekt ist.")).addMethod(new T("onMouseUp",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste über dem Grafikbereich losgelassen wird.")),i.addMethod(new T("onMouseDown",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Maustaste über dem Grafikbereich gedrückt wird.")),i.addMethod(new T("onMouseMove",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger über dem Grafikbereich bewegt wird.")),i.addMethod(new T("onMouseEnter",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger in den Grafikbereich hineinbewegt wird.")),i.addMethod(new T("onMouseLeave",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn der Mauszeiger aus dem Grafikbereich herausbewegt wird.")),i}return Om(n)}(te),zm=function(e){Am(n,e);var t=Dm(n);function n(e){var i;Cm(this,n),i=t.call(this,"MouseAdapter",e,"Klasse mit leeren Methoden, die aufgerufen werden, wenn Maus-Ereignisse eintreten. Ein Objekt einer Kindklasse dieser Klasse muss zuvor aber mit world.addMouseListener() registriert werden, wobei world das aktuelle World-Objekt ist.");var r=e.typeStore.getType("MouseListener");return i.implements.push(r),i.addMethod(new T("onMouseUp",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn eine Maustaste über dem Grafikbereich losgelassen wird.")),i.addMethod(new T("onMouseDown",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"button",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn eine Maustaste über dem Grafikbereich gedrückt wird.")),i.addMethod(new T("onMouseMove",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn der Mauszeiger über dem Grafikbereich bewegt wird.")),i.addMethod(new T("onMouseEnter",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn der Mauszeiger in den Grafikbereich hineinbewegt wird.")),i.addMethod(new T("onMouseLeave",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(){}),!1,!1,"Wird aufgerufen, wenn der Mauszeiger aus dem Grafikbereich herausbewegt wird.")),i}return Om(n)}(J);function Rm(e){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Lm(e,t,n){return t&&Bm(e.prototype,t),n&&Bm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gm(e,t){return(Gm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Hm(e);if(t){var r=Hm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return $m(this,n)}}function $m(e,t){if(t&&("object"===Rm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hm(e){return(Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}(n,e);var t=Nm(n);function n(e){var i;Wm(this,n),i=t.call(this,"WebSocketClient",e,"Ein Objekt der Klasse WebSocketClient repräsentiert einen anderen Rechner, mit dem dieser Rechner über den WebSocket in Kontakt steht.");var r=e.typeStore.getType("Object");i.setBaseClass(r),i.addMethod(new T("send",new x([{identifier:"message",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.send(n,i)}),!1,!1,"Sendet Daten (message) an diesen Client. Den messageType kannst Du frei wählen. Die client bekommt ihn zusammen mit den Daten übermittelt. Tipp: Du kannst auch Objekte senden, musst sie dazu aber vorher serialisieren, d.h. mithilfe der Methode toJson in eine Zeichenkette verwandeln.",!1)),i.addMethod(new T("setUserData",new x([{identifier:"schlüssel",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"wert",type:r,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.setUserData(n,i)}),!1,!1,"Mit dieser Methode kannst Du beliebige Objektreferenzen in diesem WebSocketClient-Objekt speichern. Den Schlüssel kannst Du dabei frei wählen und später nutzen, um den Wert durch die Methode getUserData wieder zu holen.",!1)),i.addMethod(new T("getUserData",new x([{identifier:"schlüssel",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),r,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;return t.getUserData(n)}),!1,!1,'Mit dieser Methode kannst Du eine Objektreferenz erhalten, die Du zuvor mit der Methode setUserData gespeichert hast. Bemerkung1: Diese Methode entfernt die Objekreferenz nicht aus dem WebSocketClient-Objekt. Bemerkung2: Damit Du alle Methoden des erhaltenen Objekts aufrufen kannst, musst Du dem Computer mitteilen, von welcher Klasse es ist ("casten"). Das geht für die Klasse MeineNutzerDaten bspw. so: MeineNutzerDaten mnd = (MeineNutzerDaten)client.getUserData("schlüssel");',!1));for(var o=function(){var e=s[a];i.addMethod(new T(e.getter,new x([]),$t,(function(t){return t[0].value.intrinsicData.Helper[e.att]}),!1,!1,"Gibt den "+e.help+" des Clients zurück.",!1))},a=0,s=[{att:"rufname",getter:"getFirstName",help:"Rufnamen"},{att:"familienname",getter:"getLastName",help:"Familiennamen"},{att:"username",getter:"getUsername",help:"Benutzernamen"},{att:"nickname",getter:"getNickname",help:"Spielernamen"}];a<s.length;a++)o();return i.addMethod(new T("getNumber",new x([]),Bt,(function(e){return e[0].value.intrinsicData.Helper.index}),!1,!1,'Gehört ein Client zu einer mit findClient bzw. findClients gefundenen Gruppe, so erhältst Du mit dieser Methode die "Rangfolge" dieses Clients in dieser Gruppe. Allen Clients wird dieselbe Rangfolgeordnung vom Server mitgeteilt. So lässt sich bspw. einfach festlegen, welcher Client eine besondere Rolle (Server) in der Gruppe erhalten soll (z.B. Client mit Nummer 1). Bemerkung: Die Nummer ist eine Zahl zwischen 1 und der Anzahl der Clients in der Gruppe.',!1)),i.addMethod(new T("getIndex",new x([]),Bt,(function(e){return e[0].value.intrinsicData.Helper.index}),!1,!1,"Diese Methode ist veraltet. Bitte benutze stattdessen getNumber.",!1)),i}return Lm(n)}(J),Km=function(){function e(t,n,i,r,o,a,s){Wm(this,e),this.runtimeObject=t,this.webSocketHelper=n,this.id=i,this.rufname=r,this.familienname=o,this.username=a,this.nickname=s,this.keyValueStore={},this.index=0,this.connected=!0}return Lm(e,[{key:"send",value:function(e,t){this.webSocketHelper.sendToClient(this.id,e,t)}},{key:"getUserData",value:function(e){return this.keyValueStore[e]}},{key:"setUserData",value:function(e,t){this.keyValueStore[e]=t}}]),e}();function Qm(e){return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Um(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zm(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Xm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qm(e,t,n){return t&&Xm(e.prototype,t),n&&Xm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jm(e,t){return(Jm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ng(e);if(t){var r=ng(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return tg(this,n)}}function tg(e,t){if(t&&("object"===Qm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ng(e){return(ng=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ig=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jm(e,t)}(n,e);var t=eg(n);function n(e){var i;Ym(this,n),(i=t.call(this,"WebSocket",e,"Ein Objekt der Klasse WebSocket kann Daten über das Internet senden und empfangen. Um die Klasse benutzen zu können, musst Du eine eigene Klasse schreiben, die die Klasse WebSocket erweitert und die Methoden onConnect, onMessage, onOtherClientConnected und onOtherClientDisconnected überschreibt.")).setBaseClass(e.typeStore.getType("Object"));var r=e.typeStore.getType("WebSocketClient"),o=e.typeStore.getType("System");return i.addMethod(new T("WebSocket",new x([]),null,(function(e){var t,n,a=e[0].value,s=null===(n=null===(t=i.module)||void 0===t?void 0:t.main)||void 0===n?void 0:n.getInterpreter(),l=new rg(a,s,r,o);a.intrinsicData.Helper=l}),!1,!1,"Instanziert ein neues WebSocket-Objekt.",!0)),i.addMethod(new T("open",new x([{identifier:"sessionCode",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"nickName",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=t.intrinsicData.Helper;r.connect(n,i),t.intrinsicData.Helper=r}),!1,!1,"Startet die Verbindung mit dem Server. Den SessionCode kannst Du frei wählen. Mit allen anderen Clients, die eine Verbindung mit demselben SessionCode aufbauen, kannst Du anschließend Daten austauschen. Auch der Nickname ist frei wählbar. Er ist für alle anderen Clients sichtbar.",!1)),i.addMethod(new T("sendToAll",new x([{identifier:"message",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value,i=e[2].value;t.sendToAll(n,i)}),!1,!1,"Sendet Daten (message) an alle anderen Clients. Den messageType kannst Du frei wählen. Die empfangenden Clients bekommen ihn zusammen mit den Daten übermittelt. Tipp: Du kannst auch Objekte senden, musst sie dazu aber vorher serialisieren, d.h. mithilfe der Methode toJson in eine Zeichenkette verwandeln.",!1)),i.addMethod(new T("findClients",new x([{identifier:"count",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;t.findClientsFromCount(n)}),!1,!1,'Sucht die übergebene Anzahl von "kontaktbereiten" Clients, d.h. solchen Clients, die exakt dieselbe Suchanfrage abgegeben haben. Findet der Server die Clients, so ruft er bei allen beteiligten Clients onClientsFound auf.',!1)),i.addMethod(new T("findClients",new x([{identifier:"nicknames",type:new fe($t),declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value.map((function(e){return e.value}));t.findClientsFromNicknames(n)}),!1,!1,"Sucht die Clients mit den angegebenen Nicknames. Haben sie eine entsprechende Suchanfrage (d.h. dieselben Nicknames) abgegeben, so so ruft der Server bei allen beteiligten Clients onClientsFound auf.",!1)),i.addMethod(new T("findClient",new x([{identifier:"nickname",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Helper,n=e[1].value;t.findClientsFromNicknames([n])}),!1,!1,"Sucht den Client mit dem angegebenen Nickname. Hat er eine entsprechende Suchanfrage (d.h. mit dem Nickname DIESES clients) abgegeben, so so ruft der Server bei beiden Clients onClientsFound auf.",!1)),i.addMethod(new T("close",new x([]),Rt,(function(e){e[0].value.intrinsicData.Helper.disconnect()}),!1,!1,"Beendet die Verbindung. Bei allen anderen Clients, die sich mit derselben sessionId verbunden haben, wird daraufhin die Methode onOtherClientDisconnected aufgerufen.",!1)),i.addMethod(new T("onOpen",new x([]),null,null,!1,!1,"Wird aufgerufen, sobald die Verbindung mit dem Server zustandegekommen ist.",!1)),i.addMethod(new T("onClose",new x([]),null,null,!1,!1,"Wird aufgerufen, nachdem die Verbindung geschlossen wurde.",!1)),i.addMethod(new T("onMessage",new x([{identifier:"sender",type:r,declaration:null,usagePositions:null,isFinal:!0},{identifier:"message",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"messageType",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn eine Nachricht eines anderen Clients empfangen wurde.",!1)),i.addMethod(new T("onOtherClientConnected",new x([{identifier:"otherClient",type:r,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn sich ein anderer Client unter Nutzung desselben sessionCodes mit dem Server verbunden hat.",!1)),i.addMethod(new T("onOtherClientDisconnected",new x([{identifier:"otherClient",type:r,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird immer dann aufgerufen, wenn ein anderer Client unter Nutzung desselben sessionCodes die Verbindung mit dem Server beendet hat.",!1)),i.addMethod(new T("onClientsFound",new x([{identifier:"oherClients",type:new fe(r),declaration:null,usagePositions:null,isFinal:!0},{identifier:"ownNumber",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,null,!1,!1,"Wird aufgerufen, wenn die durch die Methoden findClient bzw. findClients zuvor gesuchten Clients gefunden wurden.",!1)),i.addMethod(new T("getOtherClients",new x([]),new fe(r),(function(e){return e[0].value.intrinsicData.Helper.clientList.map((function(e){return{type:r,value:e.runtimeObject}}))}),!1,!1,"Gibt alle bisher bei der selben Session angemeldeten Clients zurück.",!1)),i}return qm(n)}(J),rg=function(){function e(t,n,i,r){Ym(this,e),this.runtimeObject=t,this.interpreter=n,this.webSocketClientType=i,this.systemClassType=r,this.clientList=[],this.idToClientMap={},this.isOpen=!1,this.unsentMessages=[];var o=t.class;this.onOpenMethod=o.methods.find((function(e){return"onOpen()"==e.signature})),this.onCloseMethod=o.methods.find((function(e){return"onClose()"==e.signature})),this.onMessageMethod=o.methods.find((function(e){return"onMessage(WebSocketClient, String, String)"==e.signature})),this.onClientConnectedMethod=o.methods.find((function(e){return"onOtherClientConnected(WebSocketClient)"==e.signature})),this.onClientDisconnectedMethod=o.methods.find((function(e){return"onOtherClientDisconnected(WebSocketClient)"==e.signature})),this.onClientsFoundMethod=o.methods.find((function(e){return"onClientsFound(WebSocketClient[], int)"==e.signature}))}return qm(e,[{key:"connect",value:function(e,t){var n=this;this.interpreter.main.isEmbedded()?this.interpreter.throwException("Die Netzwerkfunktionalitäten stehen nur eingeloggten Nutzern in der Entwicklungsumgebung zur Verfügung und können daher leider hier nicht ausprobiert werden."):Wo("getWebSocketToken",{},(function(i){var r=(window.location.protocol.startsWith("https")?"wss://":"ws://")+window.location.host+"/servlet/websocket";n.connection=new WebSocket(r),n.connection.onerror=function(e){n.onError(e)},n.connection.onclose=function(e){n.onClose(e)},n.connection.onmessage=function(e){n.onMessage(e)},n.connection.onopen=function(r){var o={command:1,token:i.token,nickname:t,sessionCode:e};n.interpreter.webSocketsToCloseAfterProgramHalt.push(n.connection),n.isOpen=!0,n.sendIntern(JSON.stringify(o)),n.onOpen()}}))}},{key:"sendIntern",value:function(e){if(this.isOpen)try{this.connection.send(e)}catch(e){console.log(e)}else this.unsentMessages.push(e)}},{key:"onClose",value:function(e){this.isOpen=!1,this.runMethod(this.onCloseMethod,[])}},{key:"sendToClient",value:function(e,t,n){var i={command:3,data:t,dataType:n,recipient_id:e};this.sendIntern(JSON.stringify(i))}},{key:"sendToAll",value:function(e,t){var n={command:2,data:e,dataType:t};this.sendIntern(JSON.stringify(n))}},{key:"disconnect",value:function(){this.sendIntern(JSON.stringify({command:4})),this.connection.close();var e=this.interpreter.webSocketsToCloseAfterProgramHalt;e.splice(e.indexOf(this.connection),1)}},{key:"onMessage",value:function(e){var t=JSON.parse(e.data);if(null!=t.command)switch(t.command){case 1:var n=new E(this.webSocketClientType),i=new Km(n,this,t.user_id,t.rufname,t.familienname,t.username,t.nickname);n.intrinsicData.Helper=i,this.clientList.push(i),this.idToClientMap[t.user_id]=i,this.runMethod(this.onClientConnectedMethod,[{type:this.webSocketClientType,value:n}]);break;case 2:var r=this.idToClientMap[t.from_client_id];if(null==r)return;this.runMethod(this.onMessageMethod,[{type:this.webSocketClientType,value:r.runtimeObject},{type:$t,value:t.data},{type:$t,value:t.dataType}]);break;case 3:var o=this.idToClientMap[t.disconnecting_client_id];if(null==o)return;this.clientList.splice(this.clientList.indexOf(o),1),this.idToClientMap[t.disconnecting_client_id]=void 0,this.runMethod(this.onClientDisconnectedMethod,[{type:this.webSocketClientType,value:o.runtimeObject}]);break;case 4:this.systemClassType.deltaTimeMillis=t.currentTimeMills-Date.now(),this.client_id=t.client_id;break;case 5:break;case 6:this.onClientsFound(t)}}},{key:"onClientsFound",value:function(e){var t,n=0,i=[],r=Um(e.clients);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.id==this.client_id)n=o.index;else{var a=this.idToClientMap[o.id];null!=a&&(a.index=o.index,i.push({type:this.webSocketClientType,value:a.runtimeObject}))}}}catch(e){r.e(e)}finally{r.f()}var s={type:new fe(this.webSocketClientType),value:i};this.runMethod(this.onClientsFoundMethod,[s,{type:Bt,value:n}])}},{key:"onError",value:function(e){this.interpreter.throwException("Kommunikationsfehler beim WebSocket")}},{key:"onOpen",value:function(){var e=this;this.isOpen=!0,this.unsentMessages.length>0&&(this.unsentMessages.forEach((function(t){return e.sendIntern(t)})),this.unsentMessages=[]),this.runMethod(this.onOpenMethod,[])}},{key:"runMethod",value:function(e,t){null!=e&&(t.splice(0,0,{type:this.runtimeObject.class,value:this.runtimeObject}),this.interpreter.state==ic.waitingForInput?this.interpreter.executeImmediatelyInNewStackframe(e.program,t):this.interpreter.runTimer(e,t,(function(){}),!1))}},{key:"findClientsFromCount",value:function(e){var t={command:6,count:e,nicknames:[]};this.sendIntern(JSON.stringify(t))}},{key:"findClientsFromNicknames",value:function(e){var t={command:6,count:e.length,nicknames:e};this.sendIntern(JSON.stringify(t))}}]),e}();function og(e){return(og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ag(e){return function(e){if(Array.isArray(e))return sg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ug(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function cg(e,t,n){return t&&ug(e.prototype,t),n&&ug(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dg(e,t){return(dg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pg(e);if(t){var r=pg(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return hg(this,n)}}function hg(e,t){if(t&&("object"===og(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pg(e){return(pg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}(n,e);var t=fg(n);function n(e){var i;lg(this,n),(i=t.call(this,"PApplet",e,"Processing-Applet")).module=e,i.setBaseClass(e.typeStore.getType("Object")),i.documentation="Wenn Du Deine Klasse von PApplet ableitest (class Test extends PApplet{...}), kannst Du auf diese Weise ein Processing-Applet erstellen (siehe https://processing.org), indem Du ihre Methoden draw(), mousePressed(), usw. überschreibst und mit Inhalt füllst. Du startest das Applet, indem Du ein Objekt Deiner Klasse instanzierst und davon die main-Methode aufrufst: new Test().main();";[["mouseX","aktuelle x-Koordinate des Mauszeigers"],["mouseY","aktuelle y-Koordinate des Mauszeigers"],["pMouseX","x-Koordinate des Mauszeigers im vorhergehenden Frame"],["pMouseY","y-Koordinate des Mauszeigers im vorhergehenden Frame"],["LEFT","links"],["CENTER","Mitte"],["RIGHT","rechts"],["TOP","obenbündig"],["BASELINE","bündig auf der Grundlinie"],["BOTTOM","untenbündig"],["width","Breite des Zeichenbereichs"],["height","Höhe des Zeichenbereichs"],["keyCode","Zahlencode der zuletzt gedrückten Taste"],["mouseButton","zuletzt gedrückte Maustaste, kann die Werte LEFT, RIGHT und CENTER annehmen"],["CORNER","Mode zum Zeichnen von Rechtecken"],["CORNERS","Mode zum Zeichnen von Rechtecken"],["RADIUS","Mode zum Zeichnen von Rechtecken"],["POINTS","zeichne nachfolgend Einzelpunkte"],["LINES","zeichne nachfolgend einzelne Linien"],["TRIANGLES","zeichne nachfolgend einzelne Dreiecke"],["TRIANGLE_STRIP","zeichne nachfolgend einen Triangle-Strip"],["TRIANGLE_FAN","zeichne nachfolgend einen Triangle-Fan"],["QUADS","zeichne nachfolgend Vierecke"],["QUAD_STRIP","zeichne nachfolgend einen Quad-Strip"],["TESS","zeichne nachfolgend ein TESS - geht nur bei createCanvas(width, height, WEBGL)"],["CLOSE","endShape(CLOSE) schließt den Linienzug"],["DEGREES","angleMode(DEGREES) sorgt dafür, dass nachfolgende Winkelangaben in Grad interpretiert werden."],["RADIANS","angleMode(RADIANS) sorgt dafür, dass nachfolgende Winkelangaben im Bogenmaß interpretiert werden."]].forEach((function(t){i.addAttribute(new j(t[0],Bt,(function(n){n.value=e.main.getInterpreter().processingHelper.p5o[t[0]]}),!1,_.public,!0,t[1]))}));return[["WEBGL","WebGL-Renderer zur 3D-Ausgabe"],["P2D","Renderer zur zweidimensionalen Ausgabe"],["RGB","Color-Mode RGB (rot, grün, blau)"],["HSL","Color-Mode HSL"],["HSB","Color-Mode HSB"]].forEach((function(t){i.addAttribute(new j(t[0],$t,(function(n){n.value=e.main.getInterpreter().processingHelper.p5o[t[0]]}),!1,_.public,!0,t[1]))})),i.addAttribute(new j("key",Ht,(function(t){t.value=e.main.getInterpreter().processingHelper.p5o.key}),!1,_.public,!0,"letzte gedrückte Taste")),i.addMethod(new T("PApplet",new x([]),null,(function(e){var t=e[0].value,n=i.getProcessingHelper(t);t.intrinsicData.Processing=n}),!1,!1,"Legt eine neues Processing-Applet an",!0)),i.addMethod(new T("main",new x([{identifier:"name",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value.intrinsicData.Processing,i=e.main.getInterpreter();i.currentProgramPosition++,n.main(),i.currentProgramPosition--}),!1,!1,"Startet das Processing-Applet.",!1)),i.addMethod(new T("main",new x([]),null,(function(t){var n=t[0].value.intrinsicData.Processing,i=e.main.getInterpreter();i.currentProgramPosition++,n.main(),i.currentProgramPosition--}),!1,!1,"Startet das Processing-Applet.",!1)),i.addMethod(new T("loop",new x([]),null,(function(e){e[0].value.intrinsicData.Processing.loop()}),!1,!1,"Startet nach noLoop() die Renderer-Loop wieder neu, so dass draw() wieder periodisch aufgerufen wird.",!1)),i.addMethod(new T("noLoop",new x([]),null,(function(e){e[0].value.intrinsicData.Processing.noLoop()}),!1,!1,"Stoppt die Render-Loop, so dass draw() nicht mehr aufgerufen wird. Kann mit loop() wieder gestartet werden.",!1)),i.addMethod(new T("size",new x([{identifier:"width",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value;t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),i.addMethod(new T("createCanvas",new x([{identifier:"width",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value;t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),i.addMethod(new T("createCanvas",new x([{identifier:"width",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"height",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"renderer",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(e){var t=e[0].value.intrinsicData.Processing,n=e[1].value,i=e[2].value,r=e[3].value;t.renderer=r,t.createCanvas(n,i)}),!1,!1,"Definiert die Abmessungen des Processing-Ausgabebereichs in Pixeln.",!1)),i.addMethod(new T("draw",new x([]),Rt,null,!1,!1,'Die draw-Methode wird 60-mal pro Sekunde aufgerufen ("Render-Loop"). Die Render-Loop kann mit der Methode noLoop() gestoppt und mit loop() wieder gestartet werden. redraw() ruft (im gestoppten Zustand) draw genau ein Mal auf.',!1)),i.addMethod(new T("settings",new x([]),Rt,null,!1,!1,"Die settings-Methode wird aufgerufen, nachdem das Processing-Applet durch Aufruf der Methode main gestartet wurde. Im Unterschied zur Original Java-Version von Processing hat die Methode settings hier keine andere Bewandtnis als die - unmittelbar darauf aufgerufene - Methode setup. In beiden Methoden kann man bspw. mit createCanvas(width, height) das Koordinatensystem einrichten und Figuren zeichnen.",!1)),i.addMethod(new T("setup",new x([]),Rt,null,!1,!1,"Die setup-Methode wird beim Programmstart nach der settings-Methode aufgerufen. Im Unterschied zur Original Java-Version von Processing hat die Methode setup hier keine andere Bewandtnis als die - unmittelbar davor aufgerufene - Methode settings. In beiden Methoden kann man bspw. mit createCanvas(width, height) das Koordinatensystem einrichten und Figuren zeichnen.",!1)),i.addMethod(new T("mousePressed",new x([]),Rt,null,!1,!1,"Die mousePressed-Methode wird immer dann aufgerufen, wenn gerade eine Maustaste heruntergedrückt wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade heruntergedrückte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),i.addMethod(new T("mouseReleased",new x([]),Rt,null,!1,!1,"Die mouseReleased-Methode wird immer dann aufgerufen, wenn gerade eine Maustaste losgelassen wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade losgelassene Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),i.addMethod(new T("mouseClicked",new x([]),Rt,null,!1,!1,"Die mouseClicked-Methode wird immer dann aufgerufen, wenn eine Maustaste auf dem Zeichenbereich gedrückt und anschließend losgelassen wurde. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die gerade losgelassene Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),i.addMethod(new T("mouseDragged",new x([]),Rt,null,!1,!1,"Die mouseDragged-Methode wird immer dann aufgerufen, wenn eine Maustaste gerade heruntergedrückt ist und die Position des Mauszeigers sich verändert hat. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die zuletzt gedrückte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),i.addMethod(new T("mouseMoved",new x([]),Rt,null,!1,!1,"Die mouseMoved-Methode wird immer dann aufgerufen, wenn die Position des Mauszeigers sich verändert hat. Die aktuellen Koordinaten des Mauszeigers liegen in den Attributen mouseX und mouseY vor, die zuletzt gedrückte Maustaste kann dem Attribut mouseButton entnommen werden.",!1)),i.addMethod(new T("mouseEntered",new x([]),Rt,null,!1,!1,"Die mouseEntered-Methode wird immer dann aufgerufen, wenn der Mauszeiger von außen neu in den Zeichenbereich hineinfährt.",!1)),i.addMethod(new T("mouseExited",new x([]),Rt,null,!1,!1,"Die mouseExited-Methode wird immer dann aufgerufen, wenn der Mauszeiger den Zeichnbereich gerade verlassen hat.",!1)),i.addMethod(new T("keyPressed",new x([]),Rt,null,!1,!1,"Die keyPressed-Methode wird immer dann aufgerufen, wenn eine Taste gerade heruntergedrückt wurde. Informationen zur Taste können den Attributen key (String) und keyCode (int) entnommen werden.",!1)),i.addMethod(new T("keyReleased",new x([]),Rt,null,!1,!1,"Die keyReleased-Methode wird immer dann aufgerufen, wenn eine Taste gerade losgelassen wurde. Informationen zur Taste können den Attributen key (String) und keyCode (int) entnommen werden.",!1)),i.addProcessingMethod("clear",[],[],"Löscht die Zeichenfläche."),i.addProcessingMethod("background",["rgb"],Lt,"Übermalt die komplette Zeichenfläche mit der übergebenen Farbe."),i.addProcessingMethod("background",["colorAsString"],$t,"Übermalt die komplette Zeichenfläche mit der übergebenen Farbe. Übergeben wird eine Zeichenkette der Form 'rgb(0,0,255)' oder 'rgb(0%, 0%, 100%)' oder 'rgba(0, 0, 255, 1)' oder 'rgba(0%, 0%, 100%, 1)' und all diese Kombinationen statt rgb auch mit hsl und hsb.",$t),i.addProcessingMethod("background",["v1","v2","v3"],Lt,"Übermalt die komplette Zeichenfläche mit der übergebenen Farbe. v1, v2 und v3 sind - abhängig vom aktuellen color mode - rot, grün und blauwert oder Farbe, Sättigung und Helligkeit"),i.addProcessingMethod("fill",["rgb"],Bt,"Setzt die Füllfarbe."),i.addProcessingMethod("fill",["rgb"],$t,"Setzt die Füllfarbe."),i.addProcessingMethod("fill",["rgb","alpha"],[Bt,Lt],"Setzt die Füllfarbe."),i.addProcessingMethod("fill",["gray"],Lt,"Setzt die Füllfarbe."),i.addProcessingMethod("fill",["v1","v2","v3"],Lt,"Setzt die Füllfarbe. v1, v2 und v3 sind - abhängig vom aktuellen color mode - rot, grün und blauwert oder Farbe, Sättigung und Helligkeit"),i.addProcessingMethod("fill",["v1","v2","v3","alpha"],Lt,"Setzt die Füllfarbe. v1, v2 und v3 sind - abhängig vom aktuellen color mode - rot, grün und blauwert oder Farbe, Sättigung und Helligkeit"),i.addProcessingMethod("noFill",[],[],"Die nachfolgend gezeichneten Figuren werden nicht gefüllt."),i.addProcessingMethod("stroke",["rgb"],Bt,"Setzt die Linienfarbe."),i.addProcessingMethod("stroke",["rgb"],$t,"Setzt die Linienfarbe."),i.addProcessingMethod("stroke",["rgb","alpha"],[Bt,Lt],"Setzt die Linienfarbe."),i.addProcessingMethod("stroke",["gray"],Lt,"Setzt die Linienfarbe."),i.addProcessingMethod("stroke",["v1","v2","v3"],Lt,"Setzt die Linienfarbe. v1, v2 und v3 sind - abhängig vom aktuellen color mode - rot, grün und blauwert oder Farbe, Sättigung und Helligkeit"),i.addProcessingMethod("stroke",["v1","v2","v3","alpha"],Lt,"Setzt die Linienfarbe. v1, v2 und v3 sind - abhängig vom aktuellen color mode - rot, grün und blauwert oder Farbe, Sättigung und Helligkeit"),i.addProcessingMethod("strokeWeight",["weight"],Lt,"Setzt die Linienbreite."),i.addProcessingMethod("noStroke",[],[],"Die nachfolgend gezeichneten Figuren werden ohne Rand gezeichnet."),i.addProcessingMethod("color",["gray"],Lt,"Gibt den Grauton als String-kodierte Farbe zurück.",$t),i.addProcessingMethod("color",["colorAsString"],$t,"Gibt die Farbe zurück. Übergeben kann eine Zeichenkette der Form 'rgb(0,0,255)' oder 'rgb(0%, 0%, 100%)' oder 'rgba(0, 0, 255, 1)' oder 'rgba(0%, 0%, 100%, 1)' und all diese Kombinationen statt rgb auch mit hsl und hsb.",$t),i.addProcessingMethod("color",["gray","alpha"],Lt,"Gibt den Grauton als String-kodierte Farbe zurück.",$t),i.addProcessingMethod("color",["v1","v2","v3"],Lt,"Gibt die aus v1, v2, v3 gebildete Farbe String-kodiert zurück.",$t),i.addProcessingMethod("color",["v1","v2","v3","alpha"],Lt,"Gibt die aus v1, v2, v3 und alpha gebildete Farbe String-kodiert zurück.",$t),i.addProcessingMethod("lerpColor",["colorA","colorB","t"],[$t,$t,Lt],"Gibt eine Zwischenfarbe zwischen colorA und colorB zurück. t == 0 bedeutet: colorA, t == 1 bedeutet: colorB, t == 0.5 bedeutet: genau zwischen beiden, usw.",$t),i.addProcessingMethod("colorMode",["mode"],$t,"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. Möglich sind die Werte RGB, HSL und HSB."),i.addProcessingMethod("colorMode",["mode","max"],[$t,Lt],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. Möglich sind die Werte RGB, HSL und HSB für Mode. Max ist der Maximalwert jeder Farbkomponente."),i.addProcessingMethod("colorMode",["mode","max1","max2","max3"],[$t,Lt,Lt,Lt],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. Möglich sind die Werte RGB, HSL und HSB für Mode. Max ist der Maximalwert jeder Farbkomponente."),i.addProcessingMethod("colorMode",["mode","max1","max2","max3","maxAlpha"],[$t,Lt,Lt,Lt,Lt],"Setzt den Modus, in dem nachfolgende Aufrufe von color(...) interpretiert werden. Möglich sind die Werte RGB, HSL und HSB für Mode. Max ist der Maximalwert jeder Farbkomponente."),i.addProcessingMethod("rectMode",["mode"],$t,"Setzt den Modus, in dem nachfolgende Aufrufe von rect(...) interpretiert werden. Möglich sind die Werte CORNER, CORNERS, RADIUS und CENTER."),i.addProcessingMethod("rect",["left","top","width","height"],Lt,"Zeichnet ein Rechteck. (left, top) ist die linke obere Ecke, width die Breite und height die Höhe des Rechtecks."),i.addProcessingMethod("rect",["left","top","width","height","radius"],Lt,"Zeichnet ein Rechteck mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width die Breite und height die Höhe des Rechtecks."),i.addProcessingMethod("rect",["left","top","width","height","radius1","radius2","radius3","radius4"],Lt,"Zeichnet ein Rechteck mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width die Breite und height die Höhe des Rechtecks."),i.addProcessingMethod("square",["left","top","width"],Lt,"Zeichnet ein Quadrat. (left, top) ist die linke obere Ecke, width Seitenlänge des Quadrats."),i.addProcessingMethod("square",["left","top","width","radius"],Lt,"Zeichnet ein Quadrat mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width Seitenlänge des Quadrats. Radius ist der Eckenradius."),i.addProcessingMethod("square",["left","top","width","radius1","radius2","radius3","radius4"],Lt,"Zeichnet ein Quadrat mit abgerundeten Ecken. (left, top) ist die linke obere Ecke, width Seitenlänge des Quadrats. Radius ist der Eckenradius."),i.addProcessingMethod("rect",["left","top","width","height","radius"],Lt,"Zeichnet ein Rechteck. (left, top) ist die linke obere Ecke, width die Breite und height die Höhe des Rechtecks. Radius ist der Eckenradius"),i.addProcessingMethod("ellipse",["left","top","width","height"],Lt,"Zeichnet eine Ellipse. (left, top) ist die linke obere Ecke der Boundingbox der Ellipse, width ihre Breite und height ihre Höhe. Das lässt sich aber mit ellipseMode(...) ändern!"),i.addProcessingMethod("circle",["x","y","extent"],Lt,"Zeichnet einen Kreis. (x, y) ist der Mittelpunkt des Kreises, extent der doppelte Radius."),i.addProcessingMethod("ellipseMode",["mode"],$t,"Setzt den Modus, in dem nachfolgende Aufrufe von ellipse(...) interpretiert werden. Möglich sind die Werte CORNER, CORNERS, RADIUS und CENTER."),i.addProcessingMethod("line",["x1","y1","x2","y2"],Lt,"Zeichnet eine Strecke von (x1, y1) nach (x2, y2)."),i.addProcessingMethod("line",["x1","y1","z1","x2","y2","z2"],Lt,"Zeichnet eine Strecke von (x1, y1, z1) nach (x2, y2, z2)."),i.addProcessingMethod("triangle",["x1","y1","x2","y2","x3","y3"],Lt,"Zeichnet eine Dreieck mit den Eckpunkten (x1, y1), (x2, y2) und (x3, y3)."),i.addProcessingMethod("quad",["x1","y1","x2","y2","x3","y3","x4","y4"],Lt,"Zeichnet eine Viereck mit den Eckpunkten (x1, y1), (x2, y2), (x3, y3) und (x4, y4)."),i.addProcessingMethod("bezier",["x1","y1","x2","y2","x3","y3","x4","y4"],Lt,"Zeichnet eine kubische Bezierkurve mit den Ankerpunkten (x1, y1), (x4, y4) und den Kontrollpunkten (x2, y2), (x3, y3)."),i.addProcessingMethod("curve",["x1","y1","x2","y2","x3","y3","x4","y4"],Lt,"Zeichnet eine Catmull-Rom-Kurve vom Punkt (x2, y2) nach (x3, y3) so, als würde sie von (x1, x2) kommen und es am Ende zu (x4, y4) weitergehen."),i.addProcessingMethod("curvePoint",["a","b","c","d","t"],Lt,"Will man die Zwischenpunkte einer Curve erhalten (Beginn b, Ende c, als würde sie von a kommen und nach d gehen), so verwendet man sowohl für die x- als auch für die y-Koordinate diese Funktion. t gibt an, welchen Punkt der Kurve man haben möchte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",Lt),i.addProcessingMethod("curveTangent",["a","b","c","d","t"],Lt,"Will man die Zwischentangenten einer Curve erhalten (Beginn b, Ende c, als würde sie von a kommen und nach d gehen), so verwendet man sowohl für die x- als auch für die y-Koordinate diese Funktion. t gibt an, welchen Punkt der Kurve man haben möchte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",Lt),i.addProcessingMethod("bezierPoint",["x1","x2","x3","x4","t"],Lt,"Will man die Zwischenpunkte einer Bezierkurve erhalten (Ankerkoordinaten x1, x4 und Stützkoordinaten x2, x3), so nutzt man - einzeln sowohl für die x- also auch für die y-Koordinate - diese Funktion. t gibt an, welchen Punkt der Kurve man haben möchte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",Lt),i.addProcessingMethod("bezierTangent",["x1","x2","x3","x4","t"],Lt,"Will man die Zwischentangenten einer Bezierkurve erhalten (Ankerkoordinaten x1, x4 und Stützkoordinaten x2, x3), so nutzt man - einzeln sowohl für die x- also auch für die y-Koordinate - diese Funktion. t gibt an, welchen Punkt der Kurve man haben möchte. t hat Werte zwischen 0 (Startpunkt) und 1 (Endpunkt).",Lt),i.addProcessingMethod("beginShape",[],[],"Beginnt mit dem Zeichnen eines Polygons. Die einzelnen Punkte werden mit der Methode vertex(x, y) gesetzt."),i.addProcessingMethod("endShape",[],[],"Endet das Zeichnen eines Polygons."),i.addProcessingMethod("beginShape",["kind"],$t,"Beginnt mit dem Zeichnen eines Polygons. Die einzelnen Punkte werden mit der Methode vertex(x, y) gesetzt. Mögliche Werte für kind sind: POINTS, LINES, TRIANGLES, TRIANGLE_STRIP, TRIANGLE_FAN, QUADS, QUAD_STRIP"),i.addProcessingMethod("endShape",["kind"],$t,"endShape(CLOSE) schließt den Linienzug."),i.addProcessingMethod("vertex",["x","y"],Lt,"Setzt zwischen beginShape() und endShape() einen Punkt."),i.addProcessingMethod("point",["x","y"],Lt,"Zeichnet einen Punkt."),i.addProcessingMethod("set",["x","y","color"],[Lt,Lt,$t],"Setzt die Farbe des Pixels bei (x, y)."),i.addProcessingMethod("vertex",["x","y","z"],Lt,"Setzt zwischen beginShape() und endShape() einen Punkt."),i.addProcessingMethod("point",["x","y","z"],Lt,"Zeichnet einen Punkt."),i.addProcessingMethod("curveVertex",["x","y"],Lt,"Setzt zwischen beginShape() und endShape() einen Punkt. Processing zeichnet damit eine Kurve nach dem Catmull-Rom-Algorithmus."),i.addProcessingMethod("curvevertex",["x","y","z"],Lt,"Setzt zwischen beginShape() und endShape() einen Punkt. Processing zeichnet damit eine Kurve nach dem Catmull-Rom-Algorithmus."),i.addProcessingMethod("box",["size"],Lt,"Zeichnet einen 3D-Würfel mit der Seitenlänge size."),i.addProcessingMethod("box",["sizeX","sizeY","sizeZ"],Lt,"Zeichnet einen 3D-Würfel mit den angegebenen Seitenlängen."),i.addProcessingMethod("resetMatrix",[],[],"Setzt alle erfolgten Transformationen zurück."),i.addProcessingMethod("push",[],[],"Sichert den aktuellen Zeichenzustand, d.h. die Farben und Transformationen, auf einen Stack."),i.addProcessingMethod("pop",[],[],"Holt den obersten Zeichenzustand, d.h. die Farben und Transformationen, vom Stack."),i.addProcessingMethod("scale",["factor"],Lt,"Streckt die nachfolgend gezeichneten Figuren."),i.addProcessingMethod("scale",["factorX","factorY"],Lt,"Streckt die nachfolgend gezeichneten Figuren."),i.addProcessingMethod("scale",["factorX","factorY","factorZ"],Lt,"Streckt die nachfolgend gezeichneten Figuren."),i.addProcessingMethod("translate",["x","y"],Lt,"Verschiebt die nachfolgend gezeichneten Figuren."),i.addProcessingMethod("translate",["x","y","z"],Lt,"Verschiebt die nachfolgend gezeichneten Figuren."),i.addProcessingMethod("rotate",["angle"],Lt,"Rotiert die nachfolgend gezeichneten Figuren. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),i.addProcessingMethod("rotateX",["angle"],Lt,"Rotiert die nachfolgend gezeichneten Figuren um die X-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),i.addProcessingMethod("rotateY",["angle"],Lt,"Rotiert die nachfolgend gezeichneten Figuren um die Y-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),i.addProcessingMethod("shearX",["angle"],Lt,"Schert die nachfolgend gezeichneten Figuren in Richtung derX-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),i.addProcessingMethod("shearY",["angle"],Lt,"Schert die nachfolgend gezeichneten Figuren in Richtung der Y-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),i.addProcessingMethod("rotateZ",["angle"],Lt,"Rotiert die nachfolgend gezeichneten Figuren um die Z-Achse. Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie angle interpretiert wird. Default ist RADIANS."),i.addProcessingMethod("angleMode",["mode"],$t,"Mit angleMode(RADIANS) bzw. angleMode(DEGREES) kann beeinflusst werden, wie winkel bei Rotationen interpretiert werden. Default ist RADIANS."),i.addProcessingMethod("textSize",["size"],Lt,"Setzt die Schriftgröße in Pixel."),i.addProcessingMethod("textAlign",["alignX"],Bt,"Setzt die Ausrichtung des nächsten ausgegebenen Textes in x-Richtung. Mögliche Werte sind CENTER, LEFT, RIGHT"),i.addProcessingMethod("textAlign",["alignX","alignY"],Bt,"Setzt die Ausrichtung des nächsten ausgegebenen Textes. Mögliche Werte für alignX sind CENTER, LEFT, RIGHT, mögliche Werte für alignY sind TOP, CENTER, BASELINE, BOTTOM"),i.addProcessingMethod("text",["text","x","y"],[$t,Lt,Lt],"Gibt Text aus."),i.addProcessingMethod("text",["text","x","y","x2","y2"],[$t,Lt,Lt,Lt,Lt],"Gibt Text aus. x2 und y2 sind die Breite und Höhe des Textausgabebereichs. Hat der Text horizontal nicht Platz, so wird er entsprechend umgebrochen."),i.addProcessingMethod("random",["low","high"],Lt,"Gibt eine Zufallszahl zwischen low und high zurück.",Lt),i.addProcessingMethod("random",["high"],Lt,"Gibt eine Zufallszahl zwischen 0 und high zurück.",Lt),i.addProcessingMethod("sqrt",["n"],Lt,"Gibt die Quadratwurzel von n zurück.",Lt),i.addProcessingMethod("pow",["basis","exponent"],Lt,'Gibt die den Wert der Potenz ("basis hoch exponent") zurück.',Lt),i.addProcessingMethod("max",["a","b"],Lt,"Gibt den größeren der beiden Werte zurück.",Lt),i.addProcessingMethod("min",["a","b"],Lt,"Gibt den kleineren der beiden Werte zurück.",Lt),i.addProcessingMethod("abs",["n"],Lt,"Gibt den Betrag des Wertes zurück.",Lt),i.addProcessingMethod("sin",["n"],Lt,"Gibt den Sinus des Wertes zurück.",Lt),i.addProcessingMethod("cos",["n"],Lt,"Gibt den Cosinus des Wertes zurück.",Lt),i.addProcessingMethod("tan",["n"],Lt,"Gibt den Tangens des Wertes zurück.",Lt),i.addProcessingMethod("asin",["n"],Lt,"Gibt den Arcussinus des Wertes zurück.",Lt),i.addProcessingMethod("acos",["n"],Lt,"Gibt den Arcussosinus des Wertes zurück.",Lt),i.addProcessingMethod("radians",["angle"],Lt,"Wandelt einen Winkel vom Gradmaß ins Bogenmaß um.",Lt),i.addProcessingMethod("degrees",["angle"],Lt,"Wandelt einen Winkel vom Bogenmaß ins Gradmaß um.",Lt),i.addProcessingMethod("atan",["n"],Lt,"Gibt den Arcussangens des Wertes zurück.",Lt),i.addProcessingMethod("atan2",["x","y"],Lt,"Gibt den Arcussangens des Wertes zurück.",Lt),i.addProcessingMethod("sqrt",["x","y"],Lt,"Gibt die Quadratwurzel des Wertes zurück.",Lt),i.addProcessingMethod("sq",["x","y"],Lt,"Gibt das Quadrat des Wertes zurück.",Lt),i.addProcessingMethod("abs",["n"],Bt,"Gibt den Betrag des Wertes zurück.",Bt),i.addProcessingMethod("round",["n"],Lt,"Rundet den Wert auf eine ganze Zahl.",Bt),i.addProcessingMethod("ceil",["n"],Lt,"Rundet den Wert auf eine ganze Zahl (Aufrunden!).",Bt),i.addProcessingMethod("floor",["n"],Lt,"Rundet den Wert auf eine ganze Zahl (Abfrunden!).",Bt),i.addProcessingMethod("dist",["x1","y1","x2","y2"],Lt,"Berechnet den Abstand der Punkte (x1, y1) und (x2, y2).",Lt),i.addProcessingMethod("lerp",["a","b","t"],Lt,"Berechnet den a + (b - a)*t. Wählt man t zwischen 0 und 1, so kann man damit die Zwischenwerte zwischen a und b errechnen.",Lt),i.addProcessingMethod("constrain",["value","min","max"],Lt,"Beschränkt value auf den Bereich [min, max], genauer: Ist value < min, so wird min zurückgegeben. Ist value > max, so wird max zurückgegeben. Ansonsten wird value zurückgegeben.",Lt),i.addProcessingMethod("year",[],[],"Aktuelle Jahreszahl",Bt),i.addProcessingMethod("month",[],[],"Monat: 1 == Januar, 12 == Dezember",Bt),i.addProcessingMethod("day",[],[],"Tag (innerhalb des Monats) des aktuellen Datums",Bt),i.addProcessingMethod("hour",[],[],"Stundenzahl der aktuellen Uhrzeit",Bt),i.addProcessingMethod("hour",[],[],"Stundenzahl der aktuellen Uhrzeit",Bt),i.addProcessingMethod("minute",[],[],"Minutenzahl der aktuellen Uhrzeit",Bt),i.addProcessingMethod("second",[],[],"Sekundenzahl der aktuellen Uhrzeit",Bt),i.addProcessingMethod("frameRate",["n"],Bt,"Setzt die Framerate (Anzahl der Aufrufe von draw() pro Sekunde)"),i.addProcessingMethod("textWidth",["text"],$t,"Gibt die Breite des Texts zurück.",Lt),i.addProcessingMethod("textAscent",["text"],$t,"Gibt den Ascent Textes zurück ( = Höhe des größten Zeichens über der Grundlinie).",Lt),i.addProcessingMethod("textDescent",["text"],$t,"Gibt den Descent Textes zurück ( = Tiefe des tiefsten Zeichens unter der Grundlinie).",Lt),i.addProcessingMethod("textLeading",["leading"],Lt,"Setzt den Abstand zweier aufeinanderfolgender Textzeilen."),i.addProcessingMethod("cursor",["type"],$t,'Ändert das Aussehen des Mauscursors. Type ist einer der Werte "arrow", "cross", "text", "move", "hand", "wait", "progress".'),i.addProcessingMethod("noCursor",["type"],$t,"Hat zur Folge, dass der Mauscursor über dem Zeichenbereich unsichtbar ist."),i.addProcessingMethod("copy",["sx","sy","sw","sh","dx","dy","dw","dh"],Lt,"Kopiert den rechteckigen Bereich mit der linken oberen Ecke (sx, sy) sowie der Breite sw und der Höhe sh in den Bereich mit der linken oberen Ecke (dx, dy), der Breite dw und der Höhe dh."),i.addProcessingMethod("millis",[],[],"Gibt die Millisekunden zurück, die vergangen sind, seit setup() aufgerufen wurde."),i.addProcessingMethod("redraw",[],[],"Führt draw() genau ein Mal aus. Macht ggf. Sinn, wenn die Render-Loop zuvor mit noLoop() gestoppt wurde."),i.setupAttributeIndicesRecursive(),i}return cg(n,[{key:"addProcessingMethod",value:function(e,t,n,i,r){var o=[];if(Array.isArray(n))for(var a=0;a<t.length;a++)o.push({identifier:t[a],type:n[a],declaration:null,usagePositions:null,isFinal:!0});else o=t.map((function(e){return{identifier:e,type:n,declaration:null,usagePositions:null,isFinal:!0}}));null==r?this.addMethod(new T(e,new x(o),null,(function(t){var n,i=t[0].value.intrinsicData.Processing,r=t.slice(1).map((function(e){return e.value}));(n=i.p5o)[e].apply(n,ag(r))}),!1,!1,i,!1)):this.addMethod(new T(e,new x(o),r,(function(t){var n,i=t[0].value.intrinsicData.Processing,r=t.slice(1).map((function(e){return e.value}));return(n=i.p5o)[e].apply(n,ag(r))}),!1,!1,i,!1))}},{key:"getProcessingHelper",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t,n,i=null===(n=null===(t=this.module)||void 0===t?void 0:t.main)||void 0===n?void 0:n.getInterpreter();if(null==i.processingHelper){if(null==i.worldHelper)return new vg(this.module,i,e);i.throwException("Processing kann nicht gleichzeitig mit der herkömmlichen Grafikausgabe genutzt werden.")}else i.throwException("Es kann nur ein einziges Processing-Applet instanziert werden.")}}]),n}(J),vg=function(){function e(t,n,i){var r,o=this;lg(this,e),this.module=t,this.interpreter=n,this.runtimeObject=i,this.width=800,this.height=600,this.loopStopped=!1,this.interpreter.processingHelper=this,this.$containerOuter=jQuery("<div></div>");var a=this.module.main.getInterpreter().printManager.getGraphicsDiv();this.onSizeChanged=function(){var e=a.parents(".jo_tabs"),t=e.width(),n=e.height();o.height/o.width>n/t?a.css({width:o.width/o.height*n+"px",height:n+"px"}):a.css({height:o.height/o.width*t+"px",width:t+"px"})},a.off("sizeChanged"),a.on("sizeChanged",this.onSizeChanged),this.onSizeChanged(),this.$containerInner=jQuery("<div></div>"),this.$containerOuter.append(this.$containerInner),a.append(this.$containerOuter),a.show(),a[0].oncontextmenu=function(e){e.preventDefault()},null===(r=this.module.main.getRightDiv())||void 0===r||r.adjustWidthToWorld()}return cg(e,[{key:"createCanvas",value:function(e,t){this.width=e,this.height=t,this.onSizeChanged(),this.p5o.createCanvas(this.width,this.height,this.renderer),this.$div.find("canvas").css({width:"",height:""})}},{key:"main",value:function(){this.interpreter.timerExtern=!0,this.setupProcessing(this.$containerInner)}},{key:"setupProcessing",value:function(e){var t=this,n=!0;this.$div=e;this.p5o=new p5((function(e){e.setup=function(){t.renderer=e.P2D;var i=function(){n=!1},r=2;t.runMethod("setup",(function(){0==--r&&i()})),t.runMethod("settings",(function(){0==--r&&i()}))},e.preload=function(){t.runMethod("preload")},e.draw=function(){t.interpreter.state!=ic.running||t.loopStopped||n||(n=!0,t.runMethod("draw",(function(){n=!1}))),t.tick()},e.mousePressed=function(){t.runMethod("mousePressed")},e.mouseReleased=function(){t.runMethod("mouseReleased")},e.mouseClicked=function(){t.runMethod("mouseClicked")},e.mouseDragged=function(){t.runMethod("mouseDragged")},e.mouseEntered=function(){t.runMethod("mouseEntered")},e.mouseExited=function(){t.runMethod("mouseExited")},e.mouseMoved=function(){t.runMethod("mouseMoved")},e.keyPressed=function(){t.runMethod("keyPressed")},e.keyReleased=function(){t.runMethod("keyReleased")}}),e[0]),e.find("canvas").css({width:"",height:""})}},{key:"tick",value:function(){this.interpreter.state==ic.running&&(this.interpreter.timerFunction(33.33,!0,.5),this.interpreter.timerStopped=!1,this.interpreter.timerFunction(33.33,!1,.08))}},{key:"loop",value:function(){this.loopStopped=!1}},{key:"noLoop",value:function(){this.loopStopped=!0}},{key:"runMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.runtimeObject.class,i=n.getMethodBySignature(e+"()"),r=null==i?void 0:i.program;if(null!=r){var o=[{type:n,value:this.runtimeObject}];this.interpreter.runTimer(i,o,(function(e){null!=t&&t()}),"draw"==e)}else null!=t&&t()}},{key:"destroyWorld",value:function(){null!=this.p5o&&this.p5o.remove(),this.$containerOuter.remove(),this.module.main.getInterpreter().printManager.getGraphicsDiv().hide(),this.interpreter.timerExtern=!1,this.interpreter.processingHelper=null}}]),e}();function mg(e){return(mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bg(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function bg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wg(){return(wg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=kg(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function kg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ag(e)););return e}function Sg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pg(e,t,n){return t&&Sg(e.prototype,t),n&&Sg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}function xg(e,t){return(xg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ag(e);if(t){var r=Ag(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Og(this,n)}}function Og(e,t){if(t&&("object"===mg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cg(e)}function Cg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ag(e){return(Ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eg=function(e){Tg(n,e);var t=Mg(n);function n(e){var i;return jg(this,n),(i=t.call(this,"Turtle",e,"Turtle-Klasse zum Zeichnen von Streckenzügen oder gefüllten Figuren. Wichtig sind vor allem die Methoden forward(double length) und turn(double angleDeg), die die Turtle nach vorne bewegen bzw. ihre Blickrichtung ändern.")).setBaseClass(e.typeStore.getType("FilledShape")),i.addMethod(new T("Turtle",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=new Dg(i,r,!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=o}),!1,!1,'Instanziert ein neues Turtle-Objekt ohne Punkte. Die Turtle blickt anfangs nach rechts. Am Ende des Streckenzugs wird eine "Schildkröte" (kleines Dreieck) gezeichnet.',!0)),i.addMethod(new T("Turtle",new x([{identifier:"x",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Wt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"showTurtle",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new Dg(i,r,o,e.main.getInterpreter(),n);n.intrinsicData.Actor=a}),!1,!1,'Instanziert ein neues Turtle-Objekt ohne Punkte. Die Turtle blickt anfangs nach rechts. Falls showTurtle == true, wird am Ende des Streckenzuges eine "Schildkröte" (kleines Dreieck) gezeichnet.',!0)),i.addMethod(new T("forward",new x([{identifier:"length",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("forward")||i.forward(n)}),!1,!1,"Weist die Turtle an, die angegebene Länge vorwärts zu gehen. Ihr zurückgelegter Weg wird als gerade Strecke mit der aktuellen BorderColor gezeichnet. Mit setBorderColor(null) bewirkst Du, dass ein Stück ihres Weges nicht gezeichnet wird.",!1)),i.addMethod(new T("turn",new x([{identifier:"angleInDeg",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("turn")||i.turn(n)}),!1,!1,"Bewirkt, dass sich die Turtle um den angegebenen Winkel (in Grad!) dreht, d.h. ihre Blickrichtung ändert. Ein positiver Winkel bewirkt eine Drehung gegen den Uhrzeigersinn. Diese Methode wirkt sich NICHT auf die bisher gezeichneten Strecken aus. Willst Du alles bisher Gezeichnete inklusive Turtle drehen, so nutze die Methode rotate.",!1)),i.addMethod(new T("penUp",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("penUp")||(t.penIsDown=!1)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt nicht mehr zeichnet.",!1)),i.addMethod(new T("penDown",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("penDown")||(t.penIsDown=!0)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt wieder zeichnet.",!1)),i.addMethod(new T("closeAndFill",new x([{identifier:"closeAndFill",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("closeAndFill")||i.closeAndFill(n)}),!1,!1,"closeAndFill == true bewirkt, dass das von der Turtlezeichnung umschlossene Gebiet gefüllt wird.",!1)),i.addMethod(new T("showTurtle",new x([{identifier:"showTurtle",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;i.testdestroyed("showTurtle")||i.setShowTurtle(n)}),!1,!1,"showTurtle == true bewirkt, dass am Ort der Turtle ein rotes Dreieck gezeichnet wird.",!1)),i.addMethod(new T("copy",new x([]),Cg(i),(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("copy"))return n.getCopy(t.class)}),!1,!1,"Erstellt eine Kopie des Turtle-Objekts und gibt es zurück.",!1)),i.addMethod(new T("clear",new x([]),Cg(i),(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("clear"))return t.clear()}),!1,!1,"Löscht alle bis jetzt mit der Turtle gezeichneten Strecken.",!1)),i}return Pg(n)}(J),Dg=function(e){Tg(n,e);var t=Mg(n);function n(e,i,r,o,a){var s;jg(this,n),(s=t.call(this,o,a)).showTurtle=r,s.lineElements=[],s.turtleAngleDeg=0,s.isFilled=!1,s.xSum=0,s.ySum=0,s.initialHitPolygonDirty=!0,s.turtleSize=40,s.penIsDown=!0,s.lastLineWidth=0,s.lastColor=0,s.lastAlpha=0,s.lastTurtleAngleDeg=0,s.renderJobPresent=!1,s.lineElements.push({x:e,y:i,color:0,alpha:1,lineWidth:1}),s.calculateCenter(),s.borderColor=16777215,s.hitPolygonInitial=[];var l=new PIXI.Container;return s.displayObject=l,s.lineGraphic=new PIXI.Graphics,l.addChild(s.lineGraphic),s.lineGraphic.moveTo(e,i),s.turtle=new PIXI.Graphics,l.addChild(s.turtle),s.turtle.visible=s.showTurtle,s.initTurtle(0,0,s.turtleAngleDeg),s.moveTurtleTo(e,i,s.turtleAngleDeg),s.worldHelper.stage.addChild(s.displayObject),s.addToDefaultGroupAndSetDefaultVisibility(),s}return Pg(n,[{key:"calculateCenter",value:function(){var e=this.lineElements.length,t=this.lineElements[e-1];this.xSum+=t.x,this.ySum+=t.y,this.centerXInitial=this.xSum/e,this.centerYInitial=this.ySum/e}},{key:"closeAndFill",value:function(e){e!=this.isFilled&&(this.isFilled=e,this.render(),this.initialHitPolygonDirty=!0)}},{key:"setShowTurtle",value:function(e){this.turtle.visible=e}},{key:"turn",value:function(e){this.turtleAngleDeg-=e,Math.abs(this.turtleAngleDeg)>360&&(this.turtleAngleDeg-=360*Math.floor(this.turtleAngleDeg/360));var t=this.lineElements[this.lineElements.length-1];this.moveTurtleTo(t.x,t.y,this.turtleAngleDeg)}},{key:"rotate",value:function(e,t,i){wg(Ag(n.prototype),"rotate",this).call(this,e,t,i)}},{key:"getCopy",value:function(e){var t=new E(e),i=new n(this.lineElements[0].x,this.lineElements[0].y,this.showTurtle,this.worldHelper.interpreter,t);return t.intrinsicData.Actor=i,i.turtleAngleDeg=this.turtleAngleDeg,i.copyFrom(this),i.render(),t}},{key:"forward",value:function(e){var t=this,n=this.lineElements[this.lineElements.length-1],i=this.turtleAngleDeg/180*Math.PI,r={x:n.x+e*Math.cos(i),y:n.y+e*Math.sin(i),color:this.penIsDown?this.borderColor:null,alpha:this.borderAlpha,lineWidth:this.borderWidth};this.lineElements.push(r),this.hitPolygonDirty=!0,this.initialHitPolygonDirty=!0,this.calculateCenter(),this.newTurtleX=r.x,this.newTurtleY=r.y,this.newAngleDeg=this.turtleAngleDeg,this.renderJobPresent||(this.renderJobPresent=!0,setTimeout((function(){t.renderJobPresent=!1,t.render(),t.moveTurtleTo(t.newTurtleX,t.newTurtleY,t.turtleAngleDeg)}),100))}},{key:"moveTo",value:function(e,t){var n={x:e,y:t,color:null,alpha:this.borderAlpha,lineWidth:this.borderWidth};this.lineElements.push(n),this.hitPolygonDirty=!0,this.initialHitPolygonDirty=!0,this.calculateCenter(),this.moveTurtleTo(n.x,n.y,this.turtleAngleDeg)}},{key:"initTurtle",value:function(e,t,n){this.turtle.clear(),this.turtle.lineStyle(3,16711680,1,.5),this.turtle.moveTo(e,t);var i=n/180*Math.PI,r=Math.cos(i),o=Math.sin(i),a=-Math.sin(i),s=Math.cos(i),l=this.turtleSize/2,u=this.turtleSize/4,c=this.turtleSize/4;this.turtle.moveTo(e+r*l,t+o*l),this.turtle.lineTo(e-r*u+a*c,t-o*u+s*c),this.turtle.lineTo(e-r*u-a*c,t-o*u-s*c),this.turtle.lineTo(e+r*l,t+o*l)}},{key:"moveTurtleTo",value:function(e,t,n){this.turtle.localTransform.identity(),this.turtle.localTransform.rotate(n/180*Math.PI),this.turtle.localTransform.translate(e,t),this.turtle.transform.onChange(),this.turtle.updateTransform(),this.lastTurtleAngleDeg=this.turtleAngleDeg}},{key:"render",value:function(){var e=this.lineGraphic;this.lastLineWidth=0,this.lastColor=0,this.lastAlpha=0,null==this.displayObject?(e=new PIXI.Graphics,this.displayObject=e,this.worldHelper.stage.addChild(e)):e.clear(),null!=this.fillColor&&this.isFilled&&e.beginFill(this.fillColor,this.fillAlpha);var t=this.lineElements[0];e.moveTo(t.x,t.y),this.isFilled&&e.lineStyle(this.borderWidth,this.borderColor,this.borderAlpha,.5);for(var n=1;n<this.lineElements.length;n++){var i=this.lineElements[n];null!=i.color?(this.isFilled||i.lineWidth==this.lastLineWidth&&i.color==this.lastColor&&i.alpha==this.lastAlpha||(e.lineStyle(i.lineWidth,i.color,i.alpha,.5),this.lastLineWidth=i.lineWidth,this.lastColor=i.color,this.lastAlpha=i.alpha),e.lineTo(i.x,i.y)):e.moveTo(i.x,i.y)}this.isFilled&&e.closePath(),null!=this.fillColor&&this.isFilled&&e.endFill()}},{key:"collidesWith",value:function(e){e instanceof n&&e.initialHitPolygonDirty&&e.setupInitialHitPolygon(),this.initialHitPolygonDirty&&(this.setupInitialHitPolygon(),this.transformHitPolygon());var t=this.displayObject.getBounds(),i=e.displayObject.getBounds();return!(t.left>i.right||i.left>t.right)&&(!(t.top>i.bottom||i.top>t.bottom)&&(e.shapes?e.collidesWith(this):null==this.hitPolygonInitial||null==e.hitPolygonInitial||(this.hitPolygonDirty&&this.transformHitPolygon(),e.hitPolygonDirty&&e.transformHitPolygon(),function(e,t){for(var n=0;n<e.length;n++)if(Zc(t,e[n]))return!0;for(var i=0;i<t.length;i++)if(Zc(e,t[i]))return!0;return!1}(this.hitPolygonTransformed,e.hitPolygonTransformed))))}},{key:"setupInitialHitPolygon",value:function(){this.hitPolygonInitial=this.lineElements.map((function(e){return{x:e.x,y:e.y}}))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.lineElements.pop();null==e&&(e=i.x),null==t&&(t=i.y),this.lineElements=[],this.lineElements.push({x:e,y:t,color:0,alpha:1,lineWidth:1}),this.calculateCenter(),this.hitPolygonInitial=[],null!=n&&(this.turtleAngleDeg=n,this.lastTurtleAngleDeg=0,this.borderColor=0,this.turtleSize=40),this.render(),null!=n&&this.moveTurtleTo(e,t,n)}},{key:"touchesAtLeastOneFigure",value:function(){var e,t=this.lineElements[this.lineElements.length-1],n=t.x,i=t.y,r=gg(this.worldHelper.shapes);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o!=this&&o.containsPoint(n,i))return!0}}catch(e){r.e(e)}finally{r.f()}}},{key:"touchesColor",value:function(e){var t,n=this.lineElements[this.lineElements.length-1],i=n.x,r=n.y,o=gg(this.worldHelper.shapes);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a!=this&&a.containsPoint(i,r)&&a instanceof Gd&&a.fillColor==e)return!0}}catch(e){o.e(e)}finally{o.f()}}},{key:"touchesShape",value:function(e){var t=this.lineElements[this.lineElements.length-1],n=t.x,i=t.y;return e.containsPoint(n,i)}}]),n}(Gd);function Ig(e){return(Ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bg(e,t,n){return t&&Rg(e.prototype,t),n&&Rg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lg(e,t){return(Lg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ng(e);if(t){var r=Ng(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Gg(this,n)}}function Gg(e,t){if(t&&("object"===Ig(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ng(e){return(Ng=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lg(e,t)}(n,e);var t=Wg(n);function n(e,i){var r;return zg(this,n),(r=t.call(this,"Ereignisbehandlung",e,"Zugriff auf Ereignisse einschließlich Taktgeber (Graphics'n Games-Bibliothek (Cornelsen-Verlag))")).moduleStore=i,r.addMethod(new T("Ereignisbehandlung",new x([]),null,(function(t){var i=t[0].value;n.getHelper(e).registerEvents(i)}),!1,!1,"Instanziert ein neues Ereignisbehandlungs-Objekt.",!0)),r.addMethod(new T("Starten",new x([]),null,(function(t){n.getHelper(e).startTimer()}),!1,!1,"Zeitgeber starten.",!1)),r.addMethod(new T("Anhalten",new x([]),null,(function(t){n.getHelper(e).stopTimer()}),!1,!1,"Zeitgeber anhalten.",!1)),r.addMethod(new T("TaktdauerSetzen",new x([{identifier:"dauer",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(t){var i=t[1].value;n.getHelper(e).taktdauer=i}),!1,!0,"Setzt die Taktdauer des Zeitgebers in Millisekunden",!1)),r.addMethod(new T("TaktImpulsAusführen",new x([]),Rt,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),r.addMethod(new T("TasteGedrückt",new x([{identifier:"taste",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedrückt wird.")),r.addMethod(new T("SonderTasteGedrückt",new x([{identifier:"taste",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedrückt wird.")),r.addMethod(new T("MausGeklickt",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedrückt wird.")),r}return Bg(n,null,[{key:"getHelper",value:function(e){var t=e.main.getInterpreter();return null==t.gngEreignisbehandlungHelper&&(t.gngEreignisbehandlungHelper=new Hg(e),t.gngEreignisbehandlungHelper.bindEvents()),t.gngEreignisbehandlungHelper}}]),n}(J),Hg=function(){function e(t){zg(this,e),this.module=t,this.aktionsempfaengerTypes=["ausführen","taste","sondertaste","geklickt"],this.methodSignatureList=["TaktImpulsAusführen()","AktionAusführen()","MausGeklickt(int, int, int)","TasteGedrückt(char)","SonderTasteGedrückt(int)"],this.methodToAktionsempfaengerTypeMap={"TaktImpulsAusführen()":"ausführen","AktionAusführen()":"ausführen","MausGeklickt(int, int, int)":"geklickt","TasteGedrückt(char)":"taste","SonderTasteGedrückt(int)":"sondertaste"},this.keyToKeyCodeMap={Enter:13,ArrowLeft:37,ArrowRight:39,ArrowUp:38,ArrowDown:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,PageUp:33,PageDown:34,Insert:155},this.aktionsempfaengerMap={},this.timerRunning=!1,this.taktdauer=300,this.remainingTime=0;var n,i=Fg(this.aktionsempfaengerTypes);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.aktionsempfaengerMap[r]=[]}}catch(e){i.e(e)}finally{i.f()}}return Bg(e,[{key:"hasAktionsEmpfaenger",value:function(){var e,t=Fg(this.aktionsempfaengerTypes);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this.aktionsempfaengerMap[n].length>0)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"registerEvents",value:function(e){var t,n=e.class,i=Fg(this.methodSignatureList);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=n.getMethodBySignature(r),a=this.methodToAktionsempfaengerTypeMap[r];null==(null==o?void 0:o.program)&&null==(null==o?void 0:o.invoke)||this.aktionsempfaengerMap[a].push({type:a,method:o,runtimeObject:e})}}catch(e){i.e(e)}finally{i.f()}}},{key:"unregisterEvents",value:function(e){e.class;var t,n=Fg(this.methodSignatureList);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=this.methodToAktionsempfaengerTypeMap[i];this.aktionsempfaengerMap[r]=this.aktionsempfaengerMap[r].filter((function(t){return t.runtimeObject!=e}))}}catch(e){n.e(e)}finally{n.f()}}},{key:"bindEvents",value:function(){var e=this,t=this.module.main.getInterpreter();this.onKeyDownMethod=function(t){if(1==t.length){var n,i=Fg(e.aktionsempfaengerMap.taste);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.invokeMethod(r.method,r.runtimeObject,[{type:Ht,value:t}])}}catch(e){i.e(e)}finally{i.f()}}else{var o=e.keyToKeyCodeMap[t];if(null!=o){var a,s=Fg(e.aktionsempfaengerMap.sondertaste);try{for(s.s();!(a=s.n()).done;){var l=a.value;e.invokeMethod(l.method,l.runtimeObject,[{type:Ht,value:o}])}}catch(e){s.e(e)}finally{s.f()}}}},t.keyboardTool.keyDownCallbacks.push(this.onKeyDownMethod)}},{key:"detachEvents",value:function(){var e=this.module.main.getInterpreter(),t=e.keyboardTool.keyDownCallbacks.indexOf(this.onKeyDownMethod);t>=0&&e.keyboardTool.keyDownCallbacks.splice(t,1),this.stopTimer()}},{key:"invokeMethod",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=e.program,o=e.invoke;(n=n.slice(0)).unshift({type:t.class,value:t}),null!=r?this.module.main.getInterpreter().runTimer(e,n,i,!1):null!=o&&o(n)}},{key:"stopTimer",value:function(){this.timerRunning=!1}},{key:"startTimer",value:function(){this.timerRunning||(this.timerRunning=!0,this.processTimerEntries())}},{key:"processTimerEntries",value:function(){if(this.timerRunning){if(this.remainingTime+=10,this.remainingTime>this.taktdauer){this.remainingTime-=this.taktdauer;var e,t=Fg(this.aktionsempfaengerMap["ausführen"]);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.invokeMethod(n.method,n.runtimeObject,[])}}catch(e){t.e(e)}finally{t.f()}}var i=this;setTimeout((function(){i.processTimerEntries()}),10)}}},{key:"handleMouseClickedEvent",value:function(e,t){var n,i=[{type:Bt,value:Math.round(e)},{type:Bt,value:Math.round(t)},{type:Bt,value:1}],r=Fg(this.aktionsempfaengerMap.geklickt);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.invokeMethod(o.method,o.runtimeObject,i)}}catch(e){r.e(e)}finally{r.f()}}}]),e}();function Vg(e){return(Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Qg(e,t){return(Qg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ug(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xg(e);if(t){var r=Xg(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Zg(this,n)}}function Zg(e,t){if(t&&("object"===Vg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xg(e){return(Xg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}(o,e);var t,n,i,r=Ug(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"Zeichenfenster",e,"Grafische Zeichenfläche mit Koordinatensystem")).module=e,n.setBaseClass(t.getType("Object").type);var i=e.typeStore.getType("Aktionsempfaenger");return n.addMethod(new T("MalflächenBreiteGeben",new x([]),Bt,(function(e){return Math.round(n.getWorldHelper().width)}),!1,!0,"Gibt die Breite des Zeichenbereichs in Pixeln zurück.",!1)),n.addMethod(new T("MalflächenHöheGeben",new x([]),Bt,(function(e){return Math.round(n.getWorldHelper().width)}),!1,!0,"Gibt die Höhe des Zeichenbereichs in Pixeln zurück.",!1)),n.addMethod(new T("AktionsEmpfängerEintragen",new x([{identifier:"neu",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(t){var n=t[1].value;$g.getHelper(e).registerEvents(n)}),!1,!0,"Trägt einen neuen Aktionsempfänger ein.",!1)),n.addMethod(new T("AktionsEmpfängerEntfernen",new x([{identifier:"alt",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(t){var n=t[1].value;$g.getHelper(e).unregisterEvents(n)}),!1,!0,"Löscht einen Aktionsempfänger aus der Liste.",!1)),n.addMethod(new T("TaktgeberStarten",new x([]),Rt,(function(t){$g.getHelper(e).startTimer()}),!1,!0,"Startet den Taktgeber",!1)),n.addMethod(new T("TaktgeberStoppen",new x([]),Rt,(function(t){$g.getHelper(e).stopTimer()}),!1,!0,"Stoppt den Taktgeber",!1)),n.addMethod(new T("TaktdauerSetzen",new x([{identifier:"dauer",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,(function(t){var n=t[1].value;$g.getHelper(e).taktdauer=n}),!1,!0,"Setzt die Taktdauer des Zeitgebers in Millisekunden",!1)),n}return t=o,(n=[{key:"getWorldHelper",value:function(){var e,t,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,a=null===(n=null===(t=null===(e=this.module)||void 0===e?void 0:e.main)||void 0===t?void 0:t.getInterpreter())||void 0===n?void 0:n.worldHelper;if(null!=a){if(a.width!=r||a.height!=o){var s=Math.round(o/r*100);a.$containerOuter.css("padding-bottom",s+"%"),a.stage.localTransform.scale(a.width/r,a.height/o),a.width=r,a.height=o,a.stage.transform.onChange(),null===(i=this.module.main.getRightDiv())||void 0===i||i.adjustWidthToWorld()}return a}var l=new E(this.module.typeStore.getType("World")),u=new Mc(r,o,this.module,l);l.intrinsicData.World=u}}])&&Kg(t.prototype,n),i&&Kg(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(J);function Yg(e){return(Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function eb(e,t){return(eb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ib(e);if(t){var r=ib(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nb(this,n)}}function nb(e,t){if(t&&("object"===Yg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ib(e){return(ib=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}(o,e);var t,n,i,r=tb(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"Rechteck",e,"Rechteck-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)")).setBaseClass(e.typeStore.getType("GNGBaseFigur")),n.addAttribute(new j("breite",Bt,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(Math.abs(t.width*t.displayObject.scale.x))}),!1,_.protected,!1,"Breite des Rechtecks")),n.addAttribute(new j("höhe",Bt,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(Math.abs(t.height*t.displayObject.scale.x))}),!1,_.protected,!1,"Höhe des Rechtecks")),n.setupAttributeIndicesRecursive(),n.addMethod(new T("Rechteck",new x([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new Zh(10,10,100,100,e.main.getInterpreter(),n);n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:10,y:10},n.intrinsicData.Farbe="rot",i.setFillColor(16711680)}),!1,!1,"Instanziert ein neues, achsenparalleles Rechteck-Objekt.",!0)),n.addMethod(new T("GrößeSetzen",new x([{identifier:"breite",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"höhe",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("GrößeSetzen")||(t.height=i/t.displayObject.scale.y,t.width=n/t.displayObject.scale.x,t.centerXInitial=t.left+t.width/2,t.centerYInitial=t.top+t.height/2,t.render())}),!1,!1,"Setzt die Breite und Höhe des Rechtecks.",!1)),n}return t=o,n&&Jg(t.prototype,n),i&&Jg(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J),ob={"weiß":16777215,weiss:16777215,rot:16711680,"grün":65280,gruen:65280,blau:255,gelb:16776960,magenta:16711935,cyan:65535,hellgelb:16777088,"hellgrün":8454016,hellgruen:8454016,orange:16744448,braun:8404992,grau:8421504,schwarz:0};function ab(e){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function lb(e,t){return(lb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ub(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=db(e);if(t){var r=db(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return cb(this,n)}}function cb(e,t){if(t&&("object"===ab(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function db(e){return(db=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}(o,e);var t,n,i,r=ub(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,"GNGBaseFigur",e,"Oberklasse der graphischen Elemente in der Graphics'n Games-Bibliothek (Cornelsen-Verlag)");var i=t.getType("Object").type;return n.setBaseClass(i),n.addAttribute(new j("farbe",$t,(function(e){var t=e.object.intrinsicData.Farbe;e.value=null==t?"schwarz":t}),!1,_.protected,!1,"Farbe des Grafikobjekts")),n.addAttribute(new j("x",Bt,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.getCenterX())}),!1,_.protected,!1,"x-Position des Grafikobjekts")),n.addAttribute(new j("y",Bt,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.getCenterY())}),!1,_.protected,!1,"y-Position des Grafikobjekts")),n.addAttribute(new j("winkel",Bt,(function(e){e.value=e.object.intrinsicData.Actor.angle}),!1,_.protected,!1,"Blickrichtung des Grafikobjekts in Grad")),n.addAttribute(new j("größe",Bt,(function(e){e.value=Math.round(100*e.object.intrinsicData.Actor.scaleFactor)}),!1,_.protected,!1,"Größe des Grafikobjekts (100 entspricht 'normalgroß')")),n.addAttribute(new j("sichtbar",Gt,(function(e){var t;e.value=null===(t=e.object.intrinsicData.Actor.displayObject)||void 0===t?void 0:t.visible}),!1,_.protected,!1,"true, wenn das Grafikobjekt sichtbar ist")),n.setupAttributeIndicesRecursive(),n.addMethod(new T("PositionSetzen",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value,r=e[2].value;if(!n.testdestroyed("PositionSetzen")){var o=t.intrinsicData.moveAnchor,a=new PIXI.Point(o.x,o.y);n.displayObject.updateTransform(),n.displayObject.transform.worldTransform.apply(a,a),n.move(i-a.x,r-a.y)}}),!1,!1,"Verschiebt das Rechteck so, dass seine linke obere Ecke bei (x,y) zu liegen kommt.",!1)),n.addMethod(new T("Verschieben",new x([{identifier:"deltaX",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"deltaY",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("Verschieben")||t.move(n,i)}),!1,!1,"Verschiebt die Figur um (x, y)",!1)),n.addMethod(new T("Drehen",new x([{identifier:"grad",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("Drehen")||t.rotate(n)}),!1,!1,"Dreht die Figur um den angegebenen Winkel. Drehpunkt ist der Diagonalenschnittpunkt der kleinsten achsenparallelen Bounding Box um die Figur.",!1)),n.addMethod(new T("FarbeSetzen",new x([{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;t.intrinsicData.Farbe=i;var r=ob[i.toLocaleLowerCase()];null==r&&(r=0),n.testdestroyed("FarbeSetzen")||(n.setFillColor(r),n.render())}),!1,!1,"Setzt die Farbe der Figur.",!1)),n.addMethod(new T("WinkelSetzen",new x([{identifier:"winkel",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("WinkelSetzen")||t.rotate(n-t.angle)}),!1,!1,"Setzt den Drehwinkel der Figur. Der Winkel wird in Grad angegebenen, positive Werte bedeuten eine Drehung gegen den Uhrzeigersinn.",!1)),n.addMethod(new T("SichtbarkeitSetzen",new x([{identifier:"sichtbarkeit",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("SichtbarkeitSetzen")||t.setVisible(n)}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),n.addMethod(new T("Entfernen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("Entfernen")||t.destroy()}),!1,!1,"Zerstört das Objekt.",!1)),n.addMethod(new T("GanzNachVornBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachVornBringen"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),n.addMethod(new T("GanzNachHintenBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachHintenBringen"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),n.addMethod(new T("NachVornBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachVornBringen"))return t.bringOnePlaneFurtherToFront()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach vorne.",!1)),n.addMethod(new T("NachHintenBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachHintenBringen"))return t.bringOnePlaneFurtherToBack()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach hinten.",!1)),n}return t=o,n&&sb(t.prototype,n),i&&sb(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function hb(e){return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function yb(e,t){return(yb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gb(e);if(t){var r=gb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return mb(this,n)}}function mb(e,t){if(t&&("object"===hb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gb(e){return(gb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yb(e,t)}(o,e);var t,n,i,r=vb(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Aktionsempfaenger",e,"GNG: Interface für die Aktionsausführung")).addMethod(new T("Ausführen",new x([]),Rt,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),t.addMethod(new T("Taste",new x([{identifier:"taste",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedrückt wird.")),t.addMethod(new T("SonderTaste",new x([{identifier:"taste",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedrückt wird.")),t.addMethod(new T("Geklickt",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedrückt wird.")),t}return t=o,n&&pb(t.prototype,n),i&&pb(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(te);function wb(e){return(wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Sb(e,t){return(Sb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Tb(e);if(t){var r=Tb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&("object"===wb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tb(e){return(Tb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sb(e,t)}(o,e);var t,n,i,r=Pb(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"Dreieck",e,"Dreieck-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)")).setBaseClass(e.typeStore.getType("GNGBaseFigur")),n.addAttribute(new j("breite",Bt,(function(e){var t=e.object.intrinsicData.Breite;e.value=Math.round(t)}),!1,_.protected,!1,"Breite des Dreiecks")),n.addAttribute(new j("höhe",Bt,(function(e){var t=e.object.intrinsicData["Höhe"];e.value=Math.round(t)}),!1,_.protected,!1,"Höhe des Dreiecks")),n.setupAttributeIndicesRecursive(),n.addMethod(new T("Dreieck",new x([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new Rh([60,10,110,110,10,110],!0,e.main.getInterpreter(),n);n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:60,y:10},i.centerXInitial=60,i.centerYInitial=60,n.intrinsicData.Breite=100,n.intrinsicData["Höhe"]=100,n.intrinsicData.Farbe="rot",i.setFillColor(16711680)}),!1,!1,"Instanziert ein neues Dreieck-Objekt.",!0)),n.addMethod(new T("GrößeSetzen",new x([{identifier:"breite",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"höhe",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value,r=e[2].value;t.intrinsicData.Breite=i,t.intrinsicData["Höhe"]=r,i/=n.scaleFactor,r/=n.scaleFactor,n.testdestroyed("GrößeSetzen")||(n.setAllPointsUntransformed([60,10,60-i/2,10+r,60+i/2,10+r]),n.centerXInitial=60,n.centerYInitial=10+r/2)}),!1,!1,"Setzt die Breite und Höhe des Dreiecks.",!1)),n}return t=o,n&&kb(t.prototype,n),i&&kb(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Mb(e){return(Mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ob(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Cb(e,t){return(Cb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ab(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Db(e);if(t){var r=Db(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Eb(this,n)}}function Eb(e,t){if(t&&("object"===Mb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Db(e){return(Db=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cb(e,t)}(o,e);var t,n,i,r=Ab(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"Kreis",e,"Kreis-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)")).setBaseClass(e.typeStore.getType("GNGBaseFigur")),n.addAttribute(new j("radius",Bt,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.r*t.displayObject.scale.x)}),!1,_.protected,!1,"Radius des Kreises")),n.setupAttributeIndicesRecursive(),n.addMethod(new T("Kreis",new x([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new tf(60,60,50,e.main.getInterpreter(),n);n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:60,y:60},n.intrinsicData.Farbe="rot",i.setFillColor(16711680)}),!1,!1,"Instanziert ein neues Kreis-Objekt.",!0)),n.addMethod(new T("RadiusSetzen",new x([{identifier:"radius",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("radiusSetzen")||t.setRadius(n)}),!1,!1,"Setzt den Radius des Kreis-Objekts.",!1)),n}return t=o,n&&Ob(t.prototype,n),i&&Ob(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function zb(e,t){return(zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Lb(e);if(t){var r=Lb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Bb(this,n)}}function Bb(e,t){if(t&&("object"===Fb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Lb(e){return(Lb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}(o,e);var t,n,i,r=Rb(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=t.getType("Object").type;return(n=r.call(this,"GTurtle",e,"Turtle-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)")).addAttribute(new j("x",Bt,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.lineElements[t.lineElements.length-1].x)}),!1,_.protected,!1,"x-Position der Figur")),n.addAttribute(new j("y",Bt,(function(e){var t=e.object.intrinsicData.Actor;e.value=Math.round(t.lineElements[t.lineElements.length-1].y)}),!1,_.protected,!1,"x-Position der Figur")),n.addAttribute(new j("winkel",Bt,(function(e){e.value=e.object.intrinsicData.Actor.turtleAngleDeg}),!1,_.protected,!1,"Blickrichtung der Figur in Grad")),n.addAttribute(new j("größe",Bt,(function(e){e.value=Math.round(100*e.object.intrinsicData.Actor.scaleFactor)}),!1,_.protected,!1,"Größe der Figur (100 entspricht 'normalgroß')")),n.addAttribute(new j("sichtbar",Gt,(function(e){var t;e.value=null===(t=e.object.intrinsicData.Actor.displayObject)||void 0===t?void 0:t.visible}),!1,_.protected,!1,"true, wenn die Figur sichtbar ist")),n.addAttribute(new j("stiftUnten",Gt,(function(e){e.value=e.object.intrinsicData.Actor.penIsDown}),!1,_.protected,!1,"true, wenn die Turtle beim Gehen zeichnet")),n.setupAttributeIndicesRecursive(),n.addMethod(new T("GTurtle",new x([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new Dg(100,200,!0,e.main.getInterpreter(),n);i.borderWidth=1,i.setShowTurtle(!0),i.setBorderColor(0),n.intrinsicData.Actor=i,n.intrinsicData.moveAnchor={x:10,y:10},$g.getHelper(e).registerEvents(n)}),!1,!1,"Instanziert ein neues Turtle-Objekt.",!0)),n.addMethod(new T("GrößeSetzen",new x([{identifier:"größe",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("größeSetzen")||(t.turtleSize=n,t.turn(0))}),!1,!1,"Setzt die Größe des Turtle-Dreiecks.",!1)),n.addMethod(new T("FarbeSetzen",new x([{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=ob[n.toLocaleLowerCase()];null==i&&(i=0),t.testdestroyed("FarbeSetzen")||(t.setBorderColor(i),t.render())}),!1,!1,"Setzt die Zeichenfarbe der Turtle.",!1)),n.addMethod(new T("Drehen",new x([{identifier:"grad",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("Drehen")||t.turn(n)}),!1,!1,"Dreht die Turtle um den angegebenen Winkel. Positiver Winkel bedeutet Drehung gegen den Uhrzeigersinn.",!1)),n.addMethod(new T("Gehen",new x([{identifier:"länge",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("Gehen")||t.forward(n)}),!1,!1,"Bewirkt, dass die Turtle um die angegebene Länge nach vorwärts geht.",!1)),n.addMethod(new T("StiftHeben",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("StiftHeben")||(t.penIsDown=!1)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt nicht mehr zeichnet.",!1)),n.addMethod(new T("StiftSenken",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("StiftSenken")||(t.penIsDown=!0)}),!1,!1,"Bewirkt, dass die Turtle beim Gehen ab jetzt wieder zeichnet.",!1)),n.addMethod(new T("Löschen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("Löschen")||t.clear(100,200,0)}),!1,!1,"Löscht alles von der Turtle gezeichnete und versetzt die Turtle in den Ausgangszustand.",!1)),n.addMethod(new T("PositionSetzen",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value,i=e[2].value;t.testdestroyed("PositionSetzen")||t.moveTo(n,i)}),!1,!1,"Verschiebt die Turtle an die Position (x, y) ohne eine neue Linie zu zeichnen.",!1)),n.addMethod(new T("ZumStartpunktGehen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("ZumStartpunktGehen")||t.moveTo(100,200)}),!1,!1,"Verschiebt die Turtle an die Position (100, 200) ohne eine neue Linie zu zeichnen.",!1)),n.addMethod(new T("WinkelSetzen",new x([{identifier:"winkel",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("WinkelSetzen")||t.turn(n+t.turtleAngleDeg)}),!1,!1,"Setzt den Blickwinkel der Turtle. 0° => nach rechts, 90°: => nach oben, usw..",!1)),n.addMethod(new T("WinkelGeben",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("WinkelGeben"))return Math.round(-t.turtleAngleDeg)}),!1,!1,"Gibt den Blickwinkel der Turtle zurück.",!1)),n.addMethod(new T("XPositionGeben",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("XPositionGeben"))return Math.round(t.lineElements[t.lineElements.length-1].x)}),!1,!1,"Gibt x-Position der Turtle zurück.",!1)),n.addMethod(new T("YPositionGeben",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("YPositionGeben"))return Math.round(t.lineElements[t.lineElements.length-1].y)}),!1,!1,"Gibt y-Position der Turtle zurück.",!1)),n.addMethod(new T("SichtbarkeitSetzen",new x([{identifier:"sichtbarkeit",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("SichtbarkeitSetzen")||t.setVisible(n)}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),n.addMethod(new T("Entfernen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("Entfernen")||t.destroy()}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),n.addMethod(new T("GanzNachVornBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachVornBringen"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),n.addMethod(new T("GanzNachHintenBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachHintenBringen"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),n.addMethod(new T("NachVornBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachVornBringen"))return t.bringOnePlaneFurtherToFront()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach vorne.",!1)),n.addMethod(new T("NachHintenBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachHintenBringen"))return t.bringOnePlaneFurtherToBack()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach hinten.",!1)),n.addMethod(new T("Berührt",new x([]),Gt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("Berührt"))return t.touchesAtLeastOneFigure()}),!1,!1,"Gibt genau dann true zurück, wenn sich an der aktuellen Position der Turtle mindestens eine andere Figur befindet.",!1)),n.addMethod(new T("Berührt",new x([{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("Berührt")){var r=ob[n];return null==r&&(r=0),i.touchesColor(r)}}),!1,!1,"Gibt genau dann true zurück, wenn sich an der aktuellen Position der Turtle mindestens eine andere Figur mit der angegebenen Farbe befindet.",!1)),n.addMethod(new T("Berührt",new x([{identifier:"objekt",type:i,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor,r=n.intrinsicData.Actor;return null!=r&&r instanceof yd&&(i.testdestroyed("Berührt")?void 0:i.touchesShape(r))}),!1,!1,"Gibt genau dann true zurück, wenn die übergebene Figur die aktuelle Turtleposition enthält.",!1)),n.addMethod(new T("AktionAusführen",new x([]),Rt,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),n.addMethod(new T("TasteGedrückt",new x([{identifier:"taste",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedrückt wird.")),n.addMethod(new T("SonderTasteGedrückt",new x([{identifier:"taste",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedrückt wird.")),n.addMethod(new T("MausGeklickt",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedrückt wird.")),n}return t=o,n&&_b(t.prototype,n),i&&_b(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Gb(e){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $b(e,t){return($b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Kb(e);if(t){var r=Kb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Vb(this,n)}}function Vb(e,t){if(t&&("object"===Gb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kb(e){return(Kb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$b(e,t)}(o,e);var t,n,i,r=Hb(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"GText",e,"Text-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)")).setBaseClass(e.typeStore.getType("GNGBaseFigur")),n.addAttribute(new j("text",$t,(function(e){var t=e.object.intrinsicData.Actor.text;e.value=t}),!1,_.private,!1,"Angezeigter Text")),n.addAttribute(new j("textgröße",Bt,(function(e){var t=e.object.intrinsicData.Actor.fontsize;e.value=Math.round(t)}),!1,_.private,!1,"Textgröße")),n.setupAttributeIndicesRecursive(),n.addMethod(new T("Text",new x([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=new hy(2,-8,12,"Text",e.main.getInterpreter(),n);n.intrinsicData.moveAnchor={x:6,y:16},i.setFillColor(0),n.intrinsicData.Actor=i}),!1,!1,"Instanziert ein neues Text-Objekt.",!0)),n.addMethod(new T("TextSetzen",new x([{identifier:"text",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("TextSetzen")||t.setText(n)}),!1,!1,"Ändert den Text des Text-Objekts.",!1)),n.addMethod(new T("TextGrößeSetzen",new x([{identifier:"textGröße",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("TextGrößeSetzen")||t.setFontsize(n)}),!1,!1,"Setzt die Schriftgröße des Text-Objekts.",!1)),n.addMethod(new T("TextVergrößern",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("TextVergrößern")){var n=t.fontsize;n+=n<=10?1:n<=40?2:4,t.setFontsize(n)}}),!1,!1,"Vergrößert die Schriftgröße des Text-Objekts.",!1)),n.addMethod(new T("TextVerkleinern",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("TextVerkleinern")){var n=t.fontsize;(n-=n<=10?1:n<=40?2:4)<1&&(n=1),t.setFontsize(n)}}),!1,!1,"Verkleinert die Schriftgröße des Text-Objekts.",!1)),n}return t=o,n&&Nb(t.prototype,n),i&&Nb(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Ub(e){return(Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zb(){return(Zb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=Xb(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function Xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aw(e)););return e}function qb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ew(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tw(e,t,n){return t&&ew(e.prototype,t),n&&ew(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iw(e,t)}function iw(e,t){return(iw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=aw(e);if(t){var r=aw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ow(this,n)}}function ow(e,t){if(t&&("object"===Ub(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function aw(e){return(aw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sw=function(e){nw(n,e);var t=rw(n);function n(e,i){var r;Jb(this,n);var o=i.getType("Object").type;(r=t.call(this,"Figur",e,"Figur-Klasse der Graphics'n Games-Bibliothek (Cornelsen-Verlag)")).setBaseClass(o);var a=i.getType("Polygon").type,s=i.getType("Circle").type,l=i.getType("Ellipse").type,u=i.getType("Rectangle").type;return r.addAttribute(new j("x",Bt,(function(e){e.value=Math.round(e.object.intrinsicData.Center.x)}),!1,_.private,!1,"x-Position der Figur")),r.addAttribute(new j("y",Bt,(function(e){e.value=Math.round(e.object.intrinsicData.Center.y)}),!1,_.private,!1,"y-Position der Figur")),r.addAttribute(new j("winkel",Bt,(function(e){e.value=e.object.intrinsicData.Actor.angle}),!1,_.private,!1,"Blickrichtung der Figur in Grad")),r.addAttribute(new j("größe",Bt,(function(e){e.value=Math.round(100*e.object.intrinsicData.Actor.scaleFactor)}),!1,_.private,!1,"Größe der Figur (100 entspricht 'normalgroß')")),r.addAttribute(new j("sichtbar",Gt,(function(e){var t;e.value=null===(t=e.object.intrinsicData.Actor.displayObject)||void 0===t?void 0:t.visible}),!1,_.private,!1,"true, wenn die Figur sichtbar ist")),r.setupAttributeIndicesRecursive(),r.addMethod(new T("Figur",new x([]),null,(function(t){var n=t[0].value;n.intrinsicData.isGNG=!0;var i=e.main.getInterpreter(),o=$g.getHelper(e),l=new lw(i,n,o);n.intrinsicData.Actor=l;var u={x:100,y:200};n.intrinsicData.Center=u,r.drawInitialTriangle(l,a,s,i,u),n.intrinsicData.isInitialTriangle=!0,l.scale(.4,u.x,u.y),l.displayObject.updateTransform(),o.registerEvents(n)}),!1,!1,"Instanziert ein neues Figur-Objekt.",!0)),r.addMethod(new T("GrößeSetzen",new x([{identifier:"größe",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;if(!n.testdestroyed("GrößeSetzen")){var r=t.intrinsicData.Center,o=i/100;n.scale(o/n.scaleFactor,r.x,r.y),n.displayObject.updateTransform()}}),!1,!1,"Setzt die Größe der Figur.",!1)),r.addMethod(new T("Drehen",new x([{identifier:"grad",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;if(!n.testdestroyed("Drehen")){var r=t.intrinsicData.Center;n.rotate(i,r.x,r.y),n.displayObject.updateTransform()}}),!1,!1,"Dreht die Figur um den angegebenen Winkel. Positiver Winkel bedeutet Drehung gegen den Uhrzeigersinn.",!1)),r.addMethod(new T("Gehen",new x([{identifier:"länge",type:Wt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value;if(!n.testdestroyed("Gehen")){var r=t.intrinsicData.Center,o=n.angle/180*Math.PI,a=i*Math.cos(o),s=i*Math.sin(-o);r.x+=a,r.y+=s,n.move(a,s),n.displayObject.updateTransform()}}),!1,!1,"Bewirkt, dass die Figur um die angegebene Länge 'nach vorne' geht.",!1)),r.addMethod(new T("PositionSetzen",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor,i=e[1].value,r=e[2].value;if(!n.testdestroyed("PositionSetzen")){var o=t.intrinsicData.Center;n.move(i-o.x,r-o.y),n.displayObject.updateTransform(),o.x=i,o.y=r}}),!1,!1,"Verschiebt die Figur an die Position (x, y).",!1)),r.addMethod(new T("ZumStartpunktGehen",new x([]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("ZumStartpunktGehen")){var i=t.intrinsicData.Center;n.move(100-i.x,200-i.y),n.displayObject.updateTransform(),i.x=100,i.y=200}}),!1,!1,"Verschiebt die Figur an die Position (100, 200) ohne eine neue Linie zu zeichnen.",!1)),r.addMethod(new T("WinkelSetzen",new x([{identifier:"winkel",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("WinkelSetzen")||(t.rotate(n-t.angle),t.displayObject.updateTransform())}),!1,!1,"Setzt den Blickwinkel der Figur. 0° => nach rechts (initial), 90°: => nach oben, usw..",!1)),r.addMethod(new T("WinkelGeben",new x([]),Bt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("WinkelGeben"))return t.angle<0&&(t.angle+=360*Math.ceil(t.angle/-360)),t.angle>=360&&(t.angle-=360*Math.floor(t.angle/360)),Math.round(t.angle)}),!1,!1,"Gibt den Blickwinkel der Turtle zurück.",!1)),r.addMethod(new T("XPositionGeben",new x([]),Bt,(function(e){var t=e[0].value;if(!t.intrinsicData.Actor.testdestroyed("XPositionGeben"))return t.intrinsicData.Center.x}),!1,!1,"Gibt x-Position der Turtle zurück.",!1)),r.addMethod(new T("YPositionGeben",new x([]),Bt,(function(e){var t=e[0].value;if(!t.intrinsicData.Actor.testdestroyed("YPositionGeben"))return t.intrinsicData.Center.y}),!1,!1,"Gibt y-Position der Turtle zurück.",!1)),r.addMethod(new T("SichtbarkeitSetzen",new x([{identifier:"sichtbarkeit",type:Gt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value.intrinsicData.Actor,n=e[1].value;t.testdestroyed("SichtbarkeitSetzen")||t.setVisible(n)}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),r.addMethod(new T("Entfernen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;t.testdestroyed("Entfernen")||t.destroy()}),!1,!1,"Schaltet die Sichtbarkeit der Figur ein oder aus.",!1)),r.addMethod(new T("GanzNachVornBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachVornBringen"))return t.bringToFront()}),!1,!1,"Setzt das Grafikobjekt vor alle anderen.",!1)),r.addMethod(new T("GanzNachHintenBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("GanzNachHintenBringen"))return t.sendToBack()}),!1,!1,"Setzt das Grafikobjekt hinter alle anderen.",!1)),r.addMethod(new T("NachVornBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachVornBringen"))return t.bringOnePlaneFurtherToFront()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach vorne.",!1)),r.addMethod(new T("NachHintenBringen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("NachHintenBringen"))return t.bringOnePlaneFurtherToBack()}),!1,!1,"Setzt das Grafikobjekt eine Ebene nach hinten.",!1)),r.addMethod(new T("EigeneFigurLöschen",new x([]),null,(function(e){var t=e[0].value,n=t.intrinsicData.Actor;if(!n.testdestroyed("EigeneFigurLöschen")){n.destroyChildren();var i=t.intrinsicData.Center;r.drawInitialTriangle(n,a,s,r.module.main.getInterpreter(),i),t.intrinsicData.isInitialTriangle=!0}}),!1,!1,"Löscht die hinzugefügten Figuren",!1)),r.addMethod(new T("Berührt",new x([]),Gt,(function(e){var t=e[0].value.intrinsicData.Actor;if(!t.testdestroyed("Berührt")){var n,i=qb(t.worldHelper.shapes);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r!=t&&t.collidesWith(r))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}}),!1,!1,"Gibt genau dann true zurück, wenn die Figur mit einem graphischen Objekt kollidiert.",!1)),r.addMethod(new T("Berührt",new x([{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor;if(!i.testdestroyed("Berührt")){var r=ob[n];null==r&&(r=0);var o,a=qb(i.worldHelper.shapes);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s!=i)if(s instanceof lw){var l,u=qb(s.shapes);try{for(u.s();!(l=u.n()).done;){var c=l.value.intrinsicData.Actor;if(c instanceof Gd&&r==c.fillColor&&i.collidesWith(c))return!0}}catch(e){u.e(e)}finally{u.f()}}else if(s instanceof Gd&&r==s.fillColor&&i.collidesWith(s))return!0}}catch(e){a.e(e)}finally{a.f()}return!1}}),!1,!1,"Gibt genau dann true zurück, wenn die Figur mit einem graphischen Objekt der angegebenen Farbe kollidiert.",!1)),r.addMethod(new T("Berührt",new x([{identifier:"objekt",type:o,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value,i=t.intrinsicData.Actor,r=n.intrinsicData.Actor;return null!=r&&r instanceof yd&&(i.testdestroyed("Berührt")?void 0:i.collidesWith(r))}),!1,!1,"Gibt genau dann true zurück, wenn die Figur mit dem übergebenen graphischen Objekt kollidiert.",!1)),r.addMethod(new T("FigurteilFestlegenDreieck",new x([{identifier:"x1",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y1",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x2",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y2",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"x3",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y3",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,o=e[3].value,s=e[4].value,l=e[5].value,u=e[6].value,c=e[7].value,d=t.intrinsicData.Actor;if(!d.testdestroyed("FigurteilFestlegenDreieck")){t.intrinsicData.isInitialTriangle&&(t.intrinsicData.isInitialTriangle=!1,d.destroyChildren());var f=ob[c];null==f&&(f=0);var h=new E(a),p=new Rh([n,i,o,s,l,u],!0,r.module.main.getInterpreter(),h);h.intrinsicData.Actor=p;var y=t.intrinsicData.Center;p.rotate(d.angle,0,0),p.scale(d.scaleFactor,0,0),p.move(y.x,y.y),p.setFillColor(f),p.setBorderColor("black"),p.setBorderWidth(2),d.add(h)}}),!1,!1,"Erzeugt ein neues, dreieckiges Element einer eigenen Darstellung der Figur.",!1)),r.addMethod(new T("FigurteilFestlegenRechteck",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"breite",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"höhe",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,o=e[3].value,a=e[4].value,s=e[5].value,l=t.intrinsicData.Actor;if(!l.testdestroyed("FigurteilFestlegenRechteck")){t.intrinsicData.isInitialTriangle&&(t.intrinsicData.isInitialTriangle=!1,l.destroyChildren());var c=ob[s];null==c&&(c=0);var d=new E(u),f=new Zh(n+.05,i+.05,o-.1,a-.1,r.module.main.getInterpreter(),d);d.intrinsicData.Actor=f;var h=t.intrinsicData.Center;f.rotate(l.angle,0,0),f.scale(l.scaleFactor,0,0),f.move(h.x,h.y),f.setFillColor(c),f.setBorderColor("black"),f.setBorderWidth(2),l.add(d)}}),!1,!1,"Erzeugt ein neues, rechteckiges Element einer eigenen Darstellung der Figur.",!1)),r.addMethod(new T("FigurteilFestlegenEllipse",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"breite",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"höhe",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,o=e[3].value,a=e[4].value,s=e[5].value,u=t.intrinsicData.Actor;if(!u.testdestroyed("FigurteilFestlegenEllipse")){t.intrinsicData.isInitialTriangle&&(t.intrinsicData.isInitialTriangle=!1,u.destroyChildren());var c=ob[s];null==c&&(c=0),a-=.1,o-=.1;var d=new E(l),f=new Yf(n+o/2+.05,i+a/2+.05,o/2,a/2,r.module.main.getInterpreter(),d);d.intrinsicData.Actor=f;var h=t.intrinsicData.Center;f.rotate(u.angle,0,0),f.scale(u.scaleFactor,0,0),f.move(h.x,h.y),f.setFillColor(c),f.setBorderColor("black"),f.setBorderWidth(2),u.add(d)}}),!1,!1,"Erzeugt ein neues, elliptisches Element einer eigenen Darstellung der Figur.",!1)),r.addMethod(new T("AktionAusführen",new x([]),Rt,null,!1,!1,"Diese Methode wird vom Taktgeber aufgerufen.")),r.addMethod(new T("TasteGedrückt",new x([{identifier:"taste",type:Ht,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Taste gedrückt wird.")),r.addMethod(new T("SonderTasteGedrückt",new x([{identifier:"taste",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine Sondertaste gedrückt wird.")),r.addMethod(new T("MausGeklickt",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Rt,null,!1,!1,"Wird aufgerufen, wenn eine die linke Maustaste gedrückt wird.")),r}return tw(n,[{key:"drawInitialTriangle",value:function(e,t,n,i,r){var o=new E(t),a=new Rh([-50,-50,50,0,-50,50],!0,i,o);o.intrinsicData.Actor=a,a.move(r.x,r.y),a.setFillColor("yellow"),a.setBorderColor("black"),a.setBorderWidth(2),e.add(o);var s=new E(n),l=new tf(0,0,10,i,s);s.intrinsicData.Actor=l,l.move(r.x,r.y),l.setFillColor("blue"),l.setBorderColor("black"),l.setBorderWidth(2),e.add(s)}}]),n}(J),lw=function(e){nw(n,e);var t=rw(n);function n(e,i,r){var o;return Jb(this,n),(o=t.call(this,e,i)).gngEreignisbehandlungsHelper=r,o}return tw(n,[{key:"destroy",value:function(){this.gngEreignisbehandlungsHelper.unregisterEvents(this.runtimeObject),Zb(aw(n.prototype),"destroy",this).call(this)}}]),n}(yh);function uw(e){return(uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dw(e,t){return(dw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pw(e);if(t){var r=pw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return hw(this,n)}}function hw(e,t){if(t&&("object"===uw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pw(e){return(pw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dw(e,t)}(o,e);var t,n,i,r=fw(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Random",e,"Zufallszahlengenerator")).setBaseClass(e.typeStore.getType("Object")),t.setupAttributeIndicesRecursive(),t.addMethod(new T("nextInt",new x([{identifier:"bound",type:Bt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Bt,(function(e){e[0].value;var t=e[1].value;return Math.floor(Math.random()*t)}),!1,!1,"Gibt eine ganzzahlige Zufallszahl aus der Menge {0, 1, ..., bound - 1} zurück.",!1)),t.addMethod(new T("randint",new x([{identifier:"from",type:Bt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"to",type:Bt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Bt,(function(e){var t=e[1].value,n=e[2].value;return Math.floor(Math.random()*(n-t+1)+t)}),!1,!0,"Gibt eine ganzzahlige Zufallszahl aus der Menge {from, from + 1, ..., to} zurück.",!1)),t.addMethod(new T("randdouble",new x([{identifier:"from",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1},{identifier:"to",type:Wt,declaration:null,usagePositions:null,isFinal:!0,isEllipsis:!1}]),Wt,(function(e){var t=e[1].value,n=e[2].value;return Math.random()*(n-t)+t}),!1,!0,"Gibt eine Zufallszahl aus dem Intervall [from, to[ zurück.",!1)),t}return t=o,n&&cw(t.prototype,n),i&&cw(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function vw(e){return(vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gw(e,t){return(gw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=kw(e);if(t){var r=kw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ww(this,n)}}function ww(e,t){if(t&&("object"===vw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kw(e){return(kw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}(a,e);var t,n,i,o=bw(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,"Direction",e,[{type:r.pushEnumValue,position:null,identifier:"top"},{type:r.pushEnumValue,position:null,identifier:"right"},{type:r.pushEnumValue,position:null,identifier:"bottom"},{type:r.pushEnumValue,position:null,identifier:"left"}])).documentation="Richtung (oben, rechts, unten, links)",t}return t=a,n&&mw(t.prototype,n),i&&mw(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Fn);function Pw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Tw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xw=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"patch",value:function(t){var n,i=!1,r=Pw(e.patches);try{for(r.s();!(n=r.n()).done;){var o=n.value;null!=t.match(o.old)&&(t=t.replace(o.old,o.new),i=!0)}}catch(e){r.e(e)}finally{r.f()}return{patchedText:t,modified:i}}}],(n=null)&&Tw(t.prototype,n),i&&Tw(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mw(e){return(Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ow(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Cw(e,t){return(Cw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Dw(e);if(t){var r=Dw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ew(this,n)}}function Ew(e,t){if(t&&("object"===Mw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dw(e){return(Dw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}xw.patches=[{old:/SpriteLibrary.Ship_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 0"},{old:/SpriteLibrary.Ship_Adrian,\s*1/g,new:"SpriteLibrary.Space_Shooter_1, 1"},{old:/SpriteLibrary.Ship_Adrian,\s*2/g,new:"SpriteLibrary.Space_Shooter_1, 2"},{old:/SpriteLibrary.Ship_Adrian,\s*3/g,new:"SpriteLibrary.Space_Shooter_1, 3"},{old:/SpriteLibrary.Ship_Adrian,\s*4/g,new:"SpriteLibrary.Space_Shooter_1, 4"},{old:/SpriteLibrary.Schuss_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 5"},{old:/SpriteLibrary.Schuss_Adrian,\s*1/g,new:"SpriteLibrary.Space_Shooter_1, 6"},{old:/SpriteLibrary.Schuss_Adrian,\s*2/g,new:"SpriteLibrary.Space_Shooter_1, 7"},{old:/SpriteLibrary.Schuss_Adrian,\s*3/g,new:"SpriteLibrary.Space_Shooter_1, 8"},{old:/SpriteLibrary.Schuss_Adrian,\s*4/g,new:"SpriteLibrary.Space_Shooter_1, 9"},{old:/SpriteLibrary.Asteroid_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 10"},{old:/SpriteLibrary.Gegner_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 11"},{old:/SpriteLibrary.Explosion_Adrian,\s*0/g,new:"SpriteLibrary.Space_Shooter_1, 12"},{old:/SpriteLibrary.Explosion_Adrian,\s*1/g,new:"SpriteLibrary.Space_Shooter_1, 13"},{old:/SpriteLibrary.Explosion_Adrian,\s*2/g,new:"SpriteLibrary.Space_Shooter_1, 14"},{old:/SpriteLibrary.Explosion_Adrian,\s*3/g,new:"SpriteLibrary.Space_Shooter_1, 15"},{old:/SpriteLibrary.Explosion_Adrian,\s*4/g,new:"SpriteLibrary.Space_Shooter_1, 16"},{old:/SpriteLibrary.Explosion_Adrian,\s*5/g,new:"SpriteLibrary.Space_Shooter_1, 17"},{old:/SpriteLibrary.Explosion_Adrian,\s*6/g,new:"SpriteLibrary.Space_Shooter_1, 18"},{old:/SpriteLibrary.Explosion_Adrian,\s*7/g,new:"SpriteLibrary.Space_Shooter_1, 19"},{old:/SpriteLibrary.Explosion_Adrian,\s*8/g,new:"SpriteLibrary.Space_Shooter_1, 20"},{old:/SpriteLibrary.Explosion_Adrian,\s*9/g,new:"SpriteLibrary.Space_Shooter_1, 21"},{old:/SpriteLibrary.Explosion_Adrian,\s*10/g,new:"SpriteLibrary.Space_Shooter_1, 22"},{old:/SpriteLibrary.Explosion_Adrian,\s*11/g,new:"SpriteLibrary.Space_Shooter_1, 23"}];var Iw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}(o,e);var t,n,i,r=Aw(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,"KeyEvent",e,"Nachbildung von java.awt.event.KeyEvent")).setBaseClass(t.getType("Object").type);for(var i=[{name:"VK_ENTER",code:13},{name:"VK_LEFT",code:37},{name:"VK_UP",code:38},{name:"VK_RIGHT",code:39},{name:"VK_DOWN",code:40},{name:"VK_PAGE_UP",code:33},{name:"VK_PAGE_DOWN",code:34},{name:"VK_INSERT",code:155}],a=1;a<=12;a++)i.push({name:"VK"+a,code:111+a});for(var s=function(){var e=u[l];n.addAttribute(new j(e.name,Bt,(function(t){t.value=e.code}),!0,_.public,!0,"KeyCode für die Taste "+e.name))},l=0,u=i;l<u.length;l++)s();return n.setupAttributeIndicesRecursive(),n.staticClass.setupAttributeIndicesRecursive(),n.staticClass.classObject=new E(n.staticClass),n}return t=o,n&&Ow(t.prototype,n),i&&Ow(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(J);function Fw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"createCube3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pixi3d.StandardMaterial;return new Pixi3d.Mesh3D(this.createCube3dMesh(),e)}},{key:"createCube3dMesh",value:function(){return Object.assign(new Pixi3d.MeshGeometry3D,{positions:{buffer:new Float32Array([-1,1,1,-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,-1,-1,-1,-1,1,1,-1,1,1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,-1,1,-1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,1,1,-1,-1,1,-1,1,1,1])},indices:{buffer:new Uint8Array([0,1,2,0,3,1,4,5,6,4,7,5,8,9,10,8,11,9,12,13,14,12,15,13,16,17,18,16,19,17,20,21,22,20,23,21])},normals:{buffer:new Float32Array([-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0])},uvs:[{buffer:new Float32Array([.66666,0,.33333,1,.66666,1,.33333,0,.66666,0,.33333,1,.66666,1,.33333,0,.66666,0,.33333,1,.66666,1,.33333,0,.66666,0,.33333,1,.66666,1,.33333,0,0,0,.33333,.25,.33333,0,0,.25,.66666,0,1,1,1,0,.66666,1])}],tangents:{buffer:new Float32Array([0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1])}})}},{key:"createHalfheightCube3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pixi3d.StandardMaterial;return new Pixi3d.Mesh3D(this.createHalfheightCube3dMesh(),e)}},{key:"createHalfheightCube3dMesh",value:function(){return Object.assign(new Pixi3d.MeshGeometry3D,{positions:{buffer:new Float32Array([-1,1,1,-1,0,-1,-1,0,1,-1,1,-1,-1,1,-1,1,0,-1,-1,0,-1,1,1,-1,1,1,-1,1,0,1,1,0,-1,1,1,1,1,1,1,-1,0,1,1,0,1,-1,1,1,1,0,1,-1,0,-1,1,0,-1,-1,0,1,-1,1,1,1,1,-1,-1,1,-1,1,1,1])},indices:{buffer:new Uint8Array([0,1,2,0,3,1,4,5,6,4,7,5,8,9,10,8,11,9,12,13,14,12,15,13,16,17,18,16,19,17,20,21,22,20,23,21])},normals:{buffer:new Float32Array([-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0])},uvs:[{buffer:new Float32Array([.66666,0,.33333,.5,.66666,.5,.33333,0,.66666,0,.33333,.5,.66666,.5,.33333,0,.66666,0,.33333,.5,.66666,.5,.33333,0,.66666,0,.33333,.5,.66666,.5,.33333,0,0,0,.33333,.25,.33333,0,0,.25,.66666,0,1,1,1,0,.66666,1])}],tangents:{buffer:new Float32Array([0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1])}})}},{key:"createPlane3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Pixi3d.StandardMaterial;return new Pixi3d.Mesh3D(this.createPlane3dMesh(e,t),n)}},{key:"createPlane3dMesh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object.assign(new Pixi3d.MeshGeometry3D,{positions:{buffer:new Float32Array([-1,0,1,1,0,-1,-1,0,-1,1,0,1])},indices:{buffer:new Uint8Array([0,1,2,0,3,1])},normals:{buffer:new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0])},uvs:[{buffer:new Float32Array([0,t,e,0,0,0,e,t])}]})}}],(n=null)&&Fw(t.prototype,n),i&&Fw(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zw(e){return(zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Bw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Bw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Lw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ww(e,t,n){return t&&Lw(e.prototype,t),n&&Lw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}function $w(e,t){return($w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Kw(e);if(t){var r=Kw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Vw(this,n)}}function Vw(e,t){if(t&&("object"===zw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kw(e){return(Kw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qw(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=PIXI.Loader.shared.resources.spritesheet.spritesheet,r=i.textures[e];if(t){var o=new PIXI.Sprite(r),a=PIXI.RenderTexture.create({width:o.width,height:o.height,scaleMode:PIXI.SCALE_MODES.NEAREST,wrapMode:PIXI.WRAP_MODES.REPEAT});return n.render(o,{renderTexture:a}),new Pixi3d.StandardMaterialTexture(a.baseTexture)}var s=new Pixi3d.StandardMaterialTexture(r.baseTexture);return s.transform=new Pixi3d.TextureTransform,s.transform.offset.set((r.frame.x+0)/r.baseTexture.width,(r.frame.y+0)/r.baseTexture.height),s.transform.scale.set(r.frame.width/r.baseTexture.width,r.frame.height/r.baseTexture.height),s}var Uw=function(e){Nw(n,Pixi3d.Mesh3D);var t=Hw(n);function n(e,i,r){var o;return Gw(this,n),(o=t.call(this,e,i)).farbe=r,o}return Ww(n)}(),Zw=function(e){Nw(n,Pixi3d.Mesh3D);var t=Hw(n);function n(e,i,r){var o;return Gw(this,n),(o=t.call(this,e,i)).farbe=r,o}return Ww(n)}(),Xw=function(){function e(t,n){Gw(this,e),this.worldHelper=t,this.camera=n,this.farben=["rot","gelb","grün","blau"],this.farbeToColorInfoMap={rot:[1,0,0],gelb:[1,1,0],"grün":[0,1,0],blau:[0,0,1]},this.farbeToMarkerMaterialMap={},this.farbeToBrickMaterialMap={},this.planeMaterial={};var i=t.app.renderer;this.light1=Object.assign(new Pixi3d.Light,{type:Pixi3d.LightType.ambient,range:100,intensity:30,color:new Pixi3d.Color(1,1,1)}),this.light1.position.set(-4,4,4),this.light2=Object.assign(new Pixi3d.Light,{type:Pixi3d.LightType.directional,range:600,intensity:4,color:new Pixi3d.Color(1,1,1)}),this.light2.position.set(12,16,-12),this.light2.rotationQuaternion.setEulerAngles(25,45,0),this.lightingEnvironment=new Pixi3d.LightingEnvironment(t.app.renderer),this.lightingEnvironment.lights.push(this.light1,this.light2),this.grassBrickMaterial=new Pixi3d.StandardMaterial,this.initMaterial(this.grassBrickMaterial),this.grassBrickMaterial.baseColorTexture=Qw("robot#0"),this.cloudMaterial=new Pixi3d.StandardMaterial,this.initMaterial(this.cloudMaterial),this.cloudMaterial.baseColor=new Pixi3d.Color(1,1,1,.5),this.groundPlaneMaterial=new Pixi3d.StandardMaterial,this.initMaterial(this.groundPlaneMaterial),this.groundPlaneMaterial.baseColorTexture=Qw("robot#2",!0,i);var r,o=Rw(this.farben);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=new Pixi3d.StandardMaterial;this.initMaterial(s);var l=this.farbeToColorInfoMap[a];s.baseColor=new Pixi3d.Color(l[0],l[1],l[2],1),this.farbeToMarkerMaterialMap[a]=s;var u=new Pixi3d.StandardMaterial;this.initMaterial(u);var c=this.farben.indexOf(a)+4;u.baseColorTexture=Qw("robot#"+c),this.farbeToBrickMaterialMap[a]=u}}catch(e){o.e(e)}finally{o.f()}}return Ww(e,[{key:"getBrick",value:function(e){return new Zw(_w.createHalfheightCube3dMesh(),this.farbeToBrickMaterialMap[e],e)}},{key:"getGrassBrick",value:function(){return new Pixi3d.Mesh3D(_w.createCube3dMesh(),this.grassBrickMaterial)}},{key:"getGrassPlane",value:function(e,t){var n=new Pixi3d.Mesh3D(_w.createPlane3dMesh(e,t),this.groundPlaneMaterial);return n.scale.x=e,n.scale.z=t,n.x+=e-1,n.z+=t-1,n}},{key:"makePlane",value:function(e,t,n,i,r,o,a){var s;"string"==typeof a?s=this.getPlaneMaterial(a):(s=new Pixi3d.StandardMaterial,this.initMaterial(s),s.baseColor=a);var l=new Pixi3d.Mesh3D(_w.createPlane3dMesh(r,o),s);l.y=n,l.x=t,l.z=i,l.scale.set(r,1,o),e.addChild(l)}},{key:"getMarker",value:function(e){var t=new Uw(_w.createCube3dMesh(),this.farbeToMarkerMaterialMap[e],e);return t.scale.set(.9,.1,.9),t}},{key:"getSidePlanes",value:function(e,t,n,i,r){var o=[],a=this.getPlaneMaterial(n),s=new Pixi3d.Mesh3D(_w.createPlane3dMesh(e,1),a);s.scale.x=e+2*i,s.x+=e-1,s.y-=1+2*r,s.z-=1+2*i,s.rotationQuaternion.setEulerAngles(-90,0,180),o.push(s);var l=new Pixi3d.Mesh3D(_w.createPlane3dMesh(e,1),a);l.scale.x=e+2*i,l.x+=e-1,l.y-=1+2*r,l.z+=2*t-1+2*i,l.rotationQuaternion.setEulerAngles(90,0,0),o.push(l);var u=new Pixi3d.Mesh3D(_w.createPlane3dMesh(t,1),a);u.scale.x=t+2*i,u.y-=1+2*r,u.x-=1+2*i,u.z+=t-1,u.rotationQuaternion.setEulerAngles(90,-90,0),o.push(u);var c=new Pixi3d.Mesh3D(_w.createPlane3dMesh(t,1),a);return c.scale.x=t+2*i,c.y-=1+2*r,c.x+=2*e-1+2*i,c.z+=t-1,c.rotationQuaternion.setEulerAngles(90,90,0),o.push(c),o}},{key:"getHorizontalPlanes",value:function(e,t,n,i,r){var o=[],a=this.getPlaneMaterial(n),s=new Pixi3d.Mesh3D(_w.createPlane3dMesh(t,1),a);s.scale.x=e+2*i,s.x+=e-1,s.y-=2+2*r,s.z-=2+2*i,s.rotationQuaternion.setEulerAngles(180,0,180),o.push(s);var l=new Pixi3d.Mesh3D(_w.createPlane3dMesh(e,1),a);l.scale.x=e+2*i,l.x+=e-1,l.y-=2+2*r,l.z+=2*t+2*i,l.rotationQuaternion.setEulerAngles(0,0,0),o.push(l);var u=new Pixi3d.Mesh3D(_w.createPlane3dMesh(t,1),a);u.scale.x=t+2*i+2,u.y-=2+2*r,u.x-=2+2*i,u.z+=t-1,u.rotationQuaternion.setEulerAngles(0,-90,0),o.push(u);var c=new Pixi3d.Mesh3D(_w.createPlane3dMesh(t,1),a);return c.scale.x=t+2*i+2,c.y-=2+2*r,c.x+=2*e+2*i,c.z+=t-1,c.rotationQuaternion.setEulerAngles(0,90,0),o.push(c),o}},{key:"makeClouds",value:function(e,t,n,i){var r=this,o=200;!function a(){if(!(o<=0)){for(var s=0;s<20;s++){o--;for(var l=1500*Math.sqrt(Math.random()),u=2*Math.random()*Math.PI,c=Math.floor(l*Math.cos(u))+n,d=Math.floor(l*Math.sin(u))+i,f=10*Math.random()+2,h=0;h<f;h++){var p=_w.createCube3d(r.cloudMaterial),y=Math.floor(20*Math.random()+2),v=Math.floor(20*Math.random()/4+2),m=Math.floor(20*Math.random()+2),g=Math.floor(3*Math.random()*(5+f+y)),b=Math.floor(3*Math.random()*(5+f+m));p.x=c+g,p.z=d+b,p.y=t+v/2,p.scale.set(y,v,m),e.addChild(p)}}setTimeout(a,100)}}()}},{key:"initMaterial",value:function(e){e.camera=this.camera,e.exposure=1,e.roughness=.9,e.lightingEnvironment=this.lightingEnvironment}},{key:"getPlaneMaterial",value:function(e){var t=this.worldHelper.app.renderer;if(null!=this.planeMaterial[e])return this.planeMaterial[e];var n=new Pixi3d.StandardMaterial;return this.initMaterial(n),n.baseColorTexture=Qw(e,!0,t),this.planeMaterial[e]=n,n}}]),e}();function qw(e){return(qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ek(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tk(e,t,n){return t&&ek(e.prototype,t),n&&ek(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ik(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}function rk(e,t){return(rk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ok(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sk(e);if(t){var r=sk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ak(this,n)}}function ak(e,t){if(t&&("object"===qw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sk(e){return(sk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lk=function(e){ik(n,e);var t=ok(n);function n(e){var i;nk(this,n),(i=t.call(this,"Robot",e,"Robot Karol")).setBaseClass(e.typeStore.getType("Object"));var r=e.typeStore.getType("RobotWorld");i.addMethod(new T("Robot",new x([]),null,(function(t){var n=t[0].value,i=new fk(e.main.getInterpreter(),n,1,1,5,8);n.intrinsicData.Robot=i}),!1,!1,"Instanziert ein neues Robot-Objekt. Der Roboter steht anfangs an der Stelle (1/1)",!0)),i.addMethod(new T("Robot",new x([{identifier:"startX",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"startY",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=new fk(e.main.getInterpreter(),n,i,r,5,10);n.intrinsicData.Robot=o}),!1,!1,"Instanziert ein neues Robot-Objekt. Der Roboter wird anfangs an die Stelle (startX/startY) gesetzt.",!0)),i.addMethod(new T("Robot",new x([{identifier:"startX",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"startY",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"worldX",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"worldY",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=t[4].value,s=new fk(e.main.getInterpreter(),n,i,r,o,a);n.intrinsicData.Robot=s}),!1,!1,"Instanziert ein neues Robot-Objekt. Der Roboter wird anfangs an die Stelle (startX/startY) gesetzt. Wenn die RobotWorld noch nicht instanziert ist, wird sie mit der Größe worldX * worldY neu erstellt.",!0)),i.addMethod(new T("Robot",new x([{identifier:"startX",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"startY",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"initialeWelt",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=t[3].value,a=new fk(e.main.getInterpreter(),n,i,r,0,0,o);n.intrinsicData.Robot=a}),!1,!1,"Instanziert ein neues Robot-Objekt. Der Roboter wird anfangs an die Stelle (startX/startY) gesetzt. Wenn die RobotWorld noch nicht instanziert ist, wird sie auf Grundlage des Strings initialeWelt erstellt.",!0)),i.addMethod(new T("getWelt",new x([]),r,(function(e){return e[0].value.intrinsicData.Robot.robotWorldHelper.runtimeObject}),!1,!1,"Gibt das RobotWorld-Objekt zurück",!1)),i.addMethod(new T("rechtsDrehen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Robot;t.direction.turnRight(),t.adjustAngle()}),!1,!1,"Dreht den Roboter um 90° nach rechts.",!1)),i.addMethod(new T("linksDrehen",new x([]),null,(function(e){var t=e[0].value.intrinsicData.Robot;t.direction.turnLeft(),t.adjustAngle()}),!1,!1,"Dreht den Roboter um 90° nach links.",!1)),i.addMethod(new T("schritt",new x([]),null,(function(e){e[0].value.intrinsicData.Robot.schritt()}),!1,!1,"Lässt den Roboter einen Schritt nach vorne gehen.",!1)),i.addMethod(new T("schritt",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){for(var t=e[0].value,n=e[1].value,i=t.intrinsicData.Robot,r=0;r<n&&i.schritt();r++);}),!1,!1,"Lässt den Roboter Anzahl Schritte nach vorne gehen.",!1)),i.addMethod(new T("hinlegen",new x([]),null,(function(e){e[0].value.intrinsicData.Robot.hinlegen("rot")}),!1,!1,"Lässt den Roboter einen roten Ziegel vor sich hinlegen.",!1)),i.addMethod(new T("markeLöschen",new x([]),null,(function(e){e[0].value.intrinsicData.Robot.markeLöschen()}),!1,!1,"Lässt den Roboter eine Marke, die direkt unter ihm liegt, löschen.",!1)),i.addMethod(new T("markeSetzen",new x([]),null,(function(e){e[0].value.intrinsicData.Robot.markeSetzen("gelb")}),!1,!1,"Lässt den Roboter eine gelbe Marke direkt unter sich setzen.",!1)),i.addMethod(new T("markeSetzen",new x([{identifier:"Farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Robot.markeSetzen(n)}),!1,!1,"Lässt den Roboter eine Marke der angegebenen Farbe direkt unter sich setzen.",!1)),i.addMethod(new T("hinlegen",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){for(var t=e[0].value,n=e[1].value,i=t.intrinsicData.Robot,r=0;r<n&&i.hinlegen("rot");r++);}),!1,!1,"Lässt den Roboter Anzahl rote Ziegel vor sich hinlegen.",!1)),i.addMethod(new T("hinlegen",new x([{identifier:"Farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value;t.intrinsicData.Robot.hinlegen(n)}),!1,!1,"Lässt den Roboter einen Ziegel der angegebenen Farbe vor sich hinlegen.",!1)),i.addMethod(new T("aufheben",new x([]),null,(function(e){e[0].value.intrinsicData.Robot.aufheben()}),!1,!1,"Lässt den Roboter einen roten Ziegel vor sich aufheben.",!1)),i.addMethod(new T("aufheben",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){for(var t=e[0].value,n=e[1].value,i=t.intrinsicData.Robot,r=0;r<n&&i.aufheben();r++);}),!1,!1,"Lässt den Roboter Anzahl rote Ziegel vor sich aufheben.",!1)),i.addMethod(new T("warten",new x([{identifier:"ZeitInMillisekunden",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){}),!1,!1,"Pausiert das Programm für die angegebene Zeit in ms.")),i.addMethod(new T("langsam",new x([]),null,(function(t){e.main.getInterpreter().controlButtons.speedControl.setSpeedInStepsPerSecond(5)}),!1,!1,"Setzt die Ausführungsgeschwindigkeit auf 5 Programmschritte/Sekunde.")),i.addMethod(new T("schnell",new x([]),null,(function(t){e.main.getInterpreter().controlButtons.speedControl.setSpeedInStepsPerSecond("max")}),!1,!1,"Setzt die Ausführungsgeschwindigkeit auf 'maximal'.")),i.addMethod(new T("beenden",new x([]),null,(function(t){var n,i=null===(n=e.main.getBottomDiv())||void 0===n?void 0:n.console;null!=i&&(i.writeConsoleEntry("Das Programm wurde durch einen Roboter angehalten.",null,"#0000ff"),i.showTab()),e.main.getInterpreter().stop()}),!1,!1,"Beendet das Programm.")),i.addMethod(new T("istWand",new x([]),Gt,(function(e){return e[0].value.intrinsicData.Robot.istWand()}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter direkt vor einer Wand steht.")),i.addMethod(new T("nichtIstWand",new x([]),Gt,(function(e){return!e[0].value.intrinsicData.Robot.istWand()}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter nicht direkt vor einer Wand steht.")),i.addMethod(new T("istZiegel",new x([]),Gt,(function(e){return e[0].value.intrinsicData.Robot.istZiegel(null)}),!1,!1,"Gibt genau dann true zurück, wenn direkt vor dem Roboter mindestens ein Ziegel liegt.")),i.addMethod(new T("istZiegel",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Robot.istZiegel(n)}),!1,!1,"Gibt genau dann true zurück, wenn direkt vor dem Roboter genau Anzahl Ziegel liegen.")),i.addMethod(new T("istZiegel",new x([{identifier:"Farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Robot.istZiegel(n)}),!1,!1,"Gibt genau dann true zurück, wenn auf dem Ziegelstapel direkt vor dem Roboter mindestens ein Ziegel mit der angegebenen Farbe liegt.")),i.addMethod(new T("nichtIstZiegel",new x([]),Gt,(function(e){return!e[0].value.intrinsicData.Robot.istZiegel(null)}),!1,!1,"Gibt genau dann true zurück, wenn direkt vor dem Roboter kein Ziegel liegt.")),i.addMethod(new T("nichtIstZiegel",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return!t.intrinsicData.Robot.istZiegel(n)}),!1,!1,"Gibt genau dann true zurück, wenn direkt vor dem Roboter nicht genau Anzahl Ziegel liegen.")),i.addMethod(new T("nichtIstZiegel",new x([{identifier:"Farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return!t.intrinsicData.Robot.istZiegel(n)}),!1,!1,"Gibt genau dann true zurück, wenn auf dem Ziegelstapel direkt vor dem Roboter kein Ziegel mit der angegebenen Farbe liegt.")),i.addMethod(new T("istMarke",new x([{identifier:"Farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Robot.istMarke(n)}),!1,!1,"Gibt genau dann true zurück, wenn unter dem Roboter eine Marke in der angegebenen Farbe liegt.")),i.addMethod(new T("istMarke",new x([]),Gt,(function(e){var t=e[0].value;e[1].value;return t.intrinsicData.Robot.istMarke(null)}),!1,!1,"Gibt genau dann true zurück, wenn unter dem Roboter eine Marke (egal in welcher Farbe) liegt.")),i.addMethod(new T("nichtIstMarke",new x([{identifier:"Farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return!t.intrinsicData.Robot.istMarke(n)}),!1,!1,"Gibt genau dann true zurück, wenn unter dem Roboter keine Marke in der angegebenen Farbe liegt.")),i.addMethod(new T("nichtIstMarke",new x([]),Gt,(function(e){return!e[0].value.intrinsicData.Robot.istMarke(null)}),!1,!1,"Gibt genau dann true zurück, wenn unter dem Roboter keine Marke (egal in welcher Farbe) liegt."));for(var o=["Norden","Osten","Süden","Westen"],a=function(e){var t=o[e];i.addMethod(new T("ist"+t,new x([]),Gt,(function(t){return t[0].value.intrinsicData.Robot.direction.index==e}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter nach "+t+" blickt."))},s=0;s<4;s++)a(s);return i.addMethod(new T("istLeer",new x([]),Gt,(function(e){return 0==e[0].value.intrinsicData.Robot.hatSteine}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter keinen Stein mit sich trägt.")),i.addMethod(new T("istVoll",new x([]),Gt,(function(e){var t=e[0].value.intrinsicData.Robot;return t.hatSteine==t.maxSteine}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter die maximale Anzahl von Steinen mit sich trägt.")),i.addMethod(new T("nichtIstLeer",new x([]),Gt,(function(e){return e[0].value.intrinsicData.Robot.hatSteine>0}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter mindestens einen Stein mit sich trägt.")),i.addMethod(new T("hatZiegel",new x([]),Gt,(function(e){return e[0].value.intrinsicData.Robot.hatSteine>0}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter mindestens einen Stein mit sich trägt.")),i.addMethod(new T("hatZiegel",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Robot.hatSteine>=n}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter mindestens Anzahl Steine mit sich trägt.")),i.addMethod(new T("nichtIstVoll",new x([]),Gt,(function(e){var t=e[0].value.intrinsicData.Robot;return t.hatSteine<t.maxSteine}),!1,!1,"Gibt genau dann true zurück, wenn der Roboter weniger als die maximale Anzahl von Steinen mit sich trägt.")),i.addMethod(new T("setzeAnzahlSteine",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Robot.hatSteine=n}),!1,!1,"Befüllt den Rucksack des Roboters mit genau Anzahl Steinen.")),i.addMethod(new T("setzeRucksackgröße",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.Robot.maxSteine=n}),!1,!1,"Gibt dem Roboter einen Rucksack, der maximal Anzahl Steine fasst.")),i}return tk(n)}(J),uk=function(e){ik(n,e);var t=ok(n);function n(e){var i;return nk(this,n),(i=t.call(this,"RobotWorld",e,"Welt für Robot Karol")).setBaseClass(e.typeStore.getType("Object")),i.addMethod(new T("RobotWorld",new x([{identifier:"worldX",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"worldY",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=t[2].value,o=e.main.getInterpreter(),a=new ck(o,n,i,r,null);n.intrinsicData.RobotWorldHelper=a}),!1,!1,"Instanziert eine neue Robot-Welt",!0)),i.addMethod(new T("RobotWorld",new x([{identifier:"initialeWelt",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(t){var n=t[0].value,i=t[1].value,r=e.main.getInterpreter(),o=new ck(r,n,0,0,i);n.intrinsicData.RobotWorldHelper=o}),!1,!1,"Instanziert eine neue Robot-Welt.",!0)),i.addMethod(new T("setzeMaximalhöhe",new x([{identifier:"Anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),Gt,(function(e){var t=e[0].value,n=e[1].value;return t.intrinsicData.RobotWorldHelper.maximumHeight=n}),!1,!1,"Ändert die maximale Höhe der Ziegelstapel.")),i.addMethod(new T("setzeZiegel",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0},{identifier:"anzahl",type:Bt,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=e[4].value,a=t.intrinsicData.RobotWorldHelper;if(n<1||n>a.worldX||i<1||i>a.worldY)a.interpreter.throwException("Die Position (".concat(n,"/").concat(i,") ist außerhalb der Weltgrenzen."));else for(var s=0;s<o;s++)a.addBrick(n-1,i-1,r)}),!1,!1,"Setzt Anzahl Ziegel an der angegebenen Position mit der angegebenen Farbe. Die x- und y-Koordinaten beginnen bei 1.")),i.addMethod(new T("setzeMarke",new x([{identifier:"x",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"y",type:Bt,declaration:null,usagePositions:null,isFinal:!0},{identifier:"farbe",type:$t,declaration:null,usagePositions:null,isFinal:!0}]),null,(function(e){var t=e[0].value,n=e[1].value,i=e[2].value,r=e[3].value,o=t.intrinsicData.RobotWorldHelper;n<1||n>o.worldX||i<1||i>o.worldY?o.interpreter.throwException("Die Position (".concat(n,"/").concat(i,") ist außerhalb der Weltgrenzen.")):o.setMarker(n-1,i-1,r)}),!1,!1,"Setzt einen Marker an der angegebenen Position mit der angegebenen Farbe. Die x- und y-Koordinaten beginnen bei 1.")),i}return tk(n)}(J),ck=function(){function e(t,n,i,r,o){nk(this,e),this.interpreter=t,this.runtimeObject=n,this.worldX=i,this.worldY=r,this.markers=[],this.bricks=[],this.maximumHeight=15,this.robots=[],this.fetchWorld(t),null==this.worldHelper.robotWorldHelper?(this.worldHelper.robotWorldHelper=this,this.camera=new Pixi3d.Camera(this.worldHelper.app.renderer),this.robotCubeFactory=new Xw(this.worldHelper,this.camera),this.markers=[],this.bricks=[],this.container3D=new Pixi3d.Container3D,this.displayObject=this.container3D,this.worldHelper.stage.addChild(this.displayObject),null!=o?this.initFromString(o):this.initWorldArrays(i,r),this.renderOrnamentsAndInitCamera()):this.interpreter.throwException("Es wurde bereits ein Robot-World-Objekt instanziert. Davon kann es aber nur ein einziges geben. \nTipp: Jedes Robot-Objekt kann das Robot-World-Objekt mit der getRobotWorld() holen.")}return tk(e,[{key:"adjustRobotPositions",value:function(e,t){var n,i=Yw(this.robots);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.x==e&&r.y==t&&(r.model.y=this.getBrickCount(e,t)+1.6)}}catch(e){i.e(e)}finally{i.f()}}},{key:"initWorldArrays",value:function(e,t){for(var n=0;n<e;n++){var i=[];this.markers.push(i);var r=[];this.bricks.push(r);for(var o=0;o<t;o++)i.push(null),r.push([])}}},{key:"fetchWorld",value:function(e){var t=e.worldHelper;if(null==t){var n=new E(e.moduleStore.getType("World").type);t=new Mc(800,600,e.moduleStore.getModule("Base Module"),n),n.intrinsicData.World=t,e.worldHelper=t}this.worldHelper=t}},{key:"renderOrnamentsAndInitCamera",value:function(){var e=this;this.worldHelper.app.renderer.backgroundColor=8421631;var t=this.robotCubeFactory.getGrassPlane(this.worldX,this.worldY);this.container3D.addChild(t);var n=0;this.robotCubeFactory.getSidePlanes(this.worldX,this.worldY,"robot#3",0,n++).forEach((function(t){e.container3D.addChild(t)})),this.robotCubeFactory.getSidePlanes(this.worldX,this.worldY,"robot#10",0,n++).forEach((function(t){e.container3D.addChild(t)})),this.robotCubeFactory.makeClouds(this.container3D,60,this.worldX/2,this.worldY/2),this.robotCubeFactory.makePlane(this.container3D,this.worldX/2,-4,this.worldY/2,3e3,3e3,new Pixi3d.Color(55/255,174/255,77/255));var i=new Pixi3d.CameraOrbitControl(this.worldHelper.app.view,this.camera);i.angles.x=45,i.angles.y=-20,i.target={x:this.worldX-1,y:0,z:this.worldY-1},i.distance=2.3*Math.max(this.worldX,this.worldY)}},{key:"addBrick",value:function(e,t,n){var i=this.bricks[e][t].length;if(i<this.maximumHeight){var r=this.robotCubeFactory.getBrick(n);return this.setToXY(e,t,i,r),this.bricks[e][t].push(r),this.container3D.addChild(r),this.adjustMarkerHeight(e,t),this.adjustRobotPositions(e,t),!0}return!1}},{key:"removeBrick",value:function(e,t){if(!(this.bricks[e][t].length>0))return!1;this.bricks[e][t].pop().destroy(),this.adjustMarkerHeight(e,t),this.adjustRobotPositions(e,t)}},{key:"getBrickCount",value:function(e,t){return this.bricks[e][t].length}},{key:"hasBrickColor",value:function(e,t,n){var i,r=Yw(this.bricks[e][t]);try{for(r.s();!(i=r.n()).done;){if(i.value.farbe==n)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getMarkerColor",value:function(e,t){var n=this.markers[e][t];return null==n?null:n.farbe}},{key:"setMarker",value:function(e,t,n){null!=this.markers[e][t]&&this.markers[e][t].destroy();var i=this.robotCubeFactory.getMarker(n);this.markers[e][t]=i,this.container3D.addChild(i),this.setToXY(e,t,0,i),this.adjustMarkerHeight(e,t)}},{key:"removeMarker",value:function(e,t){var n=this.markers[e][t];return null!=n&&(this.markers[e][t]=null,n.destroy(),!0)}},{key:"adjustMarkerHeight",value:function(e,t){var n=this.markers[e][t];if(null!=n){var i=this.bricks[e][t].length;n.y=i+.1}}},{key:"clear",value:function(){for(var e=0;e<this.bricks.length;e++)for(var t=0;t<this.bricks[e].length;t++)for(var n=this.bricks[e][t];n.length>0;)n.pop().destroy();for(var i=0;i<this.markers.length;i++)for(var r=0;r<this.markers[i].length;r++){var o=this.markers[i][r];null!=o&&(this.markers[i][r]=null,o.destroy())}}},{key:"setDimensions",value:function(e,t){this.clear(),this.worldX=e,this.worldY=t,this.markers=[],this.bricks=[];for(var n=0;n<e;n++){var i=[];this.markers.push(i);var r=[];this.bricks.push(r);for(var o=0;o<t;o++)i.push(null),r.push([])}}},{key:"getNumberOfBricks",value:function(e,t){return this.bricks[e][t].length}},{key:"initFromString",value:function(e){var t=this,n={r:"rot",g:"grün",b:"blau",y:"gelb"},i={R:"rot",G:"grün",B:"blau",Y:"gelb"},r=["1","2","3","4","5","6","7","8","9","0"];this.clear();var o,a,s=e.split("\n"),l=0;s.forEach((function(e){var n=t.rowLength(e);n>l&&(l=n)})),this.initWorldArrays(l,s.length),this.worldX=l,this.worldY=s.length;for(var u="rot",c="gelb",d=0;d<s.length;d++)for(var f=s[d],h=0,p=0;p<f.length;)if(o=f.charAt(p),a=p<f.length-1?f.charAt(p+1):null,p++,null==n[o])if(null==i[o]){var y=r.indexOf(o);if(y>=0){for(var v=0;v<y+1;v++)this.addBrick(h,d,u);"m"==a&&(this.setMarker(h,d,c),p++),h++}else" "!=o?"_"!=o||(this.setMarker(h,d,c),h++):h++}else c=i[o];else u=n[o]}},{key:"rowLength",value:function(e){for(var t=0,n=0;n<e.length;n++)" _1234567890".indexOf(e.charAt(n))>=0&&t++;return t}},{key:"setToXY",value:function(e,t,n,i){i.x=2*(this.worldX-e-1),i.z=2*(this.worldY-t-1),i.y=n}},{key:"destroy",value:function(){}},{key:"gibtFarbe",value:function(e){return this.robotCubeFactory.farben.indexOf(e)>=0}}]),e}(),dk=function(){function e(){nk(this,e),this.names=["top","right","bottom","left"],this.deltas=[{dx:0,dy:-1},{dx:-1,dy:0},{dx:0,dy:1},{dx:1,dy:0}],this.angles=[0,90,180,270],this.index=2}return tk(e,[{key:"turnRight",value:function(){this.index=(this.index-1)%4}},{key:"turnLeft",value:function(){this.index=(this.index+1+4)%4}},{key:"getAngle",value:function(){return this.angles[this.index]}},{key:"getDeltas",value:function(){return this.deltas[this.index]}}]),e}(),fk=function(){function e(t,n,i,r,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;nk(this,e),this.interpreter=t,this.runtimeObject=n,this.hatSteine=1e7,this.maxSteine=1e8,this.direction=new dk,this.fetchRobotWorld(t,o,a,s),this.robotWorldHelper.robots.push(this),this.render(),this.moveTo(i-1,r-1),this.adjustAngle()}return tk(e,[{key:"fetchRobotWorld",value:function(e,t,n,i){var r=e.worldHelper;if(this.robotWorldHelper=null==r?void 0:r.robotWorldHelper,null==this.robotWorldHelper){var o=new E(e.moduleStore.getType("RobotWorld").type);this.robotWorldHelper=new ck(e,o,t,n,i),o.intrinsicData.RobotWorldHelper=this.robotWorldHelper}}},{key:"render",value:function(){var e=Pixi3d.Model.from(PIXI.Loader.shared.resources.steve.gltf);e.scale.set(.1);var t,n=Yw(e.meshes);try{for(n.s();!(t=n.n()).done;){var i=t.value.material;i.camera=this.robotWorldHelper.camera,i.exposure=.5,i.lightingEnvironment=this.robotWorldHelper.robotCubeFactory.lightingEnvironment}}catch(e){n.e(e)}finally{n.f()}this.robotWorldHelper.container3D.addChild(e),this.model=e}},{key:"crop",value:function(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}},{key:"moveTo",value:function(e,t){var n=this.robotWorldHelper;e=this.crop(e,0,n.worldX-1),t=this.crop(t,0,n.worldY-1),this.model.x=2*(n.worldX-e-1),this.model.z=2*(n.worldY-t-1),this.model.y=n.getNumberOfBricks(e,t)+1.6,this.x=e,this.y=t}},{key:"adjustAngle",value:function(){this.model.transform.rotationQuaternion.setEulerAngles(0,this.direction.getAngle(),0)}},{key:"schritt",value:function(){var e=this.direction.getDeltas(),t=this.x+e.dx,n=this.y+e.dy,i=this.robotWorldHelper;if(t<0||t>=i.worldX||n<0||n>=i.worldY)return this.interpreter.throwException("Der Roboter ist gegen eine Wand geprallt!"),!1;var r=i.getNumberOfBricks(this.x,this.y),o=i.getNumberOfBricks(t,n);return o<r-1?(this.interpreter.throwException("Der Roboter kann maximal einen Ziegel nach unten springen."),!1):o>r+1?(this.interpreter.throwException("Der Roboter kann maximal einen Ziegel hoch springen."),!1):(this.moveTo(t,n),!0)}},{key:"hinlegen",value:function(e){var t=this.direction.getDeltas(),n=this.x+t.dx,i=this.y+t.dy,r=this.robotWorldHelper;return n<0||n>=r.worldX||i<0||i>=r.worldY?(this.interpreter.throwException("Der Roboter steht direkt vor einer Wand. Da kann er keine Ziegel hinlegen."),!1):(e=e.toLocaleLowerCase(),r.gibtFarbe(e)?0==this.hatSteine?(this.interpreter.throwException("Der Roboter hat keine Ziegel mehr bei sich und kann daher keinen mehr hinlegen."),!1):r.bricks[n][i].length>=r.maximumHeight?(this.interpreter.throwException("Der Ziegelstapel darf die maximale Höhe "+r.maximumHeight+" nicht überschreiten."),!1):(r.addBrick(n,i,e),this.hatSteine--,!0):(this.interpreter.throwException("Es gibt nur Ziegel der Farben "+r.robotCubeFactory.farben.join(", ")+". Die Farbe "+e+" ist nicht darunter."),!1))}},{key:"aufheben",value:function(){var e=this.direction.getDeltas(),t=this.x+e.dx,n=this.y+e.dy,i=this.robotWorldHelper;return t<0||t>=i.worldX||n<0||n>=i.worldY?(this.interpreter.throwException("Der Roboter steht direkt vor einer Wand. Da kann er keinen Ziegel aufheben."),!1):i.getNumberOfBricks(t,n)<1?(this.interpreter.throwException("Vor dem Roboter liegt kein Ziegel, er kann daher keinen aufheben."),!1):(i.removeBrick(t,n),this.hatSteine<this.maxSteine?(this.hatSteine++,!0):(this.interpreter.throwException("Der Roboter kann nicht mehr Steine aufheben, da er keinen Platz mehr in seinem Rucksack hat."),!1))}},{key:"markeSetzen",value:function(e){var t=this.robotWorldHelper;if(e=e.toLocaleLowerCase(),!t.gibtFarbe(e))return this.interpreter.throwException("Es gibt nur Marken der Farben "+t.robotCubeFactory.farben.join(", ")+". Die Farbe "+e+" ist nicht darunter."),!1;t.setMarker(this.x,this.y,e)}},{key:"markeLöschen",value:function(){this.robotWorldHelper.removeMarker(this.x,this.y)}},{key:"istWand",value:function(){var e=this.direction.getDeltas(),t=this.x+e.dx,n=this.y+e.dy,i=this.robotWorldHelper;return t<0||t>=i.worldX||n<0||n>=i.worldY}},{key:"istZiegel",value:function(e){var t=this.direction.getDeltas(),n=this.x+t.dx,i=this.y+t.dy,r=this.robotWorldHelper;return!(n<0||n>=r.worldX||i<0||i>=r.worldY)&&(null==e?r.getBrickCount(n,i)>0:"string"==typeof e?r.hasBrickColor(n,i,e.toLocaleLowerCase()):r.bricks[n][i].length==e)}},{key:"istMarke",value:function(e){var t=this.robotWorldHelper.markers[this.x][this.y];return null==e?null!=t:"string"==typeof e&&(null!=t&&t.farbe==e.toLocaleLowerCase())}}]),e}();function hk(e){return(hk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return(yk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bk(e);if(t){var r=bk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return mk(this,n)}}function mk(e,t){if(t&&("object"===hk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gk(e)}function gk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bk(e){return(bk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wk(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return kk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kk(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function kk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jk(e,t,n){return t&&Pk(e.prototype,t),n&&Pk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Tk=function(){function e(t,n){if(Sk(this,e),this.main=n,this.oldErrorDecorations=[],this.isSystemModule=!1,this.breakpoints=[],this.breakpointDecorators=[],this.decoratorIdToBreakpointMap={},this.errors=[[],[],[],[]],this.colorInformation=[],this.identifierPositions={},this.methodCallPositions={},null!=t&&null!=this.main){this.file=t;var i=t.name,r=e.uriMap[i];null==r?r=0:r++,e.uriMap[i]=r,r>0&&(i+=" ("+r+")"),this.uri=monaco.Uri.from({path:i,scheme:"inmemory"}),this.model=monaco.editor.createModel(t.text,"myJava",this.uri),this.model.updateOptions({tabSize:3,bracketColorizationOptions:{enabled:!0}});var o=new cn;if(n.isEmbedded()&&null!=t.text&&t.text.length>3){var a=o.format(this.model);this.model.applyEdits(a)}this.lastSavedVersionId=this.model.getAlternativeVersionId();var s=this;this.model.onDidChangeContent((function(){var e=s.model.getAlternativeVersionId();if(e!=s.lastSavedVersionId&&(s.file.dirty=!0,s.file.saved=!1,s.file.identical_to_repository_version=!1,s.lastSavedVersionId=e),!s.main.isEmbedded()){var t=n;t.workspacesOwnerId!=t.user.id?(null==s.file.text_before_revision||s.file.student_edited_after_revision)&&(s.file.student_edited_after_revision=!1,s.file.text_before_revision=s.file.text,s.file.saved=!1,t.networkManager.sendUpdates(null,!1),t.bottomDiv.homeworkManager.showHomeWorkRevisionButton(),t.projectExplorer.renderHomeworkButton(s.file)):s.file.student_edited_after_revision=!0}}))}}return jk(e,[{key:"toExportedModule",value:function(){return{name:this.file.name,text:this.getProgramTextFromMonacoModel(),identical_to_repository_version:this.file.identical_to_repository_version,is_copy_of_id:this.file.is_copy_of_id,repository_file_version:this.file.repository_file_version}}},{key:"getMethodDeclarationAtPosition",value:function(e){if(null==this.classDefinitionsAST)return null;var t,n=wk(this.classDefinitionsAST);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.type==r.keywordClass||i.type==r.keywordEnum){var o,a=wk(i.methods);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(null!=s.position&&null!=s.scopeTo&&s.position.line<=e.lineNumber&&s.scopeTo.line>=e.lineNumber)return s}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"getFileData",value:function(e){var t=this.file;return{id:t.id,name:t.name,text:t.text,text_before_revision:t.text_before_revision,submitted_date:t.submitted_date,student_edited_after_revision:t.student_edited_after_revision,version:t.version,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:t.identical_to_repository_version,workspace_id:e.id,forceUpdate:!1,file_type:0}}},{key:"pushMethodCallPosition",value:function(e,t,n,i){var r=[];r.push(e.line);var o,a=wk(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;r.indexOf[s.line]<0&&r.push(s.line)}}catch(e){a.e(e)}finally{a.f()}for(var l={identifierPosition:e,commaPositions:t,possibleMethods:n,rightBracketPosition:i},u=0,c=r;u<c.length;u++){var d=c[u],f=this.methodCallPositions[d];null==f&&(this.methodCallPositions[d]=[],f=this.methodCallPositions[d]),f.push(l)}}},{key:"toggleBreakpoint",value:function(e,t){this.getBreakpointPositionsFromEditor(),null==this.getBreakpoint(e,!0)&&this.setBreakpoint(e,1),t&&this.renderBreakpointDecorators()}},{key:"getBreakpoint",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var t=0;t<this.breakpoints.length;t++){var n=this.breakpoints[t];if(n.line==e)return this.breakpoints.splice(t,1),null!=n.statement&&(n.statement.breakpoint=void 0),n}return null}},{key:"setBreakpoint",value:function(e,t){var n={line:e,column:t,statement:null};return this.attachToStatement(n),this.breakpoints.push(n),n}},{key:"attachToStatement",value:function(e,t){var n;null!=e.statement&&(e.statement.breakpoint=void 0),null==t&&(t=this.getPrograms());var i,r=null,o=1e5,a=wk(t);try{for(a.s();!(i=a.n()).done;){var s,l=wk(i.value.statements);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=null===(n=null==u?void 0:u.position)||void 0===n?void 0:n.line;if(null!=c&&c>=e.line){c-e.line<o&&(r=u,o=c-e.line);break}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}e.statement=r,null!=r&&(r.breakpoint=e)}},{key:"getPrograms",value:function(){var e=[];if(null!=this.mainProgram&&e.push(this.mainProgram),null!=this.typeStore){var t,n=wk(this.typeStore.typeList);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i instanceof J){null!=i.attributeInitializationProgram&&e.push(i.attributeInitializationProgram);var r,o=wk(i.methods);try{for(o.s();!(r=o.n()).done;){var a=r.value;null!=a.program&&e.push(a.program)}}catch(e){o.e(e)}finally{o.f()}null!=i.staticClass.attributeInitializationProgram&&e.push(i.staticClass.attributeInitializationProgram);var s,l=wk(i.staticClass.methods);try{for(l.s();!(s=l.n()).done;){var u=s.value;null!=u.program&&e.push(u.program)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"renderBreakpointDecorators",value:function(){this.getBreakpointPositionsFromEditor();var e,t=[],n=wk(this.breakpoints);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push({range:{startLineNumber:i.line,endLineNumber:i.line,startColumn:1,endColumn:1},options:{isWholeLine:!0,className:"jo_decorate_breakpoint",overviewRuler:{color:"#580000",position:monaco.editor.OverviewRulerLane.Left},minimap:{color:"#580000",position:monaco.editor.MinimapPosition.Inline},marginClassName:"jo_margin_breakpoint",stickiness:monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},breakpoint:i})}}catch(e){n.e(e)}finally{n.f()}this.breakpointDecorators=this.main.getMonacoEditor().deltaDecorations(this.breakpointDecorators,t),this.decoratorIdToBreakpointMap={};for(var r=0;r<this.breakpointDecorators.length;r++)this.decoratorIdToBreakpointMap[this.breakpointDecorators[r]]=this.breakpoints[r]}},{key:"getBreakpointPositionsFromEditor",value:function(){var e,t=wk(this.main.getMonacoEditor().getModel().getAllDecorations());try{for(t.s();!(e=t.n()).done;){var n=e.value;if("margin_breakpoint"==n.options.marginClassName){var i=this.decoratorIdToBreakpointMap[n.id];null!=i&&(i.line=n.range.startLineNumber)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"findSymbolTableAtPosition",value:function(e,t){return null==this.mainSymbolTable?null:((e>this.mainSymbolTable.positionTo.line||e==this.mainSymbolTable.positionTo.line&&t>this.mainSymbolTable.positionTo.column)&&(e=this.mainSymbolTable.positionTo.line,t=this.mainSymbolTable.positionTo.column-1),this.mainSymbolTable.findTableAtPosition(e,t))}},{key:"getErrorCount",value:function(){var e,t=0,n=wk(this.errors);try{for(n.s();!(e=n.n()).done;){e.value.forEach((function(e){return t+="error"==e.level?1:0}))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"hasMainProgram",value:function(){return null!=this.mainProgram&&(null!=this.mainProgram.statements&&(this.mainProgram.statements.length>2||2==this.mainProgram.statements.length&&this.mainProgram.statements[0].type==r.callMainMethod))}},{key:"getProgramTextFromMonacoModel",value:function(){return this.model.getValue(monaco.editor.EndOfLinePreference.LF,!1)}},{key:"addIdentifierPosition",value:function(e,t){var n=this.identifierPositions[e.line];null==n&&(n=[],this.identifierPositions[e.line]=n),n.push({position:e,element:t})}},{key:"getTypeAtPosition",value:function(e,t){var n=this.identifierPositions[e];if(null==n)return null;var i,r=null,o=wk(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t>=a.position.column&&t<=a.position.column+a.position.length){var s=(r=a).element;if(s instanceof T)return{type:s,isStatic:!1};var l=s instanceof S?s:s.type;return r.position.length>0&&null!=s.type?{type:l,isStatic:!1}:{type:l,isStatic:r.position.length>0}}}}catch(e){o.e(e)}finally{o.f()}return null}},{key:"getElementAtPosition",value:function(e,t){var n=this.identifierPositions[e];if(null==n)return null;var i,r=null,o=wk(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;t>=a.position.column&&t<=a.position.column+a.position.length&&a.position.length>0&&(null==r||a.element instanceof T&&r.element instanceof J)&&(r=a)}}catch(e){o.e(e)}finally{o.f()}return null==r?null:r.element}},{key:"copy",value:function(){var t=new e(this.file,this.main);t.model=this.model,t.mainProgram=this.mainProgram,this.mainProgram=null,t.mainSymbolTable=this.mainSymbolTable,this.mainSymbolTable=null,t.typeStore=this.typeStore,t.isStartable=this.isStartable,t.dependsOnModulesWithErrors=this.dependsOnModulesWithErrors,t.breakpoints=this.breakpoints,this.breakpoints=[];var n=t.getPrograms();n.forEach((function(e){return e.module=t}));var i,r=wk(t.breakpoints);try{for(r.s();!(i=r.n()).done;){var o=i.value;this.breakpoints.push({line:o.line,column:o.column,statement:null}),t.attachToStatement(o,n)}}catch(e){r.e(e)}finally{r.f()}return this.file.dirty=!0,t}},{key:"clear",value:function(){this.identifierPositions={},null!=this.file&&this.file.dirty&&(this.tokenList=null,this.errors[0]=[],this.errors[1]=[]),this.errors[2]=[],this.typeNodes=[],this.typeStore=new Ck,this.errors[3]=[],this.mainSymbolTable=new gn(null,{line:1,column:1,length:1},{line:1e5,column:1,length:0}),this.mainProgram=null,this.methodCallPositions={},this.dependsOnModules=new Map}},{key:"hasErrors",value:function(){var e,t=wk(this.errors);try{for(t.s();!(e=t.n()).done;){if(e.value.find((function(e){return"error"==e.level})))return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"getSortedAndFilteredErrors",value:function(){var e,t=[],n=wk(this.errors);try{for(n.s();!(e=n.n()).done;){var i=e.value;t=t.concat(i)}}catch(e){n.e(e)}finally{n.f()}t.sort((function(e,t){return e.position.line>t.position.line?1:t.position.line>e.position.line?-1:e.position.column>=t.position.column?1:-1}));for(var r=0;r<t.length-1;r++){var o=t[r],a=t[r+1];o.position.line==a.position.line&&o.position.column+10>a.position.column&&(1==this.errorLevelCompare(o.level,a.level)?t.splice(r+1,1):t.splice(r,1),r--)}return t}},{key:"errorLevelCompare",value:function(e,t){return"error"==e?1:"error"==t?2:"warning"==e?1:"warning"==t?2:1}},{key:"renderStartButton",value:function(){var e,t,n,i=null===(n=null===(t=null===(e=this.file)||void 0===e?void 0:e.panelElement)||void 0===t?void 0:t.$htmlFirstLine)||void 0===n?void 0:n.find(".jo_additionalButtonStart");if(null!=i&&(i.find(".jo_startButton").remove(),this.isStartable)){var r=jQuery('<div class="jo_startButton img_start-dark jo_button jo_active" title="Hauptprogramm in der Datei starten"></div>');i.append(r);var o=this;r.on("mousedown",(function(e){return e.stopPropagation()})),r.on("click",(function(e){e.stopPropagation(),o.main.setModuleActive(o),o.main.getInterpreter().start()}))}}}],[{key:"restoreFromData",value:function(t,n){var i=xw.patch(t.text);return new e({name:t.name,text:i.patchedText,text_before_revision:t.text_before_revision,submitted_date:t.submitted_date,student_edited_after_revision:!1,dirty:!0,saved:!i.modified,version:t.version,id:t.id,is_copy_of_id:t.is_copy_of_id,repository_file_version:t.repository_file_version,identical_to_repository_version:t.identical_to_repository_version},n)}}]),e}();Tk.maxUriNumber=0,Tk.uriMap={};var xk=function(e){pk(n,e);var t=vk(n);function n(e){var i;return Sk(this,n),(i=t.call(this,{name:"Base Module",text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,dirty:!1,saved:!0,version:1,identical_to_repository_version:!0},e)).isSystemModule=!0,i.mainProgram=null,i.clear(),i.typeStore.addType(Rt),i.typeStore.addType(Bt),i.typeStore.addType(Lt),i.typeStore.addType(Wt),i.typeStore.addType(Ht),i.typeStore.addType(Gt),i.typeStore.addType($t),i.typeStore.addType(Nt),i.typeStore.addType(Kt),i.typeStore.addType(Qt),i.typeStore.addType(Ut),i.typeStore.addType(Zt),i.typeStore.addType(Xt),i.typeStore.addType(qt),i.typeStore.addType(new Xi(gk(i))),i.typeStore.addType(new $i(gk(i))),i.typeStore.addType(new zi(gk(i))),i.typeStore.addType(new ir(gk(i))),i.typeStore.addType(new Mi(gk(i))),i.typeStore.addType(new gr(gk(i))),i.typeStore.addType(new lo(gk(i))),i.typeStore.addType(new vo(gk(i))),i.typeStore.addType(new jo(gk(i))),i.typeStore.addType(new cr(gk(i))),i.typeStore.addType(new yi(gk(i))),i.typeStore.addType(new Tr(gk(i))),i.typeStore.addType(new Qr(gk(i))),i.typeStore.addType(new to(gk(i))),i.typeStore.addType(new Fr(gk(i))),i.typeStore.addType(new Ev(gk(i))),i.typeStore.addType(new Nv(gk(i))),i.typeStore.addType(new Eo(gk(i))),i.typeStore.addType(new Fy(gk(i))),i.typeStore.addType(new yw(gk(i))),i.typeStore.addType(new Tm(gk(i))),i.typeStore.addType(new $y(gk(i))),i.typeStore.addType(new Ph(gk(i))),i.typeStore.addType(new Ap(gk(i))),i.typeStore.addType(new wy(gk(i))),i.typeStore.addType(new Pv(gk(i))),i.typeStore.addType(new jv(gk(i))),i.typeStore.addType(new Bf(gk(i))),i.typeStore.addType(new Bc(gk(i))),i.typeStore.addType(new Sw(gk(i))),i.typeStore.addType(new pd(gk(i))),i.typeStore.addType(new Wd(gk(i))),i.typeStore.addType(new Uh(gk(i))),i.typeStore.addType(new hp(gk(i))),i.typeStore.addType(new ef(gk(i))),i.typeStore.addType(new yf(gk(i))),i.typeStore.addType(new Cf(gk(i))),i.typeStore.addType(new qf(gk(i))),i.typeStore.addType(new xd(gk(i))),i.typeStore.addType(new Kc(gk(i))),i.typeStore.addType(new fy(gk(i))),i.typeStore.addType(new kp(gk(i))),i.typeStore.addType(new ty(gk(i))),i.typeStore.addType(new np(gk(i))),i.typeStore.addType(new Qp(gk(i))),i.typeStore.addType(new Vp(gk(i))),i.typeStore.addType(new hh(gk(i))),i.typeStore.addType(new ph(gk(i))),i.typeStore.addType(new zh(gk(i))),i.typeStore.addType(new mm(gk(i))),i.typeStore.addType(new Xv(gk(i))),i.typeStore.addType(new Eg(gk(i))),i.typeStore.addType(new _m(gk(i))),i.typeStore.addType(new zm(gk(i))),i.typeStore.addType(new My(gk(i))),i.typeStore.addType(new Tc(gk(i))),i.typeStore.addType(new yg(gk(i))),i.typeStore.getType("Actor").registerWorldType(),i.typeStore.addType(new ev(gk(i))),i.typeStore.addType(new dv(gk(i))),i.typeStore.addType(new Jy(gk(i))),i.typeStore.addType(new cv(gk(i))),i.typeStore.addType(new lm(gk(i))),i.typeStore.addType(new um(gk(i))),i.typeStore.addType(new sm(gk(i))),i.typeStore.addType(new Vm(gk(i))),i.typeStore.addType(new ig(gk(i))),i.typeStore.addType(new uk(gk(i))),i.typeStore.addType(new lk(gk(i))),$t.module=gk(i),i}return jk(n,[{key:"clearUsagePositions",value:function(){var e,t=wk(this.typeStore.typeList);try{for(t.s();!(e=t.n()).done;){e.value.clearUsagePositions()}}catch(e){t.e(e)}finally{t.f()}}}]),n}(Tk),Mk=function(e){pk(n,e);var t=vk(n);function n(e,i){var r;return Sk(this,n),(r=t.call(this,{name:"Graphics and Games - Module",text:"",text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,dirty:!1,saved:!0,version:1,identical_to_repository_version:!0},e)).isSystemModule=!0,r.mainProgram=null,r.clear(),r.typeStore.addType(new bb(gk(r))),r.typeStore.addType(new fb(gk(r),i)),r.typeStore.addType(new qg(gk(r),i)),r.typeStore.addType(new $g(gk(r),i)),r.typeStore.addType(new rb(gk(r),i)),r.typeStore.addType(new xb(gk(r),i)),r.typeStore.addType(new Ib(gk(r),i)),r.typeStore.addType(new Qb(gk(r),i)),r.typeStore.addType(new Wb(gk(r),i)),r.typeStore.addType(new sw(gk(r),i)),r.typeStore.addType(new Iw(gk(r),i)),r}return jk(n,[{key:"clearUsagePositions",value:function(){var e,t=wk(this.typeStore.typeList);try{for(t.s();!(e=t.n()).done;){e.value.clearUsagePositions()}}catch(e){t.e(e)}finally{t.f()}}}]),n}(Tk),Ok=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Sk(this,e),this.main=t,this.additionalLibraries=i,this.modules=[],this.moduleMap={},this.dirty=!1,n&&(this.baseModule=new xk(t),this.putModule(this.baseModule));var r,o=wk(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.addLibraryModule(a)}}catch(e){o.e(e)}finally{o.f()}}return jk(e,[{key:"addLibraryModule",value:function(e){switch(e){case"gng":this.putModule(new Mk(this.main,this))}}},{key:"setAdditionalLibraries",value:function(e){this.modules=this.modules.filter((function(e){return!e.isSystemModule||e instanceof xk})),this.moduleMap={};var t,n=wk(this.modules);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.moduleMap[i.file.name]=i}}catch(e){n.e(e)}finally{n.f()}if(null!=e){var r,o=wk(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.addLibraryModule(a)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"findModuleById",value:function(e){var t,n=wk(this.modules);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.file.id==e)return i}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"getBaseModule",value:function(){return this.baseModule}},{key:"clearUsagePositions",value:function(){this.baseModule.clearUsagePositions()}},{key:"copy",value:function(){var t,n=new e(this.main,!0),i=wk(this.modules);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.isSystemModule||n.putModule(r.copy())}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"findModuleByFile",value:function(e){var t,n=wk(this.modules);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.file==e)return i}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"hasErrors",value:function(){var e,t=wk(this.modules);try{for(t.s();!(e=t.n()).done;){if(e.value.hasErrors())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"getFirstModule",value:function(){if(this.modules.length>0){var e,t=wk(this.modules);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!n.isSystemModule)return n}}catch(e){t.e(e)}finally{t.f()}}return null}},{key:"isDirty",value:function(){if(this.dirty)return this.dirty=!1,!0;var e,t=!1,n=wk(this.modules);try{for(n.s();!(e=n.n()).done;){if(e.value.file.dirty){t=!0;break}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getModules",value:function(e,t){var n,i=[],r=wk(this.modules);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.file.name!=t&&(o.isSystemModule&&!e||i.push(o))}}catch(e){r.e(e)}finally{r.f()}return i}},{key:"putModule",value:function(e){this.modules.push(e),this.moduleMap[e.file.name]=e}},{key:"removeModuleWithFile",value:function(e){var t,n=wk(this.modules);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.file==e){this.removeModule(i);break}}}catch(e){n.e(e)}finally{n.f()}}},{key:"removeModule",value:function(e){this.modules.indexOf(e)<0||(this.modules.splice(this.modules.indexOf(e),1),this.moduleMap[e.file.name]=void 0,this.dirty=!0)}},{key:"getModule",value:function(e){return this.moduleMap[e]}},{key:"getType",value:function(e){var t,n=wk(this.modules);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(null!=i.typeStore){var r=i.typeStore.getType(e);if(null!=r)return{type:r,module:i}}}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"getTypeCompletionItems",value:function(e,t){var n,i=[],r=wk(this.modules);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(null!=o.typeStore){var a,s=wk(o.typeStore.typeList);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(o==e||l instanceof J&&l.visibility==_.public||o.isSystemModule){var u="Klasse";null!=l.documentation?u=l.documentation:o.isSystemModule&&(u=l instanceof P?"Primitiver Datentyp":"Systemklasse");var c={label:l.identifier,detail:u,insertText:l.identifier,kind:l instanceof P?monaco.languages.CompletionItemKind.Struct:monaco.languages.CompletionItemKind.Class,range:t,generic:(l instanceof J||l instanceof te)&&l.typeVariables.length>0};i.push(c)}}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){r.e(e)}finally{r.f()}return i}}]),e}(),Ck=function(){function e(){Sk(this,e),this.typeList=[],this.typeMap=new Map}return jk(e,[{key:"addType",value:function(e){this.typeList.push(e),this.typeMap.set(e.identifier,e)}},{key:"clear",value:function(){this.typeList.length=0,this.typeMap.clear()}},{key:"getType",value:function(e){return this.typeMap.get(e)}}]),e}();function Ak(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ek=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=t,this.firstLast=n,this.horVert=i,this.callback=r,this.$otherDiv=o,this.initSlider()}var t,n,i;return t=e,(n=[{key:"initSlider",value:function(){var e=this,t=this;null==this.$otherDiv&&this.$container.parent().children().each((function(n,i){i!=e.$container[0]&&(t.$otherDiv=jQuery(i))})),this.$sliderDiv=jQuery('<div class="joe_slider"></div>'),this.$sliderDiv.css({width:this.horVert?"100%":"4px",height:this.horVert?"4px":"100%",cursor:this.horVert?"row-resize":"col-resize"}),this.firstLast?this.$sliderDiv.css({top:"0px",left:"0px"}):this.horVert?this.$sliderDiv.css({bottom:"0px",left:"0px"}):this.$sliderDiv.css({top:"0px",right:"0px"}),this.$container.append(this.$sliderDiv);var n=window.PointerEvent?"pointer":"mouse";this.$sliderDiv.on(n+"down",(function(e){var i=e.clientX,r=e.clientY;jQuery(document).on(n+"move.slider",(function(e){var n=e.clientX-i,o=e.clientY-r;t.slide(n,o),i=e.clientX,r=e.clientY})),jQuery(document).on(n+"up.slider",(function(){jQuery(document).off(n+"move.slider"),jQuery(document).off(n+"up.slider")}))})),setTimeout((function(){t.slide(1,1)}),600)}},{key:"setColor",value:function(e){this.$sliderDiv.css("background-color",e)}},{key:"slide",value:function(e,t){if(this.horVert){var n=Number.parseInt(this.$container.css("height").replace("px","")),i=Number.parseInt(this.$otherDiv.css("height").replace("px","")),r=this.firstLast?n-=t:n+=t,o=this.firstLast?i+=t:i-=t;this.$container.css("height",r+"px"),this.$otherDiv.css("height",o+"px"),this.callback(r)}else{var a=Number.parseInt(this.$container.css("width").replace("px","")),s=Number.parseInt(this.$otherDiv.css("width").replace("px","")),l=this.firstLast?a-=e:a+=e,u=this.firstLast?s+=e:s-=e;this.$container.css("width",l+"px"),this.$otherDiv.css("width",u+"px"),this.callback(l)}this.$container.css("flex","0 1 auto")}}])&&Ak(t.prototype,n),i&&Ak(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Dk(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ik(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ik(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _k=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moduleStore=t,this.$fileListDiv=n,this.main=i,this.files=[];var o,a=this,s=Dk(t.getModules(!1));try{for(s.s();!(o=s.n()).done;){var l=o.value;this.addModule(l)}}catch(e){s.e(e)}finally{s.f()}if(null!=n){var u=n.parent(),c=jQuery('<div class="joe_addFileButton jo_button img_add-dark jo_active" title="Datei hinzufügen"></div>');u.append(c),c.on("click",(function(){var e=r.main.addModule({text:"",title:"Neue Datei.java",type:"java"}),t=r.addModule(e);r.renameElement(t,(function(){a.currentFile!=t&&a.selectFile(t)}))}))}}var t,n,i;return t=e,(n=[{key:"removeAllFiles",value:function(){var e=this;this.files.forEach((function(t){return e.removeFile(t)}))}},{key:"addHint",value:function(e){var t=this,n=jQuery('<div class="jo_file jo_hint" ><div class="jo_fileimage"></div><div class="jo_filename" style="line-height: 22px">'+e.title+'</div><div class="jo_additionalButtons"></div></div></div>');this.$fileListDiv.append(n);var i={module:null,$fileDiv:n,type:"hint",hint:e.text};this.files.push(i),n.on("click",(function(e){t.selectFile(i)}))}},{key:"addModule",value:function(e){var t=this,n=jQuery('<div class="jo_file jo_java" >\n        <div class="jo_fileimage"></div>\n        <div class="jo_filename" style="line-height: 22px">'.concat(e.file.name,'</div>\n        <div class="jo_additionalButtonStart"></div>\n        <div class="jo_delete img_delete jo_button jo_active" title="Datei löschen"></div></div></div>'));null!=this.$fileListDiv&&this.$fileListDiv.append(n);var i={module:e,$fileDiv:n,type:"java"};return this.files.push(i),e.file.panelElement={name:e.file.name,$htmlFirstLine:n,isFolder:!1,path:[]},n.find(".jo_delete").on("mousedown",(function(e){t.onDelete(i,e)})),n.find(".jo_delete").on("click",(function(e){e.preventDefault(),e.stopPropagation()})),n.on("click",(function(e){t.selectFile(i)})),n[0].addEventListener("contextmenu",(function(e){e.preventDefault(),oa([{caption:"Umbenennen",callback:function(){t.renameElement(i,(function(){}))}}],e.pageX,e.pageY)}),!1),i}},{key:"onDelete",value:function(e,t){t.preventDefault(),t.stopPropagation();var n=this;oa([{caption:"Abbrechen",callback:function(){}},{caption:"Ich bin mir sicher: löschen!",color:"#ff6060",callback:function(){n.removeFile(e)}}],t.pageX+2,t.pageY+2)}},{key:"removeFile",value:function(e){e.$fileDiv.remove(),this.main.removeModule(e.module),this.files=this.files.filter((function(t){return t!=e})),this.currentFile==e&&(this.files.length>0?this.selectFile(this.files[0]):(this.main.getMonacoEditor().setValue("Keine Datei vorhanden."),this.main.getMonacoEditor().updateOptions({readOnly:!0}))),this.files.forEach((function(e){null!=e.module&&(e.module.file.saved=!1)}))}},{key:"removeModule",value:function(e){var t,n=Dk(this.files);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.module==e&&this.removeFile(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"renameElement",value:function(e,t){var n=e.$fileDiv.find(".jo_filename"),i=e.module.file.name.indexOf(".");ra(n,n,(function(i){e.module.file.name=i,n.html(i),null!=t&&t()}),null==i?null:{start:0,end:i})}},{key:"setFirstFileActive",value:function(){this.files.length>0&&this.selectFile(this.files[0])}},{key:"selectFile",value:function(e){var t=this;if(null!=e)switch(e.type){case"java":this.main.$hintDiv.hide(),this.main.$monacoDiv.show(),this.main.setModuleActive(e.module),this.main.getMonacoEditor().focus();break;case"hint":this.main.$monacoDiv.hide(),this.main.$hintDiv.show();var n={},i=[],r=window.markdownit({highlight:function(e,t){return i.push(e),""}});r.renderer.rules.code_inline=function(e,t,n,r,o){var a=e[t];return i.push(a.content),""},r.render(e.hint),this.colorize(i,n,(function(){var i=window.markdownit({highlight:function(e,t){return n[e]}});i.renderer.rules.code_inline=function(e,t,i,r,o){var a=e[t];return n[a.content].replace("<br/>","")};var r=i.render(e.hint);t.main.$hintDiv.html(r)})),this.$fileListDiv.find(".jo_file").removeClass("jo_active"),e.$fileDiv.addClass("jo_active")}}},{key:"colorize",value:function(e,t,n){var i=this;if(e.length>0){var r=e.pop();monaco.editor.colorize(r,"myJava",{tabSize:3}).then((function(o){t[r]=o,i.colorize(e,t,n)}))}else n()}},{key:"markFile",value:function(e){null!=this.$fileListDiv&&(this.$fileListDiv.find(".jo_file").removeClass("jo_active"),this.currentFile=this.files.find((function(t){return t.module==e})),null!=this.currentFile&&this.currentFile.$fileDiv.addClass("jo_active"))}}])&&Fk(t.prototype,n),i&&Fk(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Rk=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"open",value:function(e){if(window.indexedDB){var t=window.indexedDB.open("LearnJ",1),n=this;t.onerror=function(e){console.log("Couldn't open IndexedDB: "+e.type)},t.onsuccess=function(i){n.db=t.result,n.db.onerror=function(e){console.log("Datenbankfehler: "+e.target.error.message)},e()},t.onupgradeneeded=function(e){n.db=e.target.result,n.db.createObjectStore("scripts",{keyPath:"scriptId",autoIncrement:!1}).transaction.oncomplete=function(e){}}}else console.log("IndexedDB not available.")}},{key:"writeScript",value:function(e,t){this.db.transaction("scripts","readwrite").objectStore("scripts").put({scriptId:e,script:t})}},{key:"removeScript",value:function(e){this.db.transaction("scripts","readwrite").objectStore("scripts").delete(e)}},{key:"getScript",value:function(e,t){var n=this.db.transaction("scripts","readwrite").objectStore("scripts").get(e);n.onerror=function(e){t(null)},n.onsuccess=function(e){null==n.result?t(null):t(n.result.script)}}}])&&zk(t.prototype,n),i&&zk(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bk(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lk(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Lk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Wk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Gk=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scriptList=n,this.programPointerDecoration=[],this.programIsExecutable=!1,this.version=0,this.compileRunsAfterCodeReset=0,this.readConfig(t),this.initGUI(t),this.initScripts(),this.config.hideStartPanel||(this.indexedDB=new Rk,this.indexedDB.open((function(){null!=i.config.id&&i.readScripts()}))),this.semicolonAngel=new Lu(this)}var t,n,i;return t=e,(n=[{key:"isEmbedded",value:function(){return!0}},{key:"jumpToDeclaration",value:function(e,t){}},{key:"getCompiler",value:function(){return this.compiler}},{key:"getInterpreter",value:function(){return this.interpreter}},{key:"getCurrentWorkspace",value:function(){return this.currentWorkspace}},{key:"getDebugger",value:function(){return this.debugger}},{key:"getMonacoEditor",value:function(){return this.editor.editor}},{key:"getRightDiv",value:function(){return this.rightDiv}},{key:"getBottomDiv",value:function(){return this.bottomDiv}},{key:"getActionManager",value:function(){return this.actionManager}},{key:"getCurrentlyEditedModule",value:function(){var e;return this.config.withFileList?null===(e=this.fileExplorer.currentFile)||void 0===e?void 0:e.module:this.currentWorkspace.moduleStore.getFirstModule()}},{key:"initScripts",value:function(){var e,t=this;null===(e=this.fileExplorer)||void 0===e||e.removeAllFiles(),this.initWorkspace(this.scriptList),this.config.withFileList?(this.fileExplorer=new _k(this.currentWorkspace.moduleStore,this.$filesListDiv,this),this.fileExplorer.setFirstFileActive(),this.scriptList.filter((function(e){return"hint"==e.type})).forEach((function(e){return t.fileExplorer.addHint(e)}))):this.setModuleActive(this.currentWorkspace.moduleStore.getFirstModule())}},{key:"readConfig",value:function(e){var t=e.data("java-online");this.config=null!=t&&"string"==typeof t?JSON.parse(t.split("'").join('"')):{},null==this.config.hideEditor&&(this.config.hideEditor=!1),null==this.config.hideStartPanel&&(this.config.hideStartPanel=!1),null==this.config.withBottomPanel&&(this.config.withBottomPanel=this.config.withConsole||this.config.withPCode||this.config.withFileList||this.config.withErrorList),this.config.hideEditor&&(this.config.withBottomPanel=!1,this.config.withFileList=!1,this.config.withConsole=!1,this.config.withPCode=!1,this.config.withErrorList=!1),this.config.withBottomPanel&&(null==this.config.withFileList&&(this.config.withFileList=!0),null==this.config.withPCode&&(this.config.withPCode=!0),null==this.config.withConsole&&(this.config.withConsole=!0),null==this.config.withErrorList&&(this.config.withErrorList=!0)),null==this.config.speed&&(this.config.speed=9),null==this.config.libraries&&(this.config.libraries=[])}},{key:"setModuleActive",value:function(e){null!=e&&(this.config.withFileList&&null!=this.fileExplorer.currentFile&&(this.fileExplorer.currentFile.module.editorState=this.getMonacoEditor().saveViewState()),this.config.withFileList&&this.fileExplorer.markFile(e),this.getMonacoEditor().updateOptions({readOnly:!1,lineNumbersMinChars:4}),this.editor.editor.setModel(e.model),null!=e.editorState&&this.getMonacoEditor().restoreViewState(e.editorState),e.renderBreakpointDecorators())}},{key:"eraseDokuwikiSearchMarkup",value:function(e){return e.replace(/<span class="search\whit">(.*?)<\/span>/g,"$1")}},{key:"readScripts",value:function(){var e=this,t=this.currentWorkspace.moduleStore.getModules(!1),n=this;this.indexedDB.getScript(this.config.id,(function(i){var r;null==i?setInterval((function(){n.saveScripts()}),1e3):function(){var o,a=JSON.parse(i),s=a.length,l=Bk(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;null===(r=n.fileExplorer)||void 0===r||r.removeModule(u),n.removeModule(u)}}catch(e){l.e(e)}finally{l.f()}var c,d=Bk(a);try{var f=function(){var t=c.value,i=e.config.id+t;e.indexedDB.getScript(i,(function(i){var r,o;if(null!=i){i=e.eraseDokuwikiSearchMarkup(i);var a=n.addModule({title:t,text:i,type:"java"});null===(r=n.fileExplorer)||void 0===r||r.addModule(a),n.$resetButton.fadeIn(1e3)}if(0==--s&&(setInterval((function(){n.saveScripts()}),1e3),null===(o=n.fileExplorer)||void 0===o||o.setFirstFileActive(),null==n.fileExplorer)){var l=n.currentWorkspace.moduleStore.getModules(!1);l.length>0&&n.setModuleActive(l[0])}}))};for(d.s();!(c=d.n()).done;)f()}catch(e){d.e(e)}finally{d.f()}}()}))}},{key:"saveScripts",value:function(){var e=this.currentWorkspace.moduleStore.getModules(!1),t=[],n=!1;if(e.forEach((function(e){return n=n||!e.file.saved})),n){var i,r=Bk(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.push(o.file.name);var a=this.config.id+o.file.name;this.indexedDB.writeScript(a,o.getProgramTextFromMonacoModel()),o.file.saved=!0}}catch(e){r.e(e)}finally{r.f()}this.indexedDB.writeScript(this.config.id,JSON.stringify(t))}}},{key:"deleteScriptsInDB",value:function(){var e=this;this.indexedDB.getScript(this.config.id,(function(t){if(null!=t){var n,i=Bk(JSON.parse(t));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=e.config.id+r;e.indexedDB.removeScript(o)}}catch(e){i.e(e)}finally{i.f()}e.indexedDB.removeScript(e.config.id)}}))}},{key:"initWorkspace",value:function(e){this.currentWorkspace=new ka("Embedded-Workspace",this,0),this.currentWorkspace.settings.libraries=this.config.libraries,this.currentWorkspace.alterAdditionalLibraries();var t,n=Bk(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"java"==i.type&&this.addModule(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"addModule",value:function(e){var t=Tk.restoreFromData({id:this.currentWorkspace.moduleStore.getModules(!0).length,name:e.title,text:e.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,workspace_id:0,forceUpdate:!1,identical_to_repository_version:!1,file_type:0},this);this.currentWorkspace.moduleStore.putModule(t);var n=this;return t.model.onDidChangeContent((function(){n.considerShowingCodeResetButton()})),t}},{key:"removeModule",value:function(e){this.currentWorkspace.moduleStore.removeModule(e)}},{key:"initGUI",value:function(e){var t=this;e.css({"background-image":"none","background-size":"100%"});var n=jQuery('<div class="joe_centerDiv"></div>'),i=this.makeCodeResetModalWindow(e),r=this.makeRightDiv(),o=jQuery('<div class="joe_editorDiv"></div>');this.$monacoDiv=jQuery('<div class="joe_monacoDiv"></div>'),this.$hintDiv=jQuery('<div class="joe_hintDiv jo_scrollable"></div>'),this.$resetButton=jQuery('<div class="joe_resetButton jo_button jo_active" title="Code auf Ausgangszustand zurücksetzen">Code Reset</div>'),o.append(this.$monacoDiv,this.$hintDiv,this.$resetButton);var a=this.makeBracketErrorDiv();o.append(a),this.$resetButton.hide(),this.$resetButton.on("click",(function(){i.show()})),this.$hintDiv.hide();var s=jQuery('<div class="joe_controlsDiv"></div>'),l=jQuery('<div class="joe_bottomDivInner"></div>'),u=jQuery('<label type="file" class="img_open-file jo_button jo_active"style="margin-right: 8px;" title="Workspace aus Datei laden"><input type="file" style="display:none"></label>'),c=this;u.find("input").on("change",(function(e){var t=e.originalEvent.target.files;c.loadWorkspaceFromFile(t[0])}));var d=jQuery('<div class="img_save-dark jo_button jo_active"style="margin-right: 8px;" title="Workspace in Datei speichern"></div>');if(d.on("click",(function(){c.saveWorkspaceToFile()})),s.append(u,d),this.config.withBottomPanel){var f=jQuery('<div class="joe_bottomDiv"></div>');if(this.makeBottomDiv(l,s),f.append(l),this.config.withFileList){var h=this.makeFilesDiv();f.prepend(h),new Ek(h,!1,!1,(function(){}))}aa(l),n.append(o,f),new Ek(f,!0,!0,(function(){t.editor.editor.layout()}))}else n.prepend(o);this.config.withBottomPanel||(this.config.hideEditor?r.prepend(s):(n.prepend(s),s.addClass("joe_controlPanel_top"),o.css({position:"relative",height:"1px"}))),e.addClass("joe_javaOnlineDiv"),e.append(n,r),this.config.hideEditor||new Ek(r,!0,!1,(function(){jQuery(".jo_graphics").trigger("sizeChanged"),t.editor.editor.layout()})),this.editor=new Us(this,!1,!0),this.editor.initGUI(this.$monacoDiv),this.$monacoDiv.find(".monaco-editor").css("z-index","10"),null==e.attr("tabindex")&&e.attr("tabindex","0"),this.actionManager=new qa(e,this),this.actionManager.init(),this.bottomDiv=new gs(this,l,e),this.bottomDiv.initGUI(),this.rightDiv=new Mu(this,this.$rightDivInner),this.rightDiv.initGUI();var p=jQuery('<div class="jo_rightdiv-rightside-container">'),y=jQuery('<div class="jo_coordinates">(0/0)</div>');this.$rightDivInner.append(p),p.append(y),this.debugger=new $a(this,this.$debuggerDiv,null),this.interpreter=new uc(this,this.debugger,new sl(s,o),this.$runDiv);var v=jQuery('<div class="jo_button jo_active img_ellipsis-dark" style="margin-left: 16px"></div>');s.append(v),v.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),oa([{caption:"Über die Online-IDE ...",link:"https://www.online-ide.de",callback:function(){}}],e.pageX+2,e.pageY+2)})),setTimeout((function(){t.interpreter.initGUI(),t.editor.editor.layout(),t.compiler=new ai(t),t.interpreter.controlButtons.speedControl.setSpeedInStepsPerSecond(t.config.speed),t.startTimer()}),200),this.config.hideEditor&&(n.hide(),r.css("flex","1"),this.config.hideStartPanel?e.find(".joe_controlsDiv").hide():(e.find(".joe_rightDivInner").css("height","calc(100% - 24px)"),e.find(".joe_controlsDiv").css("padding","2px"),e.find(".jo_speedcontrol-outer").css("z-index","10")))}},{key:"makeBracketErrorDiv",value:function(){return jQuery('\n        <div class="jo_parenthesis_warning" title="Klammerwarnung!" style="bottom: 55px">\n        <div class="jo_warning_light"></div>\n        <div class="jo_pw_heading">{ }</div>\n        <div title="Letzten Schritt rückgängig" \n            class="jo_pw_undo img_undo jo_button jo_active"></div>\n        </div>\n        ')}},{key:"makeCodeResetModalWindow",value:function(e){var t=this,n=jQuery('\n            <div class="joe_codeResetModal">\n            <div style="flex: 1"></div>\n            <div style="display: flex">\n                <div style="flex: 1"></div>\n                <div style="padding-left: 30px;">\n                <div style="color: red; margin-bottom: 10px; font-weight: bold">Warnung:</div>\n                <div>Soll der Code wirklich auf den Ausgangszustand zurückgesetzt werden?</div>\n                <div>Alle von Dir gemachten Änderungen werden damit verworfen.</div>\n                </div>\n                <div style="flex: 1"></div>\n            </div>\n            <div class="joe_codeResetModalButtons">\n            <div class="joe_codeResetModalCancel jo_button jo_active">Abbrechen</div>\n            <div class="joe_codeResetModalOK jo_button jo_active">OK</div>\n            </div>\n            <div style="flex: 2"></div>\n            </div>\n        ');return n.hide(),e.append(n),jQuery(".joe_codeResetModalCancel").on("click",(function(){n.hide()})),jQuery(".joe_codeResetModalOK").on("click",(function(){t.initScripts(),t.deleteScriptsInDB(),n.hide(),t.$resetButton.hide(),t.compileRunsAfterCodeReset=1})),n}},{key:"showProgramPointerPosition",value:function(e,t){if(null!=e){if(this.config.withFileList){var n=this.fileExplorer.files.find((function(t){return t.module.file==e}));if(null==n)return;n.module!=this.getCurrentlyEditedModule()&&this.setModuleActive(n.module),this.programPointerModule=n.module}else this.programPointerModule=this.currentWorkspace.moduleStore.getFirstModule();var i={startColumn:t.column,startLineNumber:t.line,endColumn:t.column+t.length,endLineNumber:t.line};this.getMonacoEditor().revealRangeInCenterIfOutsideViewport(i),this.programPointerDecoration=this.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[{range:i,options:{className:"jo_revealProgramPointer",isWholeLine:!0}},{range:i,options:{beforeContentClassName:"jo_revealProgramPointerBefore"}}])}}},{key:"hideProgramPointerPosition",value:function(){this.getCurrentlyEditedModule()==this.programPointerModule&&this.getMonacoEditor().deltaDecorations(this.programPointerDecoration,[]),this.programPointerModule=null,this.programPointerDecoration=[]}},{key:"makeFilesDiv",value:function(){var e=jQuery('<div class="joe_bottomDivFiles jo_scrollable"></div>'),t=jQuery('<div class="joe_filesHeader jo_tabheading jo_active"  style="line-height: 24px">Programmdateien</div>');return this.$filesListDiv=jQuery('<div class="joe_filesList jo_scrollable"></div>'),e.append(t,this.$filesListDiv),e}},{key:"startTimer",value:function(){null!=this.timerHandle&&clearInterval(this.timerHandle);var e=this;this.timerHandle=setInterval((function(){e.compileIfDirty()}),500)}},{key:"compileIfDirty",value:function(){var e,t;if(null!=this.currentWorkspace&&this.currentWorkspace.moduleStore.isDirty()&&this.compiler.compilerStatus!=ei.compiling&&this.interpreter.state!=ic.running&&this.interpreter.state!=ic.paused)try{this.compiler.compile(this.currentWorkspace.moduleStore),null===(t=null===(e=this.bottomDiv)||void 0===e?void 0:e.errorManager)||void 0===t||t.showErrors(this.currentWorkspace),this.editor.onDidChangeCursorPosition(null),this.printProgram(),this.version++;var n=null!=this.interpreter.getStartableModule(this.currentWorkspace.moduleStore);n&&this.interpreter.state==ic.not_initialized&&(this.copyExecutableModuleStoreToInterpreter(),this.interpreter.setState(ic.done),this.config.hideStartPanel&&this.actionManager.trigger("interpreter.start")),n||this.interpreter.state!=ic.done&&this.interpreter.state!=ic.error||this.interpreter.setState(ic.not_initialized)}catch(e){console.error(e),this.compiler.compilerStatus=ei.error}}},{key:"considerShowingCodeResetButton",value:function(){this.compileRunsAfterCodeReset++,3==this.compileRunsAfterCodeReset&&this.$resetButton.fadeIn(1e3)}},{key:"printProgram",value:function(){this.bottomDiv.printModuleToBottomDiv(this.currentWorkspace,this.getCurrentlyEditedModule())}},{key:"drawClassDiagrams",value:function(e){}},{key:"copyExecutableModuleStoreToInterpreter",value:function(){var e=this.currentWorkspace.moduleStore.copy();this.interpreter.moduleStore=e,this.interpreter.moduleStoreVersion=this.version,this.interpreter.state==ic.not_initialized&&this.programIsExecutable&&this.interpreter.setState(ic.done)}},{key:"saveWorkspaceToFile",value:function(){var e=prompt("Bitte geben Sie den Dateinamen ein","workspace.json");if(null!=e){e.endsWith(".json")||(e+=".json");var t=this.currentWorkspace;t.name.replace(/\//g,"_"),da(t.toExportedWorkspace(),e)}else alert("Der Dateiname ist leer, daher wird nichts gespeichert.")}},{key:"makeBottomDiv",value:function(e,t){var n=jQuery('<div class="jo_tabheadings"></div>');n.css("position","relative");var i=jQuery('<div class="joe_tabheading-right jo_noHeading"></div>');if(i.append(t),this.config.withConsole){var r=jQuery('<div class="img_clear-dark jo_button jo_active jo_console-clear"style="display: none; margin-left: 8px;" title="Console leeren"></div>');i.append(r)}if(this.config.withErrorList){var o=jQuery('<div class="jo_tabheading jo_active" data-target="jo_errorsTab" style="line-height: 24px">Fehler</div>');n.append(o)}if(this.config.withConsole){var a=jQuery('<div class="jo_tabheading jo_console-tab" data-target="jo_consoleTab" style="line-height: 24px">Console</div>');n.append(a)}if(this.config.withPCode){var s=jQuery('<div class="jo_tabheading" data-target="jo_pcodeTab" style="line-height: 24px">PCode</div>');n.append(s)}n.append(i),e.append(n);var l=jQuery('<div class="jo_tabs jo_scrollable"></div>');if(this.config.withErrorList){var u=jQuery('<div class="jo_active jo_scrollable jo_errorsTab"></div>');l.append(u)}if(this.config.withConsole){var c=jQuery('\n        <div class="jo_editorFontSize jo_consoleTab">\n        <div class="jo_console-inner">\n            <div class="jo_scrollable jo_console-top"></div>\n            <div class="jo_commandline"></div>\n        </div>\n        </div>\n    ');l.append(c)}if(this.config.withPCode){var d=jQuery('<div class="jo_scrollable jo_pcodeTab">PCode</div>');l.append(d)}e.append(l)}},{key:"loadWorkspaceFromFile",value:function(e){var t=this,n=this;if(null!=e){var i=new FileReader;i.onload=function(i){var r=i.target.result;if(r.startsWith("{")){var o=JSON.parse(r);if(null!=o.modules&&null!=o.name&&null!=o.settings){var a=new ka(o.name,t,0);a.settings=o.settings,a.alterAdditionalLibraries();var s,l=Bk(o.modules);try{for(l.s();!(s=l.n()).done;){var u=s.value,c={name:u.name,dirty:!1,saved:!0,text:u.text,text_before_revision:null,submitted_date:null,student_edited_after_revision:!1,version:1,is_copy_of_id:null,repository_file_version:null,identical_to_repository_version:null},d=new Tk(c,t);a.moduleStore.putModule(d)}}catch(e){l.e(e)}finally{l.f()}n.currentWorkspace=a,null!=n.fileExplorer?(n.fileExplorer.removeAllFiles(),a.moduleStore.getModules(!1).forEach((function(e){return n.fileExplorer.addModule(e)})),n.fileExplorer.setFirstFileActive()):t.setModuleActive(t.currentWorkspace.moduleStore.getFirstModule()),n.saveScripts()}else alert("<div>Das Format der Datei ".concat(e.name," passt nicht.</div>"))}else alert("<div>Das Format der Datei ".concat(e.name," passt nicht.</div>"))},i.readAsText(e)}}},{key:"makeRightDiv",value:function(){var e=jQuery('<div class="joe_rightDiv"></div>');if(this.$rightDivInner=jQuery('<div class="joe_rightDivInner"></div>'),e.append(this.$rightDivInner),this.$debuggerDiv=jQuery('<div class="joe_debuggerDiv"></div>'),this.$runDiv=jQuery('\n            <div class="jo_tab jo_active jo_run">\n            <div class="jo_run-programend">Programm beendet</div>\n            <div class="jo_run-input">\n            <div>\n            <div>\n        <div class="jo_run-input-message" class="jo_rix">Bitte geben Sie eine Zahl ein!</div>\n        <input class="jo_run-input-input" type="text" class="jo_rix">\n        <div class="jo_run-input-button-outer" class="jo_rix">\n        <div class="jo_run-input-button" class="jo_rix">OK</div>\n        </div>\n        \n        <div class="jo_run-input-error" class="jo_rix"></div>\n    </div>\n    </div>\n    </div> \n    <div class="jo_run-inner">\n    <div class="jo_graphics"></div>\n    <div class="jo_output jo_scrollable"></div>\n    </div>\n    \n    </div>\n    \n    '),this.config.hideEditor)this.$rightDivInner.append(this.$runDiv);else{var t=jQuery('<div class="jo_tabheadings"></div>');t.css("position","relative");var n=jQuery('<div class="jo_tabheading jo_active" data-target="jo_run" style="line-height: 24px">Ausgabe</div>'),i=jQuery('<div class="jo_tabheading jo_console-tab" data-target="jo_variablesTab" style="line-height: 24px">Variablen</div>');t.append(n,i),this.$rightDivInner.append(t);var r=jQuery('<div class="jo_scrollable jo_editorFontSize jo_variablesTab"></div>'),o=jQuery('\n            <div class="jo_alternativeText jo_scrollable">\n            <div style="font-weight: bold">Tipp:</div>\n            Die Variablen sind nur dann sichtbar, wenn das Programm\n            <ul>\n            <li>im Einzelschrittmodus ausgeführt wird(Klick auf <span class="img_step-over-dark jo_inline-image"></span>),</li>\n            <li>an einem Breakpoint hält (Setzen eines Breakpoints mit Mausklick links neben den Zeilennummern und anschließendes Starten des Programms mit \n                <span class="img_start-dark jo_inline-image"></span>) oder </li>\n                <li>in sehr niedriger Geschwindigkeit ausgeführt wird (weniger als 10 Schritte/s).\n                </ul>\n                </div>\n                ');r.append(this.$debuggerDiv,o);var a=jQuery('<div class="jo_tabs jo_scrollable"></div>');a.append(this.$runDiv,r),this.$rightDivInner.append(a),aa(e)}return e}},{key:"getSemicolonAngel",value:function(){return this.semicolonAngel}}])&&Wk(t.prototype,n),i&&Wk(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nk(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Hk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"EmbeddedStarter",(function(){return Kk}));var Vk=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},Kk=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startupComplete=2,this.mainEmbeddedList=[]}var t,n,i;return t=e,(n=[{key:"initGUI",value:function(){this.initTypes(),this.checkStartupComplete(),this.correctPIXITransform(),PIXI.utils.skipHello(),this.themeManager=new pn}},{key:"correctPIXITransform",value:function(){PIXI.Transform.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}}},{key:"initEditor",value:function(){(new cn).init(),this.checkStartupComplete()}},{key:"checkStartupComplete",value:function(){this.startupComplete--,0==this.startupComplete&&this.start()}},{key:"initTypes",value:function(){Rt.init(),Bt.init(),Lt.init(),Wt.init(),Gt.init(),$t.init(),Ht.init(),Qt.init(),Ut.init(),Zt.init(),Xt.init(),qt.init()}},{key:"start",value:function(){this.initJavaOnlineDivs()}},{key:"initJavaOnlineDivs",value:function(){return Vk(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],jQuery(".java-online").each((function(e,n){var i=jQuery(n),r=[];i.find("script").each((function(e,t){var n=jQuery(t),i="java";null!=n.data("type")&&(i=n.data("type"));var a=n.attr("src"),s=n.text().trim(),l={type:i,title:n.attr("title"),text:s};null!=a&&(l.url=a),l.text=o.eraseDokuwikiSearchMarkup(l.text),r.push(l)})),t.push([i,r])})),n=0,i=t;case 3:if(!(n<i.length)){e.next=10;break}return r=i[n],e.next=7,this.initDiv(r[0],r[1]);case 7:n++,e.next=3;break;case 10:case"end":return e.stop()}}),e,this)})))}},{key:"eraseDokuwikiSearchMarkup",value:function(e){return e.replace(/<span class="search\whit">(.*?)<\/span>/g,"$1")}},{key:"initDiv",value:function(e,t){return Vk(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=Nk(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=14;break}if(null==(o=r.value).url){n.next=12;break}return n.next=8,fetch(o.url);case 8:return a=n.sent,n.next=11,a.text();case 11:o.text=n.sent;case 12:n.next=3;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(1),i.e(n.t0);case 19:return n.prev=19,i.f(),n.finish(19);case 22:new Gk(e,t);case 23:case"end":return n.stop()}}),n,null,[[1,16,19,22]])})))}}])&&Hk(t.prototype,n),i&&Hk(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();jQuery((function(){var e=new Kk,t="",n="lib/monaco-editor/dev/vs";null!=window.javaOnlineDir&&(t=window.javaOnlineDir),null!=window.monacoEditorPath&&(n=window.monacoEditorPath),window.require.config({paths:{vs:t+n}}),window.require.config({"vs/nls":{availableLanguages:{"*":"de"}},ignoreDuplicateModules:["vs/editor/editor.main"]}),window.require(["vs/editor/editor.main"],(function(){e.initEditor(),e.initGUI()})),PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST,PIXI.Loader.shared.add("spritesheet",t+"assets/graphics/spritesheet.json").add("steve",t+"assets/graphics/robot/minecraft_steve/scene.gltf").load((function(){}))}))}]);
//# sourceMappingURL=javaOnline-embedded.js.map