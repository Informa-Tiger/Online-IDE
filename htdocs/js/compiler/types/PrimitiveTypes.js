import { TokenType, TokenTypeReadable } from "../lexer/Token.js";
import { ArrayType } from "./Array.js";
import { Interface, Klass, setBooleanPrimitiveTypeCopy } from "./Class.js";
import { ObjectClass } from "./ObjectClass.js";
import { Method, Parameterlist, PrimitiveType, Type } from "./Types.js";
import { IntegerClass } from "./boxedTypes/IntegerClass.js";
import { LongClass } from "./boxedTypes/LongClass.js";
import { FloatClass } from "./boxedTypes/FloatClass.js";
import { CharacterClass } from "./boxedTypes/CharacterClass.js";
import { BooleanClass } from "./boxedTypes/BooleanClass.js";
import { DoubleClass } from "./boxedTypes/DoubleClass.js";
import { floatToString, nullToString } from "../../tools/StringTools.js";
export class NullType extends Type {
    constructor() {
        super();
        this.identifier = "null";
    }
    getResultType(operation, secondOperandType) {
        return null;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    canCastTo(type) {
        return (type instanceof Klass || type instanceof Interface || type instanceof ArrayType);
    }
    castTo(value, type) {
        return {
            value: value.value,
            type: type
        };
    }
    equals(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    debugOutput(value) {
        return "null";
    }
}
export class VarType extends Type {
    constructor() {
        super();
        this.identifier = "var";
    }
    getResultType(operation, secondOperandType) {
        return null;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    canCastTo(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    castTo(value, type) {
        return value;
    }
    equals(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    debugOutput(value) {
        return "var";
    }
}
export class IntPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "int";
        this.description = "ganze Zahl";
        this.operationTable = {
            [TokenType.plus]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": intPrimitiveType, "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.modulo]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.division]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": intPrimitiveType },
            [TokenType.doubleMinus]: { "none": intPrimitiveType },
            [TokenType.negation]: { "none": intPrimitiveType },
            [TokenType.tilde]: { "none": intPrimitiveType },
            [TokenType.lower]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            // binary ops
            [TokenType.OR]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.XOR]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.ampersand]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftLeft]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftRight]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftRightUnsigned]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType }
        };
        // this.canCastTolist = [floatPrimitiveType, doublePrimitiveType, stringPrimitiveType, charPrimitiveType];
        this.canCastToMap = {
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "char": { automatic: true, needsStatement: true },
            "int": { automatic: true, needsStatement: false },
            "long": { automatic: true, needsStatement: false },
            "Integer": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.integerConstant;
    }
    castTo(value, type) {
        if (type == charPrimitiveType) {
            return {
                type: type,
                value: String.fromCharCode(value.value)
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                if (secondOperand.type == intPrimitiveType) {
                    return Math.trunc(value / (secondOperand.value));
                }
                return value / (secondOperand.value);
            case TokenType.modulo:
                if (secondOperand.type == intPrimitiveType) {
                    return Math.trunc(value % (secondOperand.value));
                }
                return 1;
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.tilde:
                return ~value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.OR:
                return value | (secondOperand.value);
            case TokenType.XOR:
                return value ^ (secondOperand.value);
            case TokenType.ampersand:
                return value & (secondOperand.value);
            case TokenType.shiftLeft:
                return value << (secondOperand.value);
            case TokenType.shiftRight:
                return value >> (secondOperand.value);
            case TokenType.shiftRightUnsigned:
                return value >>> (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class LongPrimitiveType extends IntPrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "long";
        this.description = "ganze Zahl";
        this.operationTable = {
            [TokenType.plus]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": intPrimitiveType, "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.modulo]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.division]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": intPrimitiveType },
            [TokenType.doubleMinus]: { "none": intPrimitiveType },
            [TokenType.negation]: { "none": intPrimitiveType },
            [TokenType.tilde]: { "none": intPrimitiveType },
            [TokenType.lower]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            // binary ops
            [TokenType.OR]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.XOR]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.ampersand]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.shiftLeft]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.shiftRight]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.shiftRightUnsigned]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType }
        };
        // this.canCastTolist = [floatPrimitiveType, doublePrimitiveType, stringPrimitiveType, charPrimitiveType];
        this.canCastToMap = {
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "char": { automatic: true, needsStatement: true },
            "int": { automatic: false, needsStatement: false },
            "long": { automatic: true, needsStatement: false },
            "Integer": { automatic: true, needsStatement: false },
            "Long": { automatic: true, needsStatement: false },
        };
    }
    toTokenType() {
        return TokenType.longConstant;
    }
}
export class FloatPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "float";
        this.description = "Fließkommazahl mit einfacher Genauigkeit";
        this.operationTable = {
            [TokenType.plus]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": floatPrimitiveType, "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.division]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": floatPrimitiveType },
            [TokenType.doubleMinus]: { "none": floatPrimitiveType },
            [TokenType.negation]: { "none": floatPrimitiveType },
            [TokenType.lower]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
        };
        // this.canCastTolist = [intPrimitiveType, stringPrimitiveType, doublePrimitiveType];
        this.canCastToMap = {
            "int": { automatic: false, needsStatement: true },
            "double": { automatic: true, needsStatement: false },
            "float": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "Float": { automatic: true, needsStatement: true },
            "Double": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.floatingPointConstant;
    }
    castTo(value, type) {
        if (type == intPrimitiveType) {
            return {
                type: type,
                value: Math.trunc(value.value)
            };
        }
        // if (type == doublePrimitiveType || type == DoubleType || type == FloatType) {
        //     return {
        //         type: type,
        //         value: value.value
        //     }
        // }
    }
    valueToString(value) {
        return floatToString(value.value);
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                return value / (secondOperand.value);
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class DoublePrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "double";
        this.description = "Fließkommazahl mit doppelter Genauigkeit";
        this.operationTable = {
            [TokenType.plus]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": doublePrimitiveType, "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.division]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": doublePrimitiveType },
            [TokenType.doubleMinus]: { "none": doublePrimitiveType },
            [TokenType.negation]: { "none": doublePrimitiveType },
            [TokenType.lower]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
        };
        // this.canCastTolist = [intPrimitiveType, stringPrimitiveType, floatPrimitiveType];
        this.canCastToMap = {
            "int": { automatic: false, needsStatement: true },
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "Float": { automatic: true, needsStatement: true },
            "Double": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.floatingPointConstant;
    }
    castTo(value, type) {
        // let unboxed = this.unboxFrom(value, type);
        // if (unboxed != null) return unboxed;
        if (type == intPrimitiveType) {
            return {
                type: type,
                value: Math.trunc(value.value)
            };
        }
        // if (type == floatPrimitiveType || type == FloatType || type == DoubleType) {
        //     return {
        //         type: type,
        //         value: value.value
        //     }
        // }
    }
    valueToString(value) {
        return floatToString(value.value);
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                return value / (secondOperand.value);
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class BooleanPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = false;
        this.identifier = "boolean";
        this.description = "boolescher Wert (true oder false)";
        this.operationTable = {
            [TokenType.plus]: {},
            [TokenType.and]: { "boolean": booleanPrimitiveType },
            [TokenType.or]: { "boolean": booleanPrimitiveType },
            [TokenType.not]: { "none": booleanPrimitiveType },
            [TokenType.equal]: { "boolean": booleanPrimitiveType },
            [TokenType.notEqual]: { "boolean": booleanPrimitiveType },
        };
        this.canCastToMap = {
            "boolean": { automatic: true, needsStatement: false },
            "Boolean": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.booleanConstant;
    }
    castTo(value, type) {
        return undefined;
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                return value + nullToString((secondOperand.value));
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.and:
                return value && (secondOperand.value);
            case TokenType.or:
                return value || (secondOperand.value);
            case TokenType.not:
                return !value;
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class VoidPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = false;
        this.identifier = "void";
        this.description = "leerer Rückgabewert";
        this.operationTable = {};
        this.canCastToMap = {};
    }
    toTokenType() {
        return TokenType.keywordVoid;
    }
    castTo(value, type) {
        return value;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    debugOutput(value) {
        return "void";
    }
}
export class StringPrimitiveType extends Klass {
    constructor(baseClass) {
        super("String", null, "Ein Objekt der Klasse String speichert eine Zeichenkette.");
        this.baseClass = baseClass;
        let stringClass = this;
        baseClass.methods.filter(m => m.identifier == "toString").forEach(m => m.returnType = stringClass);
    }
    toTokenType() {
        return TokenType.stringConstant;
    }
    getResultType(operation, secondOperandType) {
        if (operation == TokenType.keywordInstanceof) {
            return super.getResultType(operation, secondOperandType);
        }
        let opTypeMap = this.operationTable[operation];
        if (opTypeMap == null) {
            return null; // Operation not possible
        }
        if (secondOperandType != null) {
            return opTypeMap[secondOperandType.identifier];
        }
        return opTypeMap["none"];
    }
    init() {
        this.operationTable = {
            [TokenType.plus]: {
                "String": stringPrimitiveType //, "int": stringPrimitiveType,
                // "float": stringPrimitiveType, "double": stringPrimitiveType,
                // "boolean": stringPrimitiveType, "char": stringPrimitiveType
            },
            [TokenType.equal]: { "String": booleanPrimitiveType, "null": booleanPrimitiveType },
            [TokenType.notEqual]: { "String": booleanPrimitiveType, "null": booleanPrimitiveType },
            [TokenType.lower]: { "String": booleanPrimitiveType },
            [TokenType.greater]: { "String": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "String": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "String": booleanPrimitiveType }
        };
        this.addMethod(new Method("length", new Parameterlist([]), intPrimitiveType, (parameters) => { return parameters[0].value.length; }, false, false, "Länge der Zeichenkette, d.h. Anzahl der Zeichen in der Zeichenkette."));
        this.addMethod(new Method("charAt", new Parameterlist([{ identifier: "Position", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), charPrimitiveType, (parameters) => { return parameters[0].value.charAt((parameters[1].value)); }, false, false, "Zeichen an der gegebenen Position.\n**Bem.: ** Position == 0 bedeutet das erste Zeichen in der Zeichenkette, Position == 1 das zweite usw. ."));
        this.addMethod(new Method("equals", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return parameters[0].value == (parameters[1].value); }, false, false, "Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (unter Berücksichtigung von Klein-/Großschreibung)."));
        this.addMethod(new Method("compareTo", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).localeCompare((parameters[1].value), 'de', { caseFirst: 'upper' }); }, false, false, "Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind."));
        this.addMethod(new Method("compareToIgnoreCase", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).localeCompare((parameters[1].value), 'de', { sensitivity: "accent" }); }, false, false, "Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind."));
        this.addMethod(new Method("equalsIgnoreCase", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).toLowerCase() == (parameters[1].value).toLowerCase(); }, false, false, "Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (**ohne** Berücksichtigung von Klein-/Großschreibung)."));
        this.addMethod(new Method("endsWith", new Parameterlist([{ identifier: "suffix", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).endsWith((parameters[1].value)); }, false, false, "Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = suffix) endet. Klein-/Großschreibung wird dabei berücksichtigt!"));
        this.addMethod(new Method("startsWith", new Parameterlist([{ identifier: "präfix", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).startsWith((parameters[1].value)); }, false, false, "Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = präfix) beginnt. Klein-/Großschreibung wird dabei berücksichtigt!"));
        this.addMethod(new Method("toLowerCase", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).toLocaleLowerCase(); }, false, false, "Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Großbuchstaben durch den entsprechenden Kleinbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht."));
        this.addMethod(new Method("toUpperCase", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).toLocaleUpperCase(); }, false, false, "Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Kleinbuchstaben durch den entsprechenden Großbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht."));
        this.addMethod(new Method("substring", new Parameterlist([{ identifier: "beginIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), stringPrimitiveType, (parameters) => { return (parameters[0].value).substring((parameters[1].value)); }, false, false, "Gibt das hintere Ende der Zeichenkette ab **beginIndex** zurück. **beginIndex** == 1 bedeutet, dass die Zeichenkette ab dem 2.(!) Zeichen zurückgegeben wird. "));
        this.addMethod(new Method("substring", new Parameterlist([{ identifier: "beginIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "endIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), stringPrimitiveType, (parameters) => { return (parameters[0].value).substring((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die Teil-Zeichenkette von **beginIndex** bis **endIndex** zurück.\n**Vorsicht: ** beginIndex und endIndex sind nullbasiert, d.h. beginIndex == 0 bedeutet die Position vor dem ersten Zeichen."));
        this.addMethod(new Method("trim", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).trim(); }, false, false, "Gibt die Zeichenkette zurück, die entsteht, wenn man am Anfang und Ende der Zeichenkette alle Leerzeichen, Tabs und Zeilenumbrüche entfernt."));
        this.addMethod(new Method("isEmpty", new Parameterlist([]), booleanPrimitiveType, (parameters) => { return (parameters[0].value) == ""; }, false, false, "Gibt genau dann wahr zurück, wenn die Zeichenkette leer ist.\n**Warnung: ** Die Methode darf nicht mit dem '''null'''-Objekt aufgerufen werden!"));
        this.addMethod(new Method("indexOf", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).indexOf((parameters[1].value)); }, false, false, "Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird."));
        this.addMethod(new Method("indexOf", new Parameterlist([
            { identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "fromIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), intPrimitiveType, (parameters) => { return (parameters[0].value).indexOf((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex mit der Suche begonnen."));
        this.addMethod(new Method("lastIndexOf", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).lastIndexOf((parameters[1].value)); }, false, false, "Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird."));
        this.addMethod(new Method("lastIndexOf", new Parameterlist([
            { identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "fromIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), intPrimitiveType, (parameters) => { return (parameters[0].value).lastIndexOf((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex - von rechts her beginnend - gesucht."));
        this.addMethod(new Method("replace", new Parameterlist([
            { identifier: "target", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => { return (parameters[0].value).replace((parameters[1].value), (parameters[2].value)); }, false, false, "Ersetzt alle Vorkommen von **target** durch **replacement** und gibt die entstandene Zeichenkette zurück. Die Zeichenkette selbst wird nicht verändert."));
        this.addMethod(new Method("replaceAll", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, 'g');
            return (parameters[0].value).replace(regExp, (parameters[2].value));
        }, false, false, "Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **alle** Fundstellen durch **replacement**."));
        this.addMethod(new Method("matches", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }
        ]), booleanPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, 'g');
            return (parameters[0].value).match(regExp) != null;
        }, false, false, "Gibt genau dann true zurück, wenn der Wert der Zeichenkette dem regulären Ausdruck (regex) entspricht."));
        this.addMethod(new Method("replaceFirst", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, '');
            return (parameters[0].value).replace(regExp, (parameters[2].value));
        }, false, false, "Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **die erste** Fundstelle durch **replacement**."));
        this.addMethod(new Method("split", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), new ArrayType(stringPrimitiveType), (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, '');
            let strings = (parameters[0].value).split(regExp);
            let values = [];
            for (let s of strings) {
                values.push({ type: stringPrimitiveType, value: s });
            }
            return values;
        }, false, false, "Teilt die Zeichenkette an den Stellen, die durch den regulären Ausdruck (regex) definiert sind, in Teile auf. Die Fundstellen des regex werden dabei weggelassen. Gibt die Teile als String-Array zurück."));
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        let err = checkNotNull(operation, this, firstOperand, secondOperand, [TokenType.plus, TokenType.keywordInstanceof]);
        if (err != null)
            return err;
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType || secondOperand.type == charPrimitiveType) {
                    return nullToString(value) + (secondOperand.value); // because null + null = 0 in javascript
                }
                else if (secondOperand.type == booleanPrimitiveType) {
                    return nullToString(value) + (secondOperand.value);
                }
                else {
                    return nullToString(value) + (secondOperand.value);
                }
            case TokenType.lower:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) < 0;
            // return value < (<string>(secondOperand.value));
            case TokenType.greater:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) > 0;
            // return value > <string>(secondOperand.value);
            case TokenType.lowerOrEqual:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) <= 0;
            // return value <= <string>(secondOperand.value);
            case TokenType.greaterOrEqual:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) >= 0;
            // return value >= <string>(secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.keywordInstanceof:
                return super.compute(operation, firstOperand, secondOperand);
        }
    }
    allowsNull() { return true; }
    debugOutput(value) {
        return '"' + value.value + '"';
    }
}
export class CharPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = "\u0000";
        this.identifier = "char";
        this.description = "ein Zeichen";
        this.operationTable = {
            [TokenType.plus]: { "String": stringPrimitiveType, "char": stringPrimitiveType },
            [TokenType.equal]: { "char": booleanPrimitiveType },
            [TokenType.notEqual]: { "char": booleanPrimitiveType },
            [TokenType.lower]: { "char": booleanPrimitiveType },
            [TokenType.greater]: { "char": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "char": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "char": booleanPrimitiveType }
        };
        // this.canCastTolist = [intPrimitiveType, floatPrimitiveType, doublePrimitiveType, stringPrimitiveType];
        this.canCastToMap = {
            "int": { automatic: true, needsStatement: true },
            "float": { automatic: true, needsStatement: true },
            "double": { automatic: true, needsStatement: true },
            "String": { automatic: true, needsStatement: true },
            "char": { automatic: true, needsStatement: false },
            "Character": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.charConstant;
    }
    castTo(value, type) {
        // let unboxed = this.unboxFrom(value, type);
        // if (unboxed != null) return unboxed;
        // if (type == stringPrimitiveType || type == CharacterType) {
        //     return {
        //         type: type,
        //         value: value
        //     }
        // }
        if (type == intPrimitiveType || type == floatPrimitiveType || type == doublePrimitiveType) {
            return {
                type: type,
                value: value.value.charCodeAt(0)
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                return value + (secondOperand.value);
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "'" + value.value + "'";
    }
}
export var voidPrimitiveType = new VoidPrimitiveType();
export var intPrimitiveType = new IntPrimitiveType();
export var longPrimitiveType = new LongPrimitiveType();
export var floatPrimitiveType = new FloatPrimitiveType();
export var doublePrimitiveType = new DoublePrimitiveType();
export var booleanPrimitiveType = new BooleanPrimitiveType();
setBooleanPrimitiveTypeCopy(booleanPrimitiveType);
export var objectType = new ObjectClass(null);
export var stringPrimitiveType = new StringPrimitiveType(objectType);
export var charPrimitiveType = new CharPrimitiveType();
export var nullType = new NullType();
export var varType = new VarType();
export var IntegerType = new IntegerClass(objectType);
export var LongType = new LongClass(objectType);
export var FloatType = new FloatClass(objectType);
export var DoubleType = new DoubleClass(objectType);
export var CharacterType = new CharacterClass(objectType);
export var BooleanType = new BooleanClass(objectType);
export var TokenTypeToDataTypeMap = {
    [TokenType.integerConstant]: intPrimitiveType,
    [TokenType.longConstant]: longPrimitiveType,
    [TokenType.floatingPointConstant]: floatPrimitiveType,
    [TokenType.booleanConstant]: booleanPrimitiveType,
    [TokenType.stringConstant]: stringPrimitiveType,
    [TokenType.charConstant]: charPrimitiveType,
    [TokenType.keywordNull]: nullType
};
function checkNotNull(operation, type, firstOperand, secondOperand, nullAllowedFor = []) {
    if ((firstOperand.value == null || secondOperand.value == null) && !nullAllowedFor.concat([TokenType.equal, TokenType.notEqual]).includes(operation)) {
        let typeAndNull = (v) => v.value == null ? "(" + type.identifier + ")" + " null" : type.identifier;
        return new OperandIsNull("Unerlaubte Rechnung mit null: " + typeAndNull(firstOperand) + " " + TokenTypeReadable[operation] + " " + typeAndNull(secondOperand));
    }
    return null;
}
export class OperandIsNull extends Error {
    constructor(message) {
        super(message);
        this.name = "OperandIsNullError";
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWl0aXZlVHlwZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY2xpZW50L2NvbXBpbGVyL3R5cGVzL1ByaW1pdGl2ZVR5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzNFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFTLE1BQU0sWUFBWSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDNUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRTFELE9BQU8sRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFekUsTUFBTSxPQUFPLFFBQVMsU0FBUSxJQUFJO0lBRTlCO1FBQ0ksS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztJQUM3QixDQUFDO0lBRUQsYUFBYSxDQUFDLFNBQW9CLEVBQUUsaUJBQXVCO1FBQ3ZELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7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LEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNqUCxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN0UCxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN4UCxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUMvTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFB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QW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQ2pQLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQ3RQLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQ3hQLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBQy9PLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFO1lBRWxQLGFBQWE7WUFDYixDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxLQUFLLEVBQUUsaUJBQWlC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LENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLGtMQUFrTCxDQUFDLENBQUMsQ0FBQztRQUMvVSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLHFCQUFxQixFQUFFLElBQUksYUFBYSxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxnQkFBZ0IsRUFDck0sQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLE9BQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBRSxDQUFDLGFBQWEsQ0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLGtMQUFrTCxDQUFDLENBQUMsQ0FBQztRQUNsVixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksTUFBTSxDQUFDLGtCQUFrQixFQUFFLElBQUksYUFBYSxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxvQkFBb0IsRUFDdE0sQ0FBQyxVQUFVLEVBQUUsRUFBRSxHQUFHLE9BQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBRSxDQUFDLFdBQVcsRUFBRSxJQUFhLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsb0lBQW9JLENBQUMs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QUFHLEdBQUcsR0FBRyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztLQUNsSztJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFRCxNQUFNLE9BQU8sYUFBYyxTQUFRLEtBQUs7SUFDcEMsWUFBWSxPQUFnQjtRQUN4QixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLG9CQUFvQixDQUFDO0lBQ3JDLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRva2VuVHlwZSwgVG9rZW5UeXBlUmVhZGFibGUgfSBmcm9tIFwiLi4vbGV4ZXIvVG9rZW4uanNcIjtcclxuaW1wb3J0IHsgQXJyYXlUeXBlIH0gZnJvbSBcIi4vQXJyYXkuanNcIjtcclxuaW1wb3J0IHsgSW50ZXJmYWNlLCBLbGFzcywgc2V0Qm9vbGVhblByaW1pdGl2ZVR5cGVDb3B5IH0gZnJvbSBcIi4vQ2xhc3MuanNcIjtcclxuaW1wb3J0IHsgT2JqZWN0Q2xhc3MgfSBmcm9tIFwiLi9PYmplY3RDbGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBNZXRob2QsIFBhcmFtZXRlcmxpc3QsIFByaW1pdGl2ZVR5cGUsIFR5cGUsIFZhbHVlIH0gZnJvbSBcIi4vVHlwZXMuanNcIjtcclxuaW1wb3J0IHsgSW50ZWdlckNsYXNzIH0gZnJvbSBcIi4vYm94ZWRUeXBlcy9JbnRlZ2VyQ2xhc3MuanNcIjtcclxuaW1wb3J0IHsgTG9uZ0NsYXNzIH0gZnJvbSBcIi4vYm94ZWRUeXBlcy9Mb25nQ2xhc3MuanNcIjtcclxuaW1wb3J0IHsgRmxvYXRDbGFzcyB9IGZyb20gXCIuL2JveGVkVHlwZXMvRmxvYXRDbGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBDaGFyYWN0ZXJDbGFzcyB9IGZyb20gXCIuL2JveGVkVHlwZXMvQ2hhcmFjdGVyQ2xhc3MuanNcIjtcclxuaW1wb3J0IHsgQm9vbGVhbkNsYXNzIH0gZnJvbSBcIi4vYm94ZWRUeXBlcy9Cb29sZWFuQ2xhc3MuanNcIjtcclxuaW1wb3J0IHsgRG91YmxlQ2xhc3MgfSBmcm9tIFwiLi9ib3hlZFR5cGVzL0RvdWJsZUNsYXNzLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVNlbWFudGljRGlhZ25vc3RpY3NCdWlsZGVyUHJvZ3JhbSB9IGZyb20gXCJ0eXBlc2NyaXB0XCI7XHJcbmltcG9ydCB7IGZsb2F0VG9TdHJpbmcsIG51bGxUb1N0cmluZyB9IGZyb20gXCIuLi8uLi90b29scy9TdHJpbmdUb29scy5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE51bGxUeXBlIGV4dGVuZHMgVHlwZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcIm51bGxcIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXN1bHRUeXBlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBzZWNvbmRPcGVyYW5kVHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZDogVmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNhbkNhc3RUbyh0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuICh0eXBlIGluc3RhbmNlb2YgS2xhc3MgfHwgdHlwZSBpbnN0YW5jZW9mIEludGVyZmFjZSB8fCB0eXBlIGluc3RhbmNlb2YgQXJyYXlUeXBlKTtcclxuICAgIH1cclxuICAgIGNhc3RUbyh2YWx1ZTogVmFsdWUsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWUsXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZXF1YWxzKHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gKHR5cGUgaW5zdGFuY2VvZiBLbGFzcyB8fCB0eXBlIGluc3RhbmNlb2YgSW50ZXJmYWNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJudWxsXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWYXJUeXBlIGV4dGVuZHMgVHlwZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcInZhclwiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlc3VsdFR5cGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIHNlY29uZE9wZXJhbmRUeXBlOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kOiBWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY2FuQ2FzdFRvKHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gKHR5cGUgaW5zdGFuY2VvZiBLbGFzcyB8fCB0eXBlIGluc3RhbmNlb2YgSW50ZXJmYWNlKTtcclxuICAgIH1cclxuICAgIGNhc3RUbyh2YWx1ZTogVmFsdWUsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBlcXVhbHModHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiAodHlwZSBpbnN0YW5jZW9mIEtsYXNzIHx8IHR5cGUgaW5zdGFuY2VvZiBJbnRlcmZhY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcInZhclwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW50UHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcImludFwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJnYW56ZSBaYWhsXCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm1pbnVzXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5tdWx0aXBsaWNhdGlvbl06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5tb2R1bG9dOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRpdmlzaW9uXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRvdWJsZVBsdXNdOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlTWludXNdOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubmVnYXRpb25dOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUudGlsZGVdOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlcl06IHsgXCJsb25nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlck9yRXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90RXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcblxyXG4gICAgICAgICAgICAvLyBiaW5hcnkgb3BzXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuT1JdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLlhPUl06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuYW1wZXJzYW5kXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5zaGlmdExlZnRdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnNoaWZ0UmlnaHRdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnNoaWZ0UmlnaHRVbnNpZ25lZF06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5jYW5DYXN0VG9saXN0ID0gW2Zsb2F0UHJpbWl0aXZlVHlwZSwgZG91YmxlUHJpbWl0aXZlVHlwZSwgc3RyaW5nUHJpbWl0aXZlVHlwZSwgY2hhclByaW1pdGl2ZVR5cGVdO1xyXG5cclxuICAgICAgICB0aGlzLmNhbkNhc3RUb01hcCA9IHtcclxuICAgICAgICAgICAgXCJmbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiZG91YmxlXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJjaGFyXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcImludFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwibG9uZ1wiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiSW50ZWdlclwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuaW50ZWdlckNvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PSBjaGFyUHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBTdHJpbmcuZnJvbUNoYXJDb2RlKDxudW1iZXI+dmFsdWUudmFsdWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlKTogYW55IHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlID0gPG51bWJlcj4oZmlyc3RPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUucGx1czpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kLnR5cGUgPT0gc3RyaW5nUHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm1pbnVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQgPT0gbnVsbCkgcmV0dXJuIC12YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAtIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubXVsdGlwbGljYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRpdmlzaW9uOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQudHlwZSA9PSBpbnRQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgudHJ1bmModmFsdWUgLyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm1vZHVsbzpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kLnR5cGUgPT0gaW50UHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnRydW5jKHZhbHVlICUgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kb3VibGVQbHVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlKys7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kb3VibGVNaW51czpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS0tO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubmVnYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLXZhbHVlO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUudGlsZGU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gfnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubG93ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPCAoPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSkpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZ3JlYXRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubG93ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDw9IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPj0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5lcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdEVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuT1I6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgfCA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlhPUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSBeIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuYW1wZXJzYW5kOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICYgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5zaGlmdExlZnQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPDwgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5zaGlmdFJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4+IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuc2hpZnRSaWdodFVuc2lnbmVkOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4+PiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYnVnT3V0cHV0KHZhbHVlOiBWYWx1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIgKyA8bnVtYmVyPnZhbHVlLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMb25nUHJpbWl0aXZlVHlwZSBleHRlbmRzIEludFByaW1pdGl2ZVR5cGUge1xyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcImxvbmdcIjtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFwiZ2FuemUgWmFobFwiXHJcblxyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUucGx1c106IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm1pbnVzXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm11bHRpcGxpY2F0aW9uXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubW9kdWxvXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBsb25nUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRpdmlzaW9uXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlUGx1c106IHsgXCJub25lXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kb3VibGVNaW51c106IHsgXCJub25lXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5uZWdhdGlvbl06IHsgXCJub25lXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS50aWxkZV06IHsgXCJub25lXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlcl06IHsgXCJsb25nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyXTogeyBcImxvbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyT3JFcXVhbF06IHsgXCJsb25nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyT3JFcXVhbF06IHsgXCJsb25nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5lcXVhbF06IHsgXCJsb25nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RFcXVhbF06IHsgXCJsb25nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuXHJcbiAgICAgICAgICAgIC8vIGJpbmFyeSBvcHNcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5PUl06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5YT1JdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGxvbmdQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuYW1wZXJzYW5kXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBsb25nUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnNoaWZ0TGVmdF06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5zaGlmdFJpZ2h0XTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBsb25nUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnNoaWZ0UmlnaHRVbnNpZ25lZF06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB0aGlzLmNhbkNhc3RUb2xpc3QgPSBbZmxvYXRQcmltaXRpdmVUeXBlLCBkb3VibGVQcmltaXRpdmVUeXBlLCBzdHJpbmdQcmltaXRpdmVUeXBlLCBjaGFyUHJpbWl0aXZlVHlwZV07XHJcblxyXG4gICAgICAgIHRoaXMuY2FuQ2FzdFRvTWFwID0ge1xyXG4gICAgICAgICAgICBcImZsb2F0XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJkb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcImNoYXJcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiaW50XCI6IHsgYXV0b21hdGljOiBmYWxzZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwibG9uZ1wiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiSW50ZWdlclwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiTG9uZ1wiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLmxvbmdDb25zdGFudDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG9hdFByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBQcmltaXRpdmVUeXBlIHtcclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwiZmxvYXRcIjtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFwiRmxpZcOfa29tbWF6YWhsIG1pdCBlaW5mYWNoZXIgR2VuYXVpZ2tlaXRcIlxyXG5cclxuICAgICAgICB0aGlzLm9wZXJhdGlvblRhYmxlID0ge1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnBsdXNdOiB7IFwiSW50ZWdlclwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubWludXNdOiB7IFwibm9uZVwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubXVsdGlwbGljYXRpb25dOiB7IFwiSW50ZWdlclwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZGl2aXNpb25dOiB7IFwiSW50ZWdlclwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlUGx1c106IHsgXCJub25lXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRvdWJsZU1pbnVzXTogeyBcIm5vbmVcIjogZmxvYXRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubmVnYXRpb25dOiB7IFwibm9uZVwiOiBmbG9hdFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlcl06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlcl06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJPckVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyT3JFcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5vdEVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB0aGlzLmNhbkNhc3RUb2xpc3QgPSBbaW50UHJpbWl0aXZlVHlwZSwgc3RyaW5nUHJpbWl0aXZlVHlwZSwgZG91YmxlUHJpbWl0aXZlVHlwZV07XHJcblxyXG4gICAgICAgIHRoaXMuY2FuQ2FzdFRvTWFwID0ge1xyXG4gICAgICAgICAgICBcImludFwiOiB7IGF1dG9tYXRpYzogZmFsc2UsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiZG91YmxlXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJmbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiU3RyaW5nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcIkZsb2F0XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcIkRvdWJsZVwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRvVG9rZW5UeXBlKCk6IFRva2VuVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIFRva2VuVHlwZS5mbG9hdGluZ1BvaW50Q29uc3RhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhc3RUbyh2YWx1ZTogVmFsdWUsIHR5cGU6IFR5cGUpOiBWYWx1ZSB7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IGludFByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogTWF0aC50cnVuYyg8bnVtYmVyPnZhbHVlLnZhbHVlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiAodHlwZSA9PSBkb3VibGVQcmltaXRpdmVUeXBlIHx8IHR5cGUgPT0gRG91YmxlVHlwZSB8fCB0eXBlID09IEZsb2F0VHlwZSkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4ge1xyXG4gICAgICAgIC8vICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAvLyAgICAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsdWVUb1N0cmluZyh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBmbG9hdFRvU3RyaW5nKHZhbHVlLnZhbHVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDxudW1iZXI+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZC50eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5taW51czpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kID09IG51bGwpIHJldHVybiAtdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm11bHRpcGxpY2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICogPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kaXZpc2lvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAvIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZG91YmxlUGx1czpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSsrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZG91YmxlTWludXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUtLTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5lZ2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC12YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgKDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID49IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3RFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYnVnT3V0cHV0KHZhbHVlOiBWYWx1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIgKyA8bnVtYmVyPnZhbHVlLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEb3VibGVQcmltaXRpdmVUeXBlIGV4dGVuZHMgUHJpbWl0aXZlVHlwZSB7XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcImRvdWJsZVwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJGbGllw59rb21tYXphaGwgbWl0IGRvcHBlbHRlciBHZW5hdWlna2VpdFwiXHJcblxyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUucGx1c106IHsgXCJpbnRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubWludXNdOiB7IFwibm9uZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImludFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5tdWx0aXBsaWNhdGlvbl06IHsgXCJpbnRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZGl2aXNpb25dOiB7IFwiaW50XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRvdWJsZVBsdXNdOiB7IFwibm9uZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlTWludXNdOiB7IFwibm9uZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubmVnYXRpb25dOiB7IFwibm9uZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyT3JFcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RFcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5jYW5DYXN0VG9saXN0ID0gW2ludFByaW1pdGl2ZVR5cGUsIHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGZsb2F0UHJpbWl0aXZlVHlwZV07XHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7XHJcbiAgICAgICAgICAgIFwiaW50XCI6IHsgYXV0b21hdGljOiBmYWxzZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJmbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiZG91YmxlXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJGbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJEb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLmZsb2F0aW5nUG9pbnRDb25zdGFudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSk6IFZhbHVlIHtcclxuXHJcbiAgICAgICAgLy8gbGV0IHVuYm94ZWQgPSB0aGlzLnVuYm94RnJvbSh2YWx1ZSwgdHlwZSk7XHJcbiAgICAgICAgLy8gaWYgKHVuYm94ZWQgIT0gbnVsbCkgcmV0dXJuIHVuYm94ZWQ7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IGludFByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogTWF0aC50cnVuYyg8bnVtYmVyPnZhbHVlLnZhbHVlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiAodHlwZSA9PSBmbG9hdFByaW1pdGl2ZVR5cGUgfHwgdHlwZSA9PSBGbG9hdFR5cGUgfHwgdHlwZSA9PSBEb3VibGVUeXBlKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIC8vICAgICAgICAgdmFsdWU6IHZhbHVlLnZhbHVlXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBWYWx1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGZsb2F0VG9TdHJpbmcodmFsdWUudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDxudW1iZXI+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZC50eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5taW51czpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kID09IG51bGwpIHJldHVybiAtdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm11bHRpcGxpY2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICogPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kaXZpc2lvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAvIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZG91YmxlUGx1czpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSsrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZG91YmxlTWludXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUtLTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5lZ2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC12YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgKDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID49IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3RFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYnVnT3V0cHV0KHZhbHVlOiBWYWx1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIgKyA8bnVtYmVyPnZhbHVlLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCb29sZWFuUHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwiYm9vbGVhblwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJib29sZXNjaGVyIFdlcnQgKHRydWUgb2RlciBmYWxzZSlcIlxyXG5cclxuICAgICAgICB0aGlzLm9wZXJhdGlvblRhYmxlID0ge1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnBsdXNdOiB7fSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5hbmRdOiB7IFwiYm9vbGVhblwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm9yXTogeyBcImJvb2xlYW5cIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RdOiB7IFwibm9uZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmVxdWFsXTogeyBcImJvb2xlYW5cIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RFcXVhbF06IHsgXCJib29sZWFuXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7XHJcbiAgICAgICAgICAgIFwiYm9vbGVhblwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiQm9vbGVhblwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuYm9vbGVhbkNvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDxib29sZWFuPihmaXJzdE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5wbHVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgbnVsbFRvU3RyaW5nKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDxib29sZWFuPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdEVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IDxib29sZWFuPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmFuZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiA8Ym9vbGVhbj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5vcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSB8fCA8Ym9vbGVhbj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXZhbHVlO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIDxib29sZWFuPnZhbHVlLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWb2lkUHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwidm9pZFwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJsZWVyZXIgUsO8Y2tnYWJld2VydFwiXHJcblxyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7fTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvVG9rZW5UeXBlKCk6IFRva2VuVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIFRva2VuVHlwZS5rZXl3b3JkVm9pZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSk6IFZhbHVlIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJ2b2lkXCI7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0cmluZ1ByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBLbGFzcyB7XHJcblxyXG4gICAgcHJpdmF0ZSBvcGVyYXRpb25UYWJsZTogeyBbb3BlcmF0aW9uOiBudW1iZXJdOiB7IFt0eXBlbmFtZTogc3RyaW5nXTogVHlwZSB9IH1cclxuXHJcbiAgICBwdWJsaWMgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLnN0cmluZ0NvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRSZXN1bHRUeXBlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBzZWNvbmRPcGVyYW5kVHlwZT86IFR5cGUpOiBUeXBlIHtcclxuXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSBUb2tlblR5cGUua2V5d29yZEluc3RhbmNlb2YpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldFJlc3VsdFR5cGUob3BlcmF0aW9uLCBzZWNvbmRPcGVyYW5kVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb3BUeXBlTWFwID0gdGhpcy5vcGVyYXRpb25UYWJsZVtvcGVyYXRpb25dO1xyXG5cclxuICAgICAgICBpZiAob3BUeXBlTWFwID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIE9wZXJhdGlvbiBub3QgcG9zc2libGVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWNvbmRPcGVyYW5kVHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcFR5cGVNYXBbc2Vjb25kT3BlcmFuZFR5cGUuaWRlbnRpZmllcl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3BUeXBlTWFwW1wibm9uZVwiXTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJhc2VDbGFzczogS2xhc3MpIHtcclxuICAgICAgICBzdXBlcihcIlN0cmluZ1wiLCBudWxsLCBcIkVpbiBPYmpla3QgZGVyIEtsYXNzZSBTdHJpbmcgc3BlaWNoZXJ0IGVpbmUgWmVpY2hlbmtldHRlLlwiKTtcclxuICAgICAgICB0aGlzLmJhc2VDbGFzcyA9IGJhc2VDbGFzcztcclxuICAgICAgICBsZXQgc3RyaW5nQ2xhc3MgPSB0aGlzO1xyXG4gICAgICAgIGJhc2VDbGFzcy5tZXRob2RzLmZpbHRlcihtID0+IG0uaWRlbnRpZmllciA9PSBcInRvU3RyaW5nXCIpLmZvckVhY2gobSA9PiBtLnJldHVyblR5cGUgPSBzdHJpbmdDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLm9wZXJhdGlvblRhYmxlID0ge1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnBsdXNdOiB7XHJcbiAgICAgICAgICAgICAgICBcIlN0cmluZ1wiOiBzdHJpbmdQcmltaXRpdmVUeXBlIC8vLCBcImludFwiOiBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJmbG9hdFwiOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJib29sZWFuXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIFwiY2hhclwiOiBzdHJpbmdQcmltaXRpdmVUeXBlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwiU3RyaW5nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIm51bGxcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RFcXVhbF06IHsgXCJTdHJpbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwibnVsbFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyXTogeyBcIlN0cmluZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJdOiB7IFwiU3RyaW5nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJPckVxdWFsXTogeyBcIlN0cmluZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsXTogeyBcIlN0cmluZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwibGVuZ3RoXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgaW50UHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPnBhcmFtZXRlcnNbMF0udmFsdWUpLmxlbmd0aDsgfSwgZmFsc2UsIGZhbHNlLCBcIkzDpG5nZSBkZXIgWmVpY2hlbmtldHRlLCBkLmguIEFuemFobCBkZXIgWmVpY2hlbiBpbiBkZXIgWmVpY2hlbmtldHRlLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImNoYXJBdFwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIlBvc2l0aW9uXCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBjaGFyUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPnBhcmFtZXRlcnNbMF0udmFsdWUpLmNoYXJBdCg8bnVtYmVyPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJaZWljaGVuIGFuIGRlciBnZWdlYmVuZW4gUG9zaXRpb24uXFxuKipCZW0uOiAqKiBQb3NpdGlvbiA9PSAwIGJlZGV1dGV0IGRhcyBlcnN0ZSBaZWljaGVuIGluIGRlciBaZWljaGVua2V0dGUsIFBvc2l0aW9uID09IDEgZGFzIHp3ZWl0ZSB1c3cuIC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJlcXVhbHNcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJvdGhlclN0cmluZ1wiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgYm9vbGVhblByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiA8c3RyaW5nPnBhcmFtZXRlcnNbMF0udmFsdWUgPT0gPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGdlbmF1IGRhbm4gKip3YWhyKiogenVyw7xjaywgd2VubiBkaWUgendlaSBaZWljaGVua2V0dGVuIMO8YmVyZWluc3RpbW1lbiAodW50ZXIgQmVyw7xja3NpY2h0aWd1bmcgdm9uIEtsZWluLS9Hcm/Dn3NjaHJlaWJ1bmcpLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImNvbXBhcmVUb1wiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5sb2NhbGVDb21wYXJlKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpLCAnZGUnLCB7IGNhc2VGaXJzdDogJ3VwcGVyJyB9KTsgfSwgZmFsc2UsIGZhbHNlLCBcIlZlcmdsZWljaHQgZGVuIFN0cmluZyBtaXQgZGVtIMO8YmVyZ2ViZW5lbiBTdHJpbmcuIEdpYnQgLTEgenVyw7xjaywgZmFsbHMgZXJzdGVyZXIgaW0gQWxwaGFiZXQgdm9yIGxldHp0ZXJlbSBzdGVodCwgKzEsIGZhbGxzIHVtZ2VrZWhydCB1bmQgMCwgZmFsbHMgYmVpZGUgU3RyaW5ncyBpZGVudGlzY2ggc2luZC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJjb21wYXJlVG9JZ25vcmVDYXNlXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGludFByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLmxvY2FsZUNvbXBhcmUoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSksICdkZScsIHsgc2Vuc2l0aXZpdHk6IFwiYWNjZW50XCIgfSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJWZXJnbGVpY2h0IGRlbiBTdHJpbmcgbWl0IGRlbSDDvGJlcmdlYmVuZW4gU3RyaW5nLiBHaWJ0IC0xIHp1csO8Y2ssIGZhbGxzIGVyc3RlcmVyIGltIEFscGhhYmV0IHZvciBsZXR6dGVyZW0gc3RlaHQsICsxLCBmYWxscyB1bWdla2VocnQgdW5kIDAsIGZhbGxzIGJlaWRlIFN0cmluZ3MgaWRlbnRpc2NoIHNpbmQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiZXF1YWxzSWdub3JlQ2FzZVwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkudG9Mb3dlckNhc2UoKSA9PSAoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSkudG9Mb3dlckNhc2UoKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGdlbmF1IGRhbm4gKip3YWhyKiogenVyw7xjaywgd2VubiBkaWUgendlaSBaZWljaGVua2V0dGVuIMO8YmVyZWluc3RpbW1lbiAoKipvaG5lKiogQmVyw7xja3NpY2h0aWd1bmcgdm9uIEtsZWluLS9Hcm/Dn3NjaHJlaWJ1bmcpLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImVuZHNXaXRoXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwic3VmZml4XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkuZW5kc1dpdGgoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBnZW5hdSBkYW5uICoqd2FocioqIHp1csO8Y2ssIHdlbm4gZGllIFplaWNoZW5rZXR0ZSBtaXQgZGVyIMO8YmVyZ2ViZW5lbiBaZWljaGVua2V0dGUgKCA9IHN1ZmZpeCkgZW5kZXQuIEtsZWluLS9Hcm/Dn3NjaHJlaWJ1bmcgd2lyZCBkYWJlaSBiZXLDvGNrc2ljaHRpZ3QhXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwic3RhcnRzV2l0aFwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcInByw6RmaXhcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGJvb2xlYW5QcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5zdGFydHNXaXRoKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZ2VuYXUgZGFubiAqKndhaHIqKiB6dXLDvGNrLCB3ZW5uIGRpZSBaZWljaGVua2V0dGUgbWl0IGRlciDDvGJlcmdlYmVuZW4gWmVpY2hlbmtldHRlICggPSBwcsOkZml4KSBiZWdpbm50LiBLbGVpbi0vR3Jvw59zY2hyZWlidW5nIHdpcmQgZGFiZWkgYmVyw7xja3NpY2h0aWd0IVwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInRvTG93ZXJDYXNlXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkudG9Mb2NhbGVMb3dlckNhc2UoKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGllIFplaWNoZW5rZXR0ZSB6dXLDvGNrLCBkaWUgc2ljaCBlcmdpYnQsIHdlbm4gbWFuIGluIGRlciBnZWdlYmVuZW4gWmVpY2hua2V0dGUgamVkZW4gR3Jvw59idWNoc3RhYmVuIGR1cmNoIGRlbiBlbnRzcHJlY2hlbmRlbiBLbGVpbmJ1Y2hzdGFiZW4gZXJzZXR6dC5cXG4qKkJlbWVya3VuZzogKiogRGllIE1ldGhvZGUgdmVyw6RuZGVydCBkaWUgWmVpY2hlbmtldHRlIHNlbGJzdCBuaWNodC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJ0b1VwcGVyQ2FzZVwiLCBuZXcgUGFyYW1ldGVybGlzdChbXSksIHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnRvTG9jYWxlVXBwZXJDYXNlKCk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBaZWljaGVua2V0dGUgenVyw7xjaywgZGllIHNpY2ggZXJnaWJ0LCB3ZW5uIG1hbiBpbiBkZXIgZ2VnZWJlbmVuIFplaWNobmtldHRlIGplZGVuIEtsZWluYnVjaHN0YWJlbiBkdXJjaCBkZW4gZW50c3ByZWNoZW5kZW4gR3Jvw59idWNoc3RhYmVuIGVyc2V0enQuXFxuKipCZW1lcmt1bmc6ICoqIERpZSBNZXRob2RlIHZlcsOkbmRlcnQgZGllIFplaWNoZW5rZXR0ZSBzZWxic3QgbmljaHQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwic3Vic3RyaW5nXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwiYmVnaW5JbmRleFwiLCB0eXBlOiBpbnRQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkuc3Vic3RyaW5nKDxudW1iZXI+KHBhcmFtZXRlcnNbMV0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGFzIGhpbnRlcmUgRW5kZSBkZXIgWmVpY2hlbmtldHRlIGFiICoqYmVnaW5JbmRleCoqIHp1csO8Y2suICoqYmVnaW5JbmRleCoqID09IDEgYmVkZXV0ZXQsIGRhc3MgZGllIFplaWNoZW5rZXR0ZSBhYiBkZW0gMi4oISkgWmVpY2hlbiB6dXLDvGNrZ2VnZWJlbiB3aXJkLiBcIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJzdWJzdHJpbmdcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJiZWdpbkluZGV4XCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICB7IGlkZW50aWZpZXI6IFwiZW5kSW5kZXhcIiwgdHlwZTogaW50UHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnN1YnN0cmluZyg8bnVtYmVyPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSwgPG51bWJlcj4ocGFyYW1ldGVyc1syXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgVGVpbC1aZWljaGVua2V0dGUgdm9uICoqYmVnaW5JbmRleCoqIGJpcyAqKmVuZEluZGV4KiogenVyw7xjay5cXG4qKlZvcnNpY2h0OiAqKiBiZWdpbkluZGV4IHVuZCBlbmRJbmRleCBzaW5kIG51bGxiYXNpZXJ0LCBkLmguIGJlZ2luSW5kZXggPT0gMCBiZWRldXRldCBkaWUgUG9zaXRpb24gdm9yIGRlbSBlcnN0ZW4gWmVpY2hlbi5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJ0cmltXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkudHJpbSgpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgWmVpY2hlbmtldHRlIHp1csO8Y2ssIGRpZSBlbnRzdGVodCwgd2VubiBtYW4gYW0gQW5mYW5nIHVuZCBFbmRlIGRlciBaZWljaGVua2V0dGUgYWxsZSBMZWVyemVpY2hlbiwgVGFicyB1bmQgWmVpbGVudW1icsO8Y2hlIGVudGZlcm50LlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImlzRW1wdHlcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW10pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkgPT0gXCJcIjsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZ2VuYXUgZGFubiB3YWhyIHp1csO8Y2ssIHdlbm4gZGllIFplaWNoZW5rZXR0ZSBsZWVyIGlzdC5cXG4qKldhcm51bmc6ICoqIERpZSBNZXRob2RlIGRhcmYgbmljaHQgbWl0IGRlbSAnJydudWxsJycnLU9iamVrdCBhdWZnZXJ1ZmVuIHdlcmRlbiFcIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJpbmRleE9mXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGludFByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLmluZGV4T2YoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgZXJzdGUgUG9zaXRpb24genVyw7xjaywgYW4gZGVyICoqb3RoZXJTdHJpbmcqKiBpbiBkZXIgWmVpY2hlbmtldHRlIGdlZnVuZGVuIHdpcmQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiaW5kZXhPZlwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJvdGhlclN0cmluZ1wiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJmcm9tSW5kZXhcIiwgdHlwZTogaW50UHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgIF0pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5pbmRleE9mKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpLCA8bnVtYmVyPihwYXJhbWV0ZXJzWzJdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBlcnN0ZSBQb3NpdGlvbiB6dXLDvGNrLCBhbiBkZXIgKipvdGhlclN0cmluZyoqIGluIGRlciBaZWljaGVua2V0dGUgZ2VmdW5kZW4gd2lyZC4gRGFiZWkgd2lyZCBlcnN0IGJlaSBmcm9tSW5kZXggbWl0IGRlciBTdWNoZSBiZWdvbm5lbi5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJsYXN0SW5kZXhPZlwiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5sYXN0SW5kZXhPZig8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBsZXR6dGUgUG9zaXRpb24genVyw7xjaywgYmVpIGRlciBvdGhlclN0cmluZyBpbiBkZXIgWmVpY2hlbmtldHRlIGdlZnVuZGVuIHdpcmQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwibGFzdEluZGV4T2ZcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW1xyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwiZnJvbUluZGV4XCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICBdKSwgaW50UHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkubGFzdEluZGV4T2YoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSksIDxudW1iZXI+KHBhcmFtZXRlcnNbMl0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGllIGxldHp0ZSBQb3NpdGlvbiB6dXLDvGNrLCBiZWkgZGVyIG90aGVyU3RyaW5nIGluIGRlciBaZWljaGVua2V0dGUgZ2VmdW5kZW4gd2lyZC4gRGFiZWkgd2lyZCBlcnN0IGJlaSBmcm9tSW5kZXggLSB2b24gcmVjaHRzIGhlciBiZWdpbm5lbmQgLSBnZXN1Y2h0LlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInJlcGxhY2VcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW1xyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwidGFyZ2V0XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlcGxhY2VtZW50XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICBdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkucmVwbGFjZSg8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSwgPHN0cmluZz4ocGFyYW1ldGVyc1syXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiRXJzZXR6dCBhbGxlIFZvcmtvbW1lbiB2b24gKip0YXJnZXQqKiBkdXJjaCAqKnJlcGxhY2VtZW50KiogdW5kIGdpYnQgZGllIGVudHN0YW5kZW5lIFplaWNoZW5rZXR0ZSB6dXLDvGNrLiBEaWUgWmVpY2hlbmtldHRlIHNlbGJzdCB3aXJkIG5pY2h0IHZlcsOkbmRlcnQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwicmVwbGFjZUFsbFwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJyZWdleFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJyZXBsYWNlbWVudFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgXSksIHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZ0V4cCA9IG5ldyBSZWdFeHAocGF0dGVybiwgJ2cnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5yZXBsYWNlKHJlZ0V4cCwgPHN0cmluZz4ocGFyYW1ldGVyc1syXS52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSwgZmFsc2UsIFwiRHVyY2hzdWNodCBkZW4gU3RyaW5nIG1pdCBkZW0gcmVndWzDpHJlbiBBdXNkcnVjayAocmVnZXgpIHVuZCBlcnNldHp0ICoqYWxsZSoqIEZ1bmRzdGVsbGVuIGR1cmNoICoqcmVwbGFjZW1lbnQqKi5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJtYXRjaGVzXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlZ2V4XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfVxyXG4gICAgICAgIF0pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVnRXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnZycpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiA8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKS5tYXRjaChyZWdFeHApICE9IG51bGw7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGdlbmF1IGRhbm4gdHJ1ZSB6dXLDvGNrLCB3ZW5uIGRlciBXZXJ0IGRlciBaZWljaGVua2V0dGUgZGVtIHJlZ3Vsw6RyZW4gQXVzZHJ1Y2sgKHJlZ2V4KSBlbnRzcHJpY2h0LlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInJlcGxhY2VGaXJzdFwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJyZWdleFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJyZXBsYWNlbWVudFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgXSksIHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZ0V4cCA9IG5ldyBSZWdFeHAocGF0dGVybiwgJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnJlcGxhY2UocmVnRXhwLCA8c3RyaW5nPihwYXJhbWV0ZXJzWzJdLnZhbHVlKSk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlLCBmYWxzZSwgXCJEdXJjaHN1Y2h0IGRlbiBTdHJpbmcgbWl0IGRlbSByZWd1bMOkcmVuIEF1c2RydWNrIChyZWdleCkgdW5kIGVyc2V0enQgKipkaWUgZXJzdGUqKiBGdW5kc3RlbGxlIGR1cmNoICoqcmVwbGFjZW1lbnQqKi5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJzcGxpdFwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJyZWdleFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgXSksIG5ldyBBcnJheVR5cGUoc3RyaW5nUHJpbWl0aXZlVHlwZSksXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0dGVybiA9IDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZ0V4cCA9IG5ldyBSZWdFeHAocGF0dGVybiwgJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzdHJpbmdzID0gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5zcGxpdChyZWdFeHApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlczogVmFsdWVbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcyBvZiBzdHJpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goeyB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCB2YWx1ZTogcyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xyXG5cclxuICAgICAgICAgICAgfSwgZmFsc2UsIGZhbHNlLCBcIlRlaWx0IGRpZSBaZWljaGVua2V0dGUgYW4gZGVuIFN0ZWxsZW4sIGRpZSBkdXJjaCBkZW4gcmVndWzDpHJlbiBBdXNkcnVjayAocmVnZXgpIGRlZmluaWVydCBzaW5kLCBpbiBUZWlsZSBhdWYuIERpZSBGdW5kc3RlbGxlbiBkZXMgcmVnZXggd2VyZGVuIGRhYmVpIHdlZ2dlbGFzc2VuLiBHaWJ0IGRpZSBUZWlsZSBhbHMgU3RyaW5nLUFycmF5IHp1csO8Y2suXCIpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDxzdHJpbmc+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIGxldCBlcnI6IEVycm9yID0gY2hlY2tOb3ROdWxsKG9wZXJhdGlvbiwgdGhpcywgZmlyc3RPcGVyYW5kLCBzZWNvbmRPcGVyYW5kLCBbVG9rZW5UeXBlLnBsdXMsIFRva2VuVHlwZS5rZXl3b3JkSW5zdGFuY2VvZl0pXHJcbiAgICAgICAgaWYgKGVyciAhPSBudWxsKSByZXR1cm4gZXJyO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5wbHVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQudHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlIHx8IHNlY29uZE9wZXJhbmQudHlwZSA9PSBjaGFyUHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsVG9TdHJpbmcodmFsdWUpICsgPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7IC8vIGJlY2F1c2UgbnVsbCArIG51bGwgPSAwIGluIGphdmFzY3JpcHRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kT3BlcmFuZC50eXBlID09IGJvb2xlYW5QcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxUb1N0cmluZyh2YWx1ZSkgKyA8Ym9vbGVhbj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsVG9TdHJpbmcodmFsdWUpICsgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5sb2NhbGVDb21wYXJlKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpLCAnZGUnLCB7IGNhc2VGaXJzdDogJ3VwcGVyJyB9KSA8IDA7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSA8ICg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmxvY2FsZUNvbXBhcmUoPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSksICdkZScsIHsgY2FzZUZpcnN0OiAndXBwZXInIH0pID4gMDtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlID4gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubG9jYWxlQ29tcGFyZSg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSwgJ2RlJywgeyBjYXNlRmlyc3Q6ICd1cHBlcicgfSkgPD0gMDtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIDw9IDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubG9jYWxlQ29tcGFyZSg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSwgJ2RlJywgeyBjYXNlRmlyc3Q6ICd1cHBlcicgfSkgPj0gMDtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlID49IDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3RFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmtleXdvcmRJbnN0YW5jZW9mOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmNvbXB1dGUob3BlcmF0aW9uLCBmaXJzdE9wZXJhbmQsIHNlY29uZE9wZXJhbmQpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWxsb3dzTnVsbCgpOiBib29sZWFuIHsgcmV0dXJuIHRydWU7IH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ1wiJyArIDxzdHJpbmc+dmFsdWUudmFsdWUgKyAnXCInO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDaGFyUHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gXCJcXHUwMDAwXCI7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwiY2hhclwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJlaW4gWmVpY2hlblwiXHJcblxyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUucGx1c106IHsgXCJTdHJpbmdcIjogc3RyaW5nUHJpbWl0aXZlVHlwZSwgXCJjaGFyXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5lcXVhbF06IHsgXCJjaGFyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90RXF1YWxdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyXTogeyBcImNoYXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyXTogeyBcImNoYXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlck9yRXF1YWxdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsXTogeyBcImNoYXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB0aGlzLmNhbkNhc3RUb2xpc3QgPSBbaW50UHJpbWl0aXZlVHlwZSwgZmxvYXRQcmltaXRpdmVUeXBlLCBkb3VibGVQcmltaXRpdmVUeXBlLCBzdHJpbmdQcmltaXRpdmVUeXBlXTtcclxuICAgICAgICB0aGlzLmNhbkNhc3RUb01hcCA9IHtcclxuICAgICAgICAgICAgXCJpbnRcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiZmxvYXRcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiZG91YmxlXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcIlN0cmluZ1wiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJjaGFyXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJDaGFyYWN0ZXJcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLmNoYXJDb25zdGFudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSk6IFZhbHVlIHtcclxuXHJcbiAgICAgICAgLy8gbGV0IHVuYm94ZWQgPSB0aGlzLnVuYm94RnJvbSh2YWx1ZSwgdHlwZSk7XHJcbiAgICAgICAgLy8gaWYgKHVuYm94ZWQgIT0gbnVsbCkgcmV0dXJuIHVuYm94ZWQ7XHJcblxyXG4gICAgICAgIC8vIGlmICh0eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUgfHwgdHlwZSA9PSBDaGFyYWN0ZXJUeXBlKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIC8vICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IGludFByaW1pdGl2ZVR5cGUgfHwgdHlwZSA9PSBmbG9hdFByaW1pdGl2ZVR5cGUgfHwgdHlwZSA9PSBkb3VibGVQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6ICg8c3RyaW5nPnZhbHVlLnZhbHVlKS5jaGFyQ29kZUF0KDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kPzogVmFsdWUpOiBhbnkge1xyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSA8c3RyaW5nPihmaXJzdE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5wbHVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8ICg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPD0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+PSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubm90RXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIidcIiArIDxzdHJpbmc+dmFsdWUudmFsdWUgKyBcIidcIjtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgdmFyIHZvaWRQcmltaXRpdmVUeXBlID0gbmV3IFZvaWRQcmltaXRpdmVUeXBlKCk7XHJcbmV4cG9ydCB2YXIgaW50UHJpbWl0aXZlVHlwZSA9IG5ldyBJbnRQcmltaXRpdmVUeXBlKCk7XHJcbmV4cG9ydCB2YXIgbG9uZ1ByaW1pdGl2ZVR5cGUgPSBuZXcgTG9uZ1ByaW1pdGl2ZVR5cGUoKTtcclxuZXhwb3J0IHZhciBmbG9hdFByaW1pdGl2ZVR5cGUgPSBuZXcgRmxvYXRQcmltaXRpdmVUeXBlKCk7XHJcbmV4cG9ydCB2YXIgZG91YmxlUHJpbWl0aXZlVHlwZSA9IG5ldyBEb3VibGVQcmltaXRpdmVUeXBlKCk7XHJcbmV4cG9ydCB2YXIgYm9vbGVhblByaW1pdGl2ZVR5cGUgPSBuZXcgQm9vbGVhblByaW1pdGl2ZVR5cGUoKTtcclxuc2V0Qm9vbGVhblByaW1pdGl2ZVR5cGVDb3B5KGJvb2xlYW5QcmltaXRpdmVUeXBlKTtcclxuZXhwb3J0IHZhciBvYmplY3RUeXBlID0gbmV3IE9iamVjdENsYXNzKG51bGwpO1xyXG5leHBvcnQgdmFyIHN0cmluZ1ByaW1pdGl2ZVR5cGUgPSBuZXcgU3RyaW5nUHJpbWl0aXZlVHlwZShvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBjaGFyUHJpbWl0aXZlVHlwZSA9IG5ldyBDaGFyUHJpbWl0aXZlVHlwZSgpO1xyXG5leHBvcnQgdmFyIG51bGxUeXBlID0gbmV3IE51bGxUeXBlKCk7XHJcbmV4cG9ydCB2YXIgdmFyVHlwZSA9IG5ldyBWYXJUeXBlKCk7XHJcblxyXG5leHBvcnQgdmFyIEludGVnZXJUeXBlID0gbmV3IEludGVnZXJDbGFzcyhvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBMb25nVHlwZSA9IG5ldyBMb25nQ2xhc3Mob2JqZWN0VHlwZSk7XHJcbmV4cG9ydCB2YXIgRmxvYXRUeXBlID0gbmV3IEZsb2F0Q2xhc3Mob2JqZWN0VHlwZSk7XHJcbmV4cG9ydCB2YXIgRG91YmxlVHlwZSA9IG5ldyBEb3VibGVDbGFzcyhvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBDaGFyYWN0ZXJUeXBlID0gbmV3IENoYXJhY3RlckNsYXNzKG9iamVjdFR5cGUpO1xyXG5leHBvcnQgdmFyIEJvb2xlYW5UeXBlID0gbmV3IEJvb2xlYW5DbGFzcyhvYmplY3RUeXBlKTtcclxuXHJcbmV4cG9ydCB2YXIgVG9rZW5UeXBlVG9EYXRhVHlwZU1hcDogeyBbdHQ6IG51bWJlcl06IFR5cGUgfSA9IHtcclxuICAgIFtUb2tlblR5cGUuaW50ZWdlckNvbnN0YW50XTogaW50UHJpbWl0aXZlVHlwZSxcclxuICAgIFtUb2tlblR5cGUubG9uZ0NvbnN0YW50XTogbG9uZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICBbVG9rZW5UeXBlLmZsb2F0aW5nUG9pbnRDb25zdGFudF06IGZsb2F0UHJpbWl0aXZlVHlwZSxcclxuICAgIFtUb2tlblR5cGUuYm9vbGVhbkNvbnN0YW50XTogYm9vbGVhblByaW1pdGl2ZVR5cGUsXHJcbiAgICBbVG9rZW5UeXBlLnN0cmluZ0NvbnN0YW50XTogc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgIFtUb2tlblR5cGUuY2hhckNvbnN0YW50XTogY2hhclByaW1pdGl2ZVR5cGUsXHJcbiAgICBbVG9rZW5UeXBlLmtleXdvcmROdWxsXTogbnVsbFR5cGVcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNoZWNrTm90TnVsbChvcGVyYXRpb246IFRva2VuVHlwZSwgdHlwZTogVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlLCBudWxsQWxsb3dlZEZvcjogVG9rZW5UeXBlW10gPSBbXSk6IEVycm9yIHtcclxuICAgIGlmICgoZmlyc3RPcGVyYW5kLnZhbHVlID09IG51bGwgfHwgc2Vjb25kT3BlcmFuZC52YWx1ZSA9PSBudWxsKSAmJiAhbnVsbEFsbG93ZWRGb3IuY29uY2F0KFtUb2tlblR5cGUuZXF1YWwsIFRva2VuVHlwZS5ub3RFcXVhbF0pLmluY2x1ZGVzKG9wZXJhdGlvbikpIHtcclxuICAgICAgICBsZXQgdHlwZUFuZE51bGw6ICh2OiBWYWx1ZSkgPT4gc3RyaW5nID0gKHY6IFZhbHVlKSA9PiB2LnZhbHVlID09IG51bGwgPyBcIihcIiArIHR5cGUuaWRlbnRpZmllciArIFwiKVwiICsgXCIgbnVsbFwiIDogdHlwZS5pZGVudGlmaWVyO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmFuZElzTnVsbChcIlVuZXJsYXVidGUgUmVjaG51bmcgbWl0IG51bGw6IFwiICsgdHlwZUFuZE51bGwoZmlyc3RPcGVyYW5kKSArIFwiIFwiICsgVG9rZW5UeXBlUmVhZGFibGVbb3BlcmF0aW9uXSArIFwiIFwiICsgdHlwZUFuZE51bGwoc2Vjb25kT3BlcmFuZCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPcGVyYW5kSXNOdWxsIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiT3BlcmFuZElzTnVsbEVycm9yXCI7XHJcbiAgICB9XHJcbn0iXX0=