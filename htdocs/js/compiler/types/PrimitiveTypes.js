import { TokenType, TokenTypeReadable } from "../lexer/Token.js";
import { ArrayType } from "./Array.js";
import { Interface, Klass, setBooleanPrimitiveTypeCopy } from "./Class.js";
import { ObjectClass } from "./ObjectClass.js";
import { Method, Parameterlist, PrimitiveType, Type } from "./Types.js";
import { IntegerClass } from "./boxedTypes/IntegerClass.js";
import { LongClass } from "./boxedTypes/LongClass.js";
import { FloatClass } from "./boxedTypes/FloatClass.js";
import { CharacterClass } from "./boxedTypes/CharacterClass.js";
import { BooleanClass } from "./boxedTypes/BooleanClass.js";
import { DoubleClass } from "./boxedTypes/DoubleClass.js";
import { floatToString, nullToString } from "../../tools/StringTools.js";
export class NullType extends Type {
    constructor() {
        super();
        this.identifier = "null";
    }
    getResultType(operation, secondOperandType) {
        return null;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    canCastTo(type) {
        return (type instanceof Klass || type instanceof Interface || type instanceof ArrayType);
    }
    castTo(value, type) {
        return {
            value: value.value,
            type: type
        };
    }
    equals(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    debugOutput(value) {
        return "null";
    }
}
export class VarType extends Type {
    constructor() {
        super();
        this.identifier = "var";
    }
    getResultType(operation, secondOperandType) {
        return null;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    canCastTo(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    castTo(value, type) {
        return value;
    }
    equals(type) {
        return (type instanceof Klass || type instanceof Interface);
    }
    debugOutput(value) {
        return "var";
    }
}
export class IntPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "int";
        this.description = "ganze Zahl";
        this.operationTable = {
            [TokenType.plus]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": intPrimitiveType, "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.modulo]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.division]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": intPrimitiveType },
            [TokenType.doubleMinus]: { "none": intPrimitiveType },
            [TokenType.negation]: { "none": intPrimitiveType },
            [TokenType.tilde]: { "none": intPrimitiveType },
            [TokenType.lower]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            // binary ops
            [TokenType.OR]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.XOR]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.ampersand]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftLeft]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftRight]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType },
            [TokenType.shiftRightUnsigned]: { "long": longPrimitiveType, "Long": longPrimitiveType, "int": intPrimitiveType, "Integer": intPrimitiveType }
        };
        // this.canCastTolist = [floatPrimitiveType, doublePrimitiveType, stringPrimitiveType, charPrimitiveType];
        this.canCastToMap = {
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "char": { automatic: true, needsStatement: true },
            "int": { automatic: true, needsStatement: false },
            "long": { automatic: true, needsStatement: false },
            "Integer": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.integerConstant;
    }
    castTo(value, type) {
        // let unboxed = this.unboxFrom(value, type);
        // if (unboxed != null) return unboxed;
        // if (type == floatPrimitiveType || type == doublePrimitiveType || type == IntegerType) {
        //     return {
        //         type: type,
        //         value: value.value
        //     };
        // }
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: "" + value.value
            };
        }
        if (type == charPrimitiveType) {
            return {
                type: type,
                value: String.fromCharCode(value.value)
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                if (secondOperand.type == intPrimitiveType) {
                    return Math.trunc(value / (secondOperand.value));
                }
                return value / (secondOperand.value);
            case TokenType.modulo:
                if (secondOperand.type == intPrimitiveType) {
                    return Math.trunc(value % (secondOperand.value));
                }
                return 1;
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.tilde:
                return ~value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.OR:
                return value | (secondOperand.value);
            case TokenType.XOR:
                return value ^ (secondOperand.value);
            case TokenType.ampersand:
                return value & (secondOperand.value);
            case TokenType.shiftLeft:
                return value << (secondOperand.value);
            case TokenType.shiftRight:
                return value >> (secondOperand.value);
            case TokenType.shiftRightUnsigned:
                return value >>> (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class LongPrimitiveType extends IntPrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "long";
        this.description = "ganze Zahl";
        this.operationTable = {
            [TokenType.plus]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": intPrimitiveType, "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.modulo]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.division]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": intPrimitiveType },
            [TokenType.doubleMinus]: { "none": intPrimitiveType },
            [TokenType.negation]: { "none": intPrimitiveType },
            [TokenType.tilde]: { "none": intPrimitiveType },
            [TokenType.lower]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "long": booleanPrimitiveType, "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            // binary ops
            [TokenType.OR]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.XOR]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.ampersand]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.shiftLeft]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.shiftRight]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType },
            [TokenType.shiftRightUnsigned]: { "long": longPrimitiveType, "int": longPrimitiveType, "Long": longPrimitiveType, "Integer": longPrimitiveType }
        };
        // this.canCastTolist = [floatPrimitiveType, doublePrimitiveType, stringPrimitiveType, charPrimitiveType];
        this.canCastToMap = {
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "char": { automatic: true, needsStatement: true },
            "int": { automatic: false, needsStatement: false },
            "long": { automatic: true, needsStatement: false },
            "Integer": { automatic: true, needsStatement: false },
            "Long": { automatic: true, needsStatement: false },
        };
    }
    toTokenType() {
        return TokenType.longConstant;
    }
}
export class FloatPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "float";
        this.description = "Fließkommazahl mit einfacher Genauigkeit";
        this.operationTable = {
            [TokenType.plus]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": floatPrimitiveType, "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.division]: { "Integer": floatPrimitiveType, "int": floatPrimitiveType, "float": floatPrimitiveType, "Float": floatPrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": floatPrimitiveType },
            [TokenType.doubleMinus]: { "none": floatPrimitiveType },
            [TokenType.negation]: { "none": floatPrimitiveType },
            [TokenType.lower]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
        };
        // this.canCastTolist = [intPrimitiveType, stringPrimitiveType, doublePrimitiveType];
        this.canCastToMap = {
            "int": { automatic: false, needsStatement: true },
            "double": { automatic: true, needsStatement: false },
            "float": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "Float": { automatic: true, needsStatement: true },
            "Double": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.floatingPointConstant;
    }
    castTo(value, type) {
        // let unboxed = this.unboxFrom(value, type);
        // if (unboxed != null) return unboxed;
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: floatToString(value.value)
            };
        }
        if (type == intPrimitiveType) {
            return {
                type: type,
                value: Math.trunc(value.value)
            };
        }
        // if (type == doublePrimitiveType || type == DoubleType || type == FloatType) {
        //     return {
        //         type: type,
        //         value: value.value
        //     }
        // }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                return value / (secondOperand.value);
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class DoublePrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = 0;
        this.identifier = "double";
        this.description = "Fließkommazahl mit doppelter Genauigkeit";
        this.operationTable = {
            [TokenType.plus]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.minus]: { "none": doublePrimitiveType, "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.multiplication]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.division]: { "int": doublePrimitiveType, "Integer": doublePrimitiveType, "float": doublePrimitiveType, "Float": doublePrimitiveType, "double": doublePrimitiveType, "Double": doublePrimitiveType },
            [TokenType.doublePlus]: { "none": doublePrimitiveType },
            [TokenType.doubleMinus]: { "none": doublePrimitiveType },
            [TokenType.negation]: { "none": doublePrimitiveType },
            [TokenType.lower]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greater]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.equal]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
            [TokenType.notEqual]: { "int": booleanPrimitiveType, "float": booleanPrimitiveType, "double": booleanPrimitiveType, "Integer": booleanPrimitiveType, "Float": booleanPrimitiveType, "Double": booleanPrimitiveType },
        };
        // this.canCastTolist = [intPrimitiveType, stringPrimitiveType, floatPrimitiveType];
        this.canCastToMap = {
            "int": { automatic: false, needsStatement: true },
            "float": { automatic: true, needsStatement: false },
            "double": { automatic: true, needsStatement: false },
            "String": { automatic: true, needsStatement: true },
            "Float": { automatic: true, needsStatement: true },
            "Double": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.floatingPointConstant;
    }
    castTo(value, type) {
        // let unboxed = this.unboxFrom(value, type);
        // if (unboxed != null) return unboxed;
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: floatToString(value.value)
            };
        }
        if (type == intPrimitiveType) {
            return {
                type: type,
                value: Math.trunc(value.value)
            };
        }
        // if (type == floatPrimitiveType || type == FloatType || type == DoubleType) {
        //     return {
        //         type: type,
        //         value: value.value
        //     }
        // }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType) {
                    return value + (secondOperand.value);
                }
                else {
                    return value + (secondOperand.value);
                }
            case TokenType.minus:
                if (secondOperand == null)
                    return -value;
                return value - (secondOperand.value);
            case TokenType.multiplication:
                return value * (secondOperand.value);
            case TokenType.division:
                return value / (secondOperand.value);
            case TokenType.doublePlus:
                return value++;
            case TokenType.doubleMinus:
                return value--;
            case TokenType.negation:
                return -value;
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class BooleanPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = false;
        this.identifier = "boolean";
        this.description = "boolescher Wert (true oder false)";
        this.operationTable = {
            [TokenType.plus]: {},
            [TokenType.and]: { "boolean": booleanPrimitiveType },
            [TokenType.or]: { "boolean": booleanPrimitiveType },
            [TokenType.not]: { "none": booleanPrimitiveType },
            [TokenType.equal]: { "boolean": booleanPrimitiveType },
            [TokenType.notEqual]: { "boolean": booleanPrimitiveType },
        };
        this.canCastToMap = {
            "String": { automatic: true, needsStatement: true },
            "boolean": { automatic: true, needsStatement: false },
            "Boolean": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.booleanConstant;
    }
    castTo(value, type) {
        // let unboxed = this.unboxFrom(value, type);
        // if (unboxed != null) return unboxed;
        if (type == stringPrimitiveType) {
            return {
                type: type,
                value: "" + value.value
            };
        }
        // if (type == BooleanType){
        //     return {
        //         type: type,
        //         value: value.value
        //     }
        // }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                return value + nullToString((secondOperand.value));
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.and:
                return value && (secondOperand.value);
            case TokenType.or:
                return value || (secondOperand.value);
            case TokenType.not:
                return !value;
        }
    }
    debugOutput(value) {
        return "" + value.value;
    }
}
export class VoidPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = false;
        this.identifier = "void";
        this.description = "leerer Rückgabewert";
        this.operationTable = {};
        this.canCastToMap = {};
    }
    toTokenType() {
        return TokenType.keywordVoid;
    }
    castTo(value, type) {
        return value;
    }
    compute(operation, firstOperand, secondOperand) {
        return null;
    }
    debugOutput(value) {
        return "void";
    }
}
export class StringPrimitiveType extends Klass {
    constructor(baseClass) {
        super("String", null, "Ein Objekt der Klasse String speichert eine Zeichenkette.");
        this.baseClass = baseClass;
        let stringClass = this;
        baseClass.methods.filter(m => m.identifier == "toString").forEach(m => m.returnType = stringClass);
    }
    toTokenType() {
        return TokenType.stringConstant;
    }
    getResultType(operation, secondOperandType) {
        if (operation == TokenType.keywordInstanceof) {
            return super.getResultType(operation, secondOperandType);
        }
        let opTypeMap = this.operationTable[operation];
        if (opTypeMap == null) {
            return null; // Operation not possible
        }
        if (secondOperandType != null) {
            return opTypeMap[secondOperandType.identifier];
        }
        return opTypeMap["none"];
    }
    init() {
        this.operationTable = {
            [TokenType.plus]: {
                "String": stringPrimitiveType //, "int": stringPrimitiveType,
                // "float": stringPrimitiveType, "double": stringPrimitiveType,
                // "boolean": stringPrimitiveType, "char": stringPrimitiveType
            },
            [TokenType.equal]: { "String": booleanPrimitiveType, "null": booleanPrimitiveType },
            [TokenType.notEqual]: { "String": booleanPrimitiveType, "null": booleanPrimitiveType },
            [TokenType.lower]: { "String": booleanPrimitiveType },
            [TokenType.greater]: { "String": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "String": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "String": booleanPrimitiveType }
        };
        this.addMethod(new Method("length", new Parameterlist([]), intPrimitiveType, (parameters) => { return parameters[0].value.length; }, false, false, "Länge der Zeichenkette, d.h. Anzahl der Zeichen in der Zeichenkette."));
        this.addMethod(new Method("charAt", new Parameterlist([{ identifier: "Position", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), charPrimitiveType, (parameters) => { return parameters[0].value.charAt((parameters[1].value)); }, false, false, "Zeichen an der gegebenen Position.\n**Bem.: ** Position == 0 bedeutet das erste Zeichen in der Zeichenkette, Position == 1 das zweite usw. ."));
        this.addMethod(new Method("equals", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return parameters[0].value == (parameters[1].value); }, false, false, "Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (unter Berücksichtigung von Klein-/Großschreibung)."));
        this.addMethod(new Method("compareTo", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).localeCompare((parameters[1].value), 'de', { caseFirst: 'upper' }); }, false, false, "Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind."));
        this.addMethod(new Method("compareToIgnoreCase", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).localeCompare((parameters[1].value), 'de', { sensitivity: "accent" }); }, false, false, "Vergleicht den String mit dem übergebenen String. Gibt -1 zurück, falls ersterer im Alphabet vor letzterem steht, +1, falls umgekehrt und 0, falls beide Strings identisch sind."));
        this.addMethod(new Method("equalsIgnoreCase", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).toLowerCase() == (parameters[1].value).toLowerCase(); }, false, false, "Gibt genau dann **wahr** zurück, wenn die zwei Zeichenketten übereinstimmen (**ohne** Berücksichtigung von Klein-/Großschreibung)."));
        this.addMethod(new Method("endsWith", new Parameterlist([{ identifier: "suffix", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).endsWith((parameters[1].value)); }, false, false, "Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = suffix) endet. Klein-/Großschreibung wird dabei berücksichtigt!"));
        this.addMethod(new Method("startsWith", new Parameterlist([{ identifier: "präfix", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), booleanPrimitiveType, (parameters) => { return (parameters[0].value).startsWith((parameters[1].value)); }, false, false, "Gibt genau dann **wahr** zurück, wenn die Zeichenkette mit der übergebenen Zeichenkette ( = präfix) beginnt. Klein-/Großschreibung wird dabei berücksichtigt!"));
        this.addMethod(new Method("toLowerCase", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).toLocaleLowerCase(); }, false, false, "Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Großbuchstaben durch den entsprechenden Kleinbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht."));
        this.addMethod(new Method("toUpperCase", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).toLocaleUpperCase(); }, false, false, "Gibt die Zeichenkette zurück, die sich ergibt, wenn man in der gegebenen Zeichnkette jeden Kleinbuchstaben durch den entsprechenden Großbuchstaben ersetzt.\n**Bemerkung: ** Die Methode verändert die Zeichenkette selbst nicht."));
        this.addMethod(new Method("substring", new Parameterlist([{ identifier: "beginIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), stringPrimitiveType, (parameters) => { return (parameters[0].value).substring((parameters[1].value)); }, false, false, "Gibt das hintere Ende der Zeichenkette ab **beginIndex** zurück. **beginIndex** == 1 bedeutet, dass die Zeichenkette ab dem 2.(!) Zeichen zurückgegeben wird. "));
        this.addMethod(new Method("substring", new Parameterlist([{ identifier: "beginIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "endIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), stringPrimitiveType, (parameters) => { return (parameters[0].value).substring((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die Teil-Zeichenkette von **beginIndex** bis **endIndex** zurück.\n**Vorsicht: ** beginIndex und endIndex sind nullbasiert, d.h. beginIndex == 0 bedeutet die Position vor dem ersten Zeichen."));
        this.addMethod(new Method("trim", new Parameterlist([]), stringPrimitiveType, (parameters) => { return (parameters[0].value).trim(); }, false, false, "Gibt die Zeichenkette zurück, die entsteht, wenn man am Anfang und Ende der Zeichenkette alle Leerzeichen, Tabs und Zeilenumbrüche entfernt."));
        this.addMethod(new Method("isEmpty", new Parameterlist([]), booleanPrimitiveType, (parameters) => { return (parameters[0].value) == ""; }, false, false, "Gibt genau dann wahr zurück, wenn die Zeichenkette leer ist.\n**Warnung: ** Die Methode darf nicht mit dem '''null'''-Objekt aufgerufen werden!"));
        this.addMethod(new Method("indexOf", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).indexOf((parameters[1].value)); }, false, false, "Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird."));
        this.addMethod(new Method("indexOf", new Parameterlist([
            { identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "fromIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), intPrimitiveType, (parameters) => { return (parameters[0].value).indexOf((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die erste Position zurück, an der **otherString** in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex mit der Suche begonnen."));
        this.addMethod(new Method("lastIndexOf", new Parameterlist([{ identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }]), intPrimitiveType, (parameters) => { return (parameters[0].value).lastIndexOf((parameters[1].value)); }, false, false, "Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird."));
        this.addMethod(new Method("lastIndexOf", new Parameterlist([
            { identifier: "otherString", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "fromIndex", type: intPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), intPrimitiveType, (parameters) => { return (parameters[0].value).lastIndexOf((parameters[1].value), (parameters[2].value)); }, false, false, "Gibt die letzte Position zurück, bei der otherString in der Zeichenkette gefunden wird. Dabei wird erst bei fromIndex - von rechts her beginnend - gesucht."));
        this.addMethod(new Method("replace", new Parameterlist([
            { identifier: "target", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => { return (parameters[0].value).replace((parameters[1].value), (parameters[2].value)); }, false, false, "Ersetzt alle Vorkommen von **target** durch **replacement** und gibt die entstandene Zeichenkette zurück. Die Zeichenkette selbst wird nicht verändert."));
        this.addMethod(new Method("replaceAll", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, 'g');
            return (parameters[0].value).replace(regExp, (parameters[2].value));
        }, false, false, "Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **alle** Fundstellen durch **replacement**."));
        this.addMethod(new Method("matches", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false }
        ]), booleanPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, 'g');
            return (parameters[0].value).match(regExp) != null;
        }, false, false, "Gibt genau dann true zurück, wenn der Wert der Zeichenkette dem regulären Ausdruck (regex) entspricht."));
        this.addMethod(new Method("replaceFirst", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
            { identifier: "replacement", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), stringPrimitiveType, (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, '');
            return (parameters[0].value).replace(regExp, (parameters[2].value));
        }, false, false, "Durchsucht den String mit dem regulären Ausdruck (regex) und ersetzt **die erste** Fundstelle durch **replacement**."));
        this.addMethod(new Method("split", new Parameterlist([
            { identifier: "regex", type: stringPrimitiveType, declaration: null, usagePositions: null, isFinal: false },
        ]), new ArrayType(stringPrimitiveType), (parameters) => {
            let pattern = (parameters[1].value);
            let regExp = new RegExp(pattern, '');
            let strings = (parameters[0].value).split(regExp);
            let values = [];
            for (let s of strings) {
                values.push({ type: stringPrimitiveType, value: s });
            }
            return values;
        }, false, false, "Teilt die Zeichenkette an den Stellen, die durch den regulären Ausdruck (regex) definiert sind, in Teile auf. Die Fundstellen des regex werden dabei weggelassen. Gibt die Teile als String-Array zurück."));
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        let err = checkNotNull(operation, this, firstOperand, secondOperand, [TokenType.plus, TokenType.keywordInstanceof]);
        if (err != null)
            return err;
        switch (operation) {
            case TokenType.plus:
                if (secondOperand.type == stringPrimitiveType || secondOperand.type == charPrimitiveType) {
                    return nullToString(value) + (secondOperand.value); // because null + null = 0 in javascript
                }
                else if (secondOperand.type == booleanPrimitiveType) {
                    return nullToString(value) + (secondOperand.value);
                }
                else {
                    return nullToString(value) + (secondOperand.value);
                }
            case TokenType.lower:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) < 0;
            // return value < (<string>(secondOperand.value));
            case TokenType.greater:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) > 0;
            // return value > <string>(secondOperand.value);
            case TokenType.lowerOrEqual:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) <= 0;
            // return value <= <string>(secondOperand.value);
            case TokenType.greaterOrEqual:
                return value.localeCompare((secondOperand.value), 'de', { caseFirst: 'upper' }) >= 0;
            // return value >= <string>(secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
            case TokenType.keywordInstanceof:
                return super.compute(operation, firstOperand, secondOperand);
        }
    }
    allowsNull() { return true; }
    debugOutput(value) {
        return '"' + value.value + '"';
    }
}
export class CharPrimitiveType extends PrimitiveType {
    init() {
        this.initialValue = "\u0000";
        this.identifier = "char";
        this.description = "ein Zeichen";
        this.operationTable = {
            [TokenType.plus]: { "String": stringPrimitiveType, "char": stringPrimitiveType },
            [TokenType.equal]: { "char": booleanPrimitiveType },
            [TokenType.notEqual]: { "char": booleanPrimitiveType },
            [TokenType.lower]: { "char": booleanPrimitiveType },
            [TokenType.greater]: { "char": booleanPrimitiveType },
            [TokenType.lowerOrEqual]: { "char": booleanPrimitiveType },
            [TokenType.greaterOrEqual]: { "char": booleanPrimitiveType }
        };
        // this.canCastTolist = [intPrimitiveType, floatPrimitiveType, doublePrimitiveType, stringPrimitiveType];
        this.canCastToMap = {
            "int": { automatic: true, needsStatement: true },
            "float": { automatic: true, needsStatement: true },
            "double": { automatic: true, needsStatement: true },
            "String": { automatic: true, needsStatement: true },
            "char": { automatic: true, needsStatement: false },
            "Character": { automatic: true, needsStatement: true },
        };
    }
    toTokenType() {
        return TokenType.charConstant;
    }
    castTo(value, type) {
        // let unboxed = this.unboxFrom(value, type);
        // if (unboxed != null) return unboxed;
        // if (type == stringPrimitiveType || type == CharacterType) {
        //     return {
        //         type: type,
        //         value: value
        //     }
        // }
        if (type == intPrimitiveType || type == floatPrimitiveType || type == doublePrimitiveType) {
            return {
                type: type,
                value: value.value.charCodeAt(0)
            };
        }
    }
    compute(operation, firstOperand, secondOperand) {
        let value = (firstOperand.value);
        switch (operation) {
            case TokenType.plus:
                return value + (secondOperand.value);
            case TokenType.lower:
                return value < (secondOperand.value);
            case TokenType.greater:
                return value > (secondOperand.value);
            case TokenType.lowerOrEqual:
                return value <= (secondOperand.value);
            case TokenType.greaterOrEqual:
                return value >= (secondOperand.value);
            case TokenType.equal:
                return value == (secondOperand.value);
            case TokenType.notEqual:
                return value != (secondOperand.value);
        }
    }
    debugOutput(value) {
        return "'" + value.value + "'";
    }
}
export var voidPrimitiveType = new VoidPrimitiveType();
export var intPrimitiveType = new IntPrimitiveType();
export var longPrimitiveType = new LongPrimitiveType();
export var floatPrimitiveType = new FloatPrimitiveType();
export var doublePrimitiveType = new DoublePrimitiveType();
export var booleanPrimitiveType = new BooleanPrimitiveType();
setBooleanPrimitiveTypeCopy(booleanPrimitiveType);
export var objectType = new ObjectClass(null);
export var stringPrimitiveType = new StringPrimitiveType(objectType);
export var charPrimitiveType = new CharPrimitiveType();
export var nullType = new NullType();
export var varType = new VarType();
export var IntegerType = new IntegerClass(objectType);
export var LongType = new LongClass(objectType);
export var FloatType = new FloatClass(objectType);
export var DoubleType = new DoubleClass(objectType);
export var CharacterType = new CharacterClass(objectType);
export var BooleanType = new BooleanClass(objectType);
export var TokenTypeToDataTypeMap = {
    [TokenType.integerConstant]: intPrimitiveType,
    [TokenType.longConstant]: longPrimitiveType,
    [TokenType.floatingPointConstant]: floatPrimitiveType,
    [TokenType.booleanConstant]: booleanPrimitiveType,
    [TokenType.stringConstant]: stringPrimitiveType,
    [TokenType.charConstant]: charPrimitiveType,
    [TokenType.keywordNull]: nullType
};
function checkNotNull(operation, type, firstOperand, secondOperand, nullAllowedFor = []) {
    if ((firstOperand.value == null || secondOperand.value == null) && !nullAllowedFor.concat([TokenType.equal, TokenType.notEqual]).includes(operation)) {
        let typeAndNull = (v) => v.value == null ? "(" + type.identifier + ")" + " null" : type.identifier;
        return new OperandIsNull("Unerlaubte Rechnung mit null: " + typeAndNull(firstOperand) + " " + TokenTypeReadable[operation] + " " + typeAndNull(secondOperand));
    }
    return null;
}
export class OperandIsNull extends Error {
    constructor(message) {
        super(message);
        this.name = "OperandIsNullError";
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWl0aXZlVHlwZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY2xpZW50L2NvbXBpbGVyL3R5cGVzL1ByaW1pdGl2ZVR5cGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzNFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFTLE1BQU0sWUFBWSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDNUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRTFELE9BQU8sRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFekUsTUFBTSxPQUFPLFFBQVMsU0FBUSxJQUFJO0lBRTlCO1FBQ0ksS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztJQUM3QixDQUFDO0lBRUQsYUFBYSxDQUFDLFNBQW9CLEVBQUUsaUJBQXVCO1FBQ3ZELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7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LEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNqUCxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN0UCxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN4UCxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUMvTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFB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QUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUMvTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUNqUCxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN0UCxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUN4UCxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUMvTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLFFBQVEsRUFBRSxvQkFBb0IsRUFBRTtZQUVsUCxhQUFhO1lBQ2IsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUU7WUFDaEksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUU7WUFDakksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUU7WUFDdkksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUU7WUFDdkksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUU7WUFDeEksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxpQkFB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LE9BQWdCO1FBQ3hCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsb0JBQW9CLENBQUM7SUFDckMsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9rZW5UeXBlLCBUb2tlblR5cGVSZWFkYWJsZSB9IGZyb20gXCIuLi9sZXhlci9Ub2tlbi5qc1wiO1xyXG5pbXBvcnQgeyBBcnJheVR5cGUgfSBmcm9tIFwiLi9BcnJheS5qc1wiO1xyXG5pbXBvcnQgeyBJbnRlcmZhY2UsIEtsYXNzLCBzZXRCb29sZWFuUHJpbWl0aXZlVHlwZUNvcHkgfSBmcm9tIFwiLi9DbGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBPYmplY3RDbGFzcyB9IGZyb20gXCIuL09iamVjdENsYXNzLmpzXCI7XHJcbmltcG9ydCB7IE1ldGhvZCwgUGFyYW1ldGVybGlzdCwgUHJpbWl0aXZlVHlwZSwgVHlwZSwgVmFsdWUgfSBmcm9tIFwiLi9UeXBlcy5qc1wiO1xyXG5pbXBvcnQgeyBJbnRlZ2VyQ2xhc3MgfSBmcm9tIFwiLi9ib3hlZFR5cGVzL0ludGVnZXJDbGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBMb25nQ2xhc3MgfSBmcm9tIFwiLi9ib3hlZFR5cGVzL0xvbmdDbGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBGbG9hdENsYXNzIH0gZnJvbSBcIi4vYm94ZWRUeXBlcy9GbG9hdENsYXNzLmpzXCI7XHJcbmltcG9ydCB7IENoYXJhY3RlckNsYXNzIH0gZnJvbSBcIi4vYm94ZWRUeXBlcy9DaGFyYWN0ZXJDbGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBCb29sZWFuQ2xhc3MgfSBmcm9tIFwiLi9ib3hlZFR5cGVzL0Jvb2xlYW5DbGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBEb3VibGVDbGFzcyB9IGZyb20gXCIuL2JveGVkVHlwZXMvRG91YmxlQ2xhc3MuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VtYW50aWNEaWFnbm9zdGljc0J1aWxkZXJQcm9ncmFtIH0gZnJvbSBcInR5cGVzY3JpcHRcIjtcclxuaW1wb3J0IHsgZmxvYXRUb1N0cmluZywgbnVsbFRvU3RyaW5nIH0gZnJvbSBcIi4uLy4uL3Rvb2xzL1N0cmluZ1Rvb2xzLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTnVsbFR5cGUgZXh0ZW5kcyBUeXBlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwibnVsbFwiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlc3VsdFR5cGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIHNlY29uZE9wZXJhbmRUeXBlOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kOiBWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY2FuQ2FzdFRvKHR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gKHR5cGUgaW5zdGFuY2VvZiBLbGFzcyB8fCB0eXBlIGluc3RhbmNlb2YgSW50ZXJmYWNlIHx8IHR5cGUgaW5zdGFuY2VvZiBBcnJheVR5cGUpO1xyXG4gICAgfVxyXG4gICAgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZSxcclxuICAgICAgICAgICAgdHlwZTogdHlwZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlcXVhbHModHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiAodHlwZSBpbnN0YW5jZW9mIEtsYXNzIHx8IHR5cGUgaW5zdGFuY2VvZiBJbnRlcmZhY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIm51bGxcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZhclR5cGUgZXh0ZW5kcyBUeXBlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwidmFyXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVzdWx0VHlwZShvcGVyYXRpb246IFRva2VuVHlwZSwgc2Vjb25kT3BlcmFuZFR5cGU6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ6IFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjYW5DYXN0VG8odHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiAodHlwZSBpbnN0YW5jZW9mIEtsYXNzIHx8IHR5cGUgaW5zdGFuY2VvZiBJbnRlcmZhY2UpO1xyXG4gICAgfVxyXG4gICAgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIGVxdWFscyh0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuICh0eXBlIGluc3RhbmNlb2YgS2xhc3MgfHwgdHlwZSBpbnN0YW5jZW9mIEludGVyZmFjZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYnVnT3V0cHV0KHZhbHVlOiBWYWx1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFwidmFyXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnRQcmltaXRpdmVUeXBlIGV4dGVuZHMgUHJpbWl0aXZlVHlwZSB7XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwiaW50XCI7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcImdhbnplIFphaGxcIlxyXG5cclxuICAgICAgICB0aGlzLm9wZXJhdGlvblRhYmxlID0ge1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnBsdXNdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5taW51c106IHsgXCJub25lXCI6IGludFByaW1pdGl2ZVR5cGUsIFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubXVsdGlwbGljYXRpb25dOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubW9kdWxvXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kaXZpc2lvbl06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kb3VibGVQbHVzXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRvdWJsZU1pbnVzXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5lZ2F0aW9uXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnRpbGRlXTogeyBcIm5vbmVcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyXTogeyBcImxvbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJPckVxdWFsXTogeyBcImxvbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsXTogeyBcImxvbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmVxdWFsXTogeyBcImxvbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5vdEVxdWFsXTogeyBcImxvbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG5cclxuICAgICAgICAgICAgLy8gYmluYXJ5IG9wc1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLk9SXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5YT1JdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmFtcGVyc2FuZF06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGludFByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuc2hpZnRMZWZ0XTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5zaGlmdFJpZ2h0XTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogaW50UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGludFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5zaGlmdFJpZ2h0VW5zaWduZWRdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBpbnRQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogaW50UHJpbWl0aXZlVHlwZSB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRoaXMuY2FuQ2FzdFRvbGlzdCA9IFtmbG9hdFByaW1pdGl2ZVR5cGUsIGRvdWJsZVByaW1pdGl2ZVR5cGUsIHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGNoYXJQcmltaXRpdmVUeXBlXTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7XHJcbiAgICAgICAgICAgIFwiZmxvYXRcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcImRvdWJsZVwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiU3RyaW5nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcImNoYXJcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiaW50XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJsb25nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJJbnRlZ2VyXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRvVG9rZW5UeXBlKCk6IFRva2VuVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIFRva2VuVHlwZS5pbnRlZ2VyQ29uc3RhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhc3RUbyh2YWx1ZTogVmFsdWUsIHR5cGU6IFR5cGUpOiBWYWx1ZSB7XHJcblxyXG4gICAgICAgIC8vIGxldCB1bmJveGVkID0gdGhpcy51bmJveEZyb20odmFsdWUsIHR5cGUpO1xyXG4gICAgICAgIC8vIGlmICh1bmJveGVkICE9IG51bGwpIHJldHVybiB1bmJveGVkO1xyXG5cclxuICAgICAgICAvLyBpZiAodHlwZSA9PSBmbG9hdFByaW1pdGl2ZVR5cGUgfHwgdHlwZSA9PSBkb3VibGVQcmltaXRpdmVUeXBlIHx8IHR5cGUgPT0gSW50ZWdlclR5cGUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHtcclxuICAgICAgICAvLyAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgLy8gICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWVcclxuICAgICAgICAvLyAgICAgfTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIiArIDxudW1iZXI+dmFsdWUudmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT0gY2hhclByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogU3RyaW5nLmZyb21DaGFyQ29kZSg8bnVtYmVyPnZhbHVlLnZhbHVlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDxudW1iZXI+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZC50eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5taW51czpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kID09IG51bGwpIHJldHVybiAtdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm11bHRpcGxpY2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICogPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kaXZpc2lvbjpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kLnR5cGUgPT0gaW50UHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnRydW5jKHZhbHVlIC8gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC8gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5tb2R1bG86XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZC50eXBlID09IGludFByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC50cnVuYyh2YWx1ZSAlIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZG91YmxlUGx1czpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSsrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZG91YmxlTWludXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUtLTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5lZ2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC12YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnRpbGRlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIH52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgKDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID49IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3RFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLk9SOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIHwgPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5YT1I6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgXiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmFtcGVyc2FuZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuc2hpZnRMZWZ0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDw8IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuc2hpZnRSaWdodDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+PiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnNoaWZ0UmlnaHRVbnNpZ25lZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+Pj4gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIlwiICsgPG51bWJlcj52YWx1ZS52YWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTG9uZ1ByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBJbnRQcmltaXRpdmVUeXBlIHtcclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gXCJsb25nXCI7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcImdhbnplIFphaGxcIlxyXG5cclxuICAgICAgICB0aGlzLm9wZXJhdGlvblRhYmxlID0ge1xyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLnBsdXNdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5taW51c106IHsgXCJub25lXCI6IGludFByaW1pdGl2ZVR5cGUsIFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5tdWx0aXBsaWNhdGlvbl06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm1vZHVsb106IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kaXZpc2lvbl06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmRvdWJsZVBsdXNdOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlTWludXNdOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubmVnYXRpb25dOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUudGlsZGVdOiB7IFwibm9uZVwiOiBpbnRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlcl06IHsgXCJsb25nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlck9yRXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90RXF1YWxdOiB7IFwibG9uZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcblxyXG4gICAgICAgICAgICAvLyBiaW5hcnkgb3BzXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuT1JdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGxvbmdQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuWE9SXTogeyBcImxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkxvbmdcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBsb25nUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmFtcGVyc2FuZF06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5zaGlmdExlZnRdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGxvbmdQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuc2hpZnRSaWdodF06IHsgXCJsb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcImludFwiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJMb25nXCI6IGxvbmdQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogbG9uZ1ByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5zaGlmdFJpZ2h0VW5zaWduZWRdOiB7IFwibG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogbG9uZ1ByaW1pdGl2ZVR5cGUsIFwiTG9uZ1wiOiBsb25nUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGxvbmdQcmltaXRpdmVUeXBlIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5jYW5DYXN0VG9saXN0ID0gW2Zsb2F0UHJpbWl0aXZlVHlwZSwgZG91YmxlUHJpbWl0aXZlVHlwZSwgc3RyaW5nUHJpbWl0aXZlVHlwZSwgY2hhclByaW1pdGl2ZVR5cGVdO1xyXG5cclxuICAgICAgICB0aGlzLmNhbkNhc3RUb01hcCA9IHtcclxuICAgICAgICAgICAgXCJmbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiZG91YmxlXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJTdHJpbmdcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiY2hhclwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJpbnRcIjogeyBhdXRvbWF0aWM6IGZhbHNlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJsb25nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJJbnRlZ2VyXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJMb25nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUubG9uZ0NvbnN0YW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb2F0UHJpbWl0aXZlVHlwZSBleHRlbmRzIFByaW1pdGl2ZVR5cGUge1xyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gXCJmbG9hdFwiO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJGbGllw59rb21tYXphaGwgbWl0IGVpbmZhY2hlciBHZW5hdWlna2VpdFwiXHJcblxyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUucGx1c106IHsgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5taW51c106IHsgXCJub25lXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5tdWx0aXBsaWNhdGlvbl06IHsgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kaXZpc2lvbl06IHsgXCJJbnRlZ2VyXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJpbnRcIjogZmxvYXRQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGZsb2F0UHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBmbG9hdFByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kb3VibGVQbHVzXTogeyBcIm5vbmVcIjogZmxvYXRQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlTWludXNdOiB7IFwibm9uZVwiOiBmbG9hdFByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5uZWdhdGlvbl06IHsgXCJub25lXCI6IGZsb2F0UHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlck9yRXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5lcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubm90RXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRoaXMuY2FuQ2FzdFRvbGlzdCA9IFtpbnRQcmltaXRpdmVUeXBlLCBzdHJpbmdQcmltaXRpdmVUeXBlLCBkb3VibGVQcmltaXRpdmVUeXBlXTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5DYXN0VG9NYXAgPSB7XHJcbiAgICAgICAgICAgIFwiaW50XCI6IHsgYXV0b21hdGljOiBmYWxzZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJkb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcImZsb2F0XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJTdHJpbmdcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiRmxvYXRcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiRG91YmxlXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLmZsb2F0aW5nUG9pbnRDb25zdGFudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSk6IFZhbHVlIHtcclxuXHJcbiAgICAgICAgLy8gbGV0IHVuYm94ZWQgPSB0aGlzLnVuYm94RnJvbSh2YWx1ZSwgdHlwZSk7XHJcbiAgICAgICAgLy8gaWYgKHVuYm94ZWQgIT0gbnVsbCkgcmV0dXJuIHVuYm94ZWQ7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmxvYXRUb1N0cmluZyh2YWx1ZS52YWx1ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT0gaW50UHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBNYXRoLnRydW5jKDxudW1iZXI+dmFsdWUudmFsdWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmICh0eXBlID09IGRvdWJsZVByaW1pdGl2ZVR5cGUgfHwgdHlwZSA9PSBEb3VibGVUeXBlIHx8IHR5cGUgPT0gRmxvYXRUeXBlKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIC8vICAgICAgICAgdmFsdWU6IHZhbHVlLnZhbHVlXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlKTogYW55IHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlID0gPG51bWJlcj4oZmlyc3RPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUucGx1czpcclxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRPcGVyYW5kLnR5cGUgPT0gc3RyaW5nUHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm1pbnVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQgPT0gbnVsbCkgcmV0dXJuIC12YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAtIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubXVsdGlwbGljYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKiA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRpdmlzaW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC8gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kb3VibGVQbHVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlKys7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5kb3VibGVNaW51czpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS0tO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubmVnYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLXZhbHVlO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubG93ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPCAoPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSkpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZ3JlYXRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubG93ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDw9IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPj0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5lcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdEVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVidWdPdXRwdXQodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIDxudW1iZXI+dmFsdWUudmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERvdWJsZVByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBQcmltaXRpdmVUeXBlIHtcclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IFwiZG91YmxlXCI7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcIkZsaWXDn2tvbW1hemFobCBtaXQgZG9wcGVsdGVyIEdlbmF1aWdrZWl0XCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyBcImludFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5taW51c106IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiaW50XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogZG91YmxlUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm11bHRpcGxpY2F0aW9uXTogeyBcImludFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kaXZpc2lvbl06IHsgXCJpbnRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogZG91YmxlUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBkb3VibGVQcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZG91YmxlUGx1c106IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5kb3VibGVNaW51c106IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5uZWdhdGlvbl06IHsgXCJub25lXCI6IGRvdWJsZVByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlcl06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlcl06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJPckVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ncmVhdGVyT3JFcXVhbF06IHsgXCJpbnRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkludGVnZXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRmxvYXRcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiRG91YmxlXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwiaW50XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcImRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJJbnRlZ2VyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkZsb2F0XCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlLCBcIkRvdWJsZVwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5vdEVxdWFsXTogeyBcImludFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJmbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJkb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwiSW50ZWdlclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJGbG9hdFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJEb3VibGVcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB0aGlzLmNhbkNhc3RUb2xpc3QgPSBbaW50UHJpbWl0aXZlVHlwZSwgc3RyaW5nUHJpbWl0aXZlVHlwZSwgZmxvYXRQcmltaXRpdmVUeXBlXTtcclxuICAgICAgICB0aGlzLmNhbkNhc3RUb01hcCA9IHtcclxuICAgICAgICAgICAgXCJpbnRcIjogeyBhdXRvbWF0aWM6IGZhbHNlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcImZsb2F0XCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogZmFsc2UgfSxcclxuICAgICAgICAgICAgXCJkb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcIlN0cmluZ1wiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJGbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJEb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLmZsb2F0aW5nUG9pbnRDb25zdGFudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FzdFRvKHZhbHVlOiBWYWx1ZSwgdHlwZTogVHlwZSk6IFZhbHVlIHtcclxuXHJcbiAgICAgICAgLy8gbGV0IHVuYm94ZWQgPSB0aGlzLnVuYm94RnJvbSh2YWx1ZSwgdHlwZSk7XHJcbiAgICAgICAgLy8gaWYgKHVuYm94ZWQgIT0gbnVsbCkgcmV0dXJuIHVuYm94ZWQ7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmxvYXRUb1N0cmluZyh2YWx1ZS52YWx1ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT0gaW50UHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBNYXRoLnRydW5jKDxudW1iZXI+dmFsdWUudmFsdWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmICh0eXBlID09IGZsb2F0UHJpbWl0aXZlVHlwZSB8fCB0eXBlID09IEZsb2F0VHlwZSB8fCB0eXBlID09IERvdWJsZVR5cGUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHtcclxuICAgICAgICAvLyAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgLy8gICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWVcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb21wdXRlKG9wZXJhdGlvbjogVG9rZW5UeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kPzogVmFsdWUpOiBhbnkge1xyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSA8bnVtYmVyPihmaXJzdE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5wbHVzOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNlY29uZE9wZXJhbmQudHlwZSA9PSBzdHJpbmdQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubWludXM6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZCA9PSBudWxsKSByZXR1cm4gLXZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIC0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5tdWx0aXBsaWNhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAqIDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZGl2aXNpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRvdWJsZVBsdXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUrKztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmRvdWJsZU1pbnVzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLS07XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5uZWdhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAtdmFsdWU7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8ICg8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5sb3dlck9yRXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPD0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+PSA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IDxudW1iZXI+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubm90RXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gPG51bWJlcj4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIlwiICsgPG51bWJlcj52YWx1ZS52YWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQm9vbGVhblByaW1pdGl2ZVR5cGUgZXh0ZW5kcyBQcmltaXRpdmVUeXBlIHtcclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBcImJvb2xlYW5cIjtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFwiYm9vbGVzY2hlciBXZXJ0ICh0cnVlIG9kZXIgZmFsc2UpXCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmFuZF06IHsgXCJib29sZWFuXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUub3JdOiB7IFwiYm9vbGVhblwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5vdF06IHsgXCJub25lXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZXF1YWxdOiB7IFwiYm9vbGVhblwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5vdEVxdWFsXTogeyBcImJvb2xlYW5cIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNhbkNhc3RUb01hcCA9IHtcclxuICAgICAgICAgICAgXCJTdHJpbmdcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiYm9vbGVhblwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIFwiQm9vbGVhblwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuYm9vbGVhbkNvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICAvLyBsZXQgdW5ib3hlZCA9IHRoaXMudW5ib3hGcm9tKHZhbHVlLCB0eXBlKTtcclxuICAgICAgICAvLyBpZiAodW5ib3hlZCAhPSBudWxsKSByZXR1cm4gdW5ib3hlZDtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT0gc3RyaW5nUHJpbWl0aXZlVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiICsgPG51bWJlcj52YWx1ZS52YWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiAodHlwZSA9PSBCb29sZWFuVHlwZSl7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIC8vICAgICAgICAgdmFsdWU6IHZhbHVlLnZhbHVlXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlKTogYW55IHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlID0gPGJvb2xlYW4+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyBudWxsVG9TdHJpbmcoPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSkpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gPGJvb2xlYW4+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUubm90RXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gPGJvb2xlYW4+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuYW5kOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICYmIDxib29sZWFuPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm9yOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIHx8IDxib29sZWFuPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAhdmFsdWU7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIlwiICsgPGJvb2xlYW4+dmFsdWUudmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZvaWRQcmltaXRpdmVUeXBlIGV4dGVuZHMgUHJpbWl0aXZlVHlwZSB7XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gXCJ2b2lkXCI7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcImxlZXJlciBSw7xja2dhYmV3ZXJ0XCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNhbkNhc3RUb01hcCA9IHt9O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9Ub2tlblR5cGUoKTogVG9rZW5UeXBlIHtcclxuICAgICAgICByZXR1cm4gVG9rZW5UeXBlLmtleXdvcmRWb2lkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlKTogYW55IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcInZvaWRcIjtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3RyaW5nUHJpbWl0aXZlVHlwZSBleHRlbmRzIEtsYXNzIHtcclxuXHJcbiAgICBwcml2YXRlIG9wZXJhdGlvblRhYmxlOiB7IFtvcGVyYXRpb246IG51bWJlcl06IHsgW3R5cGVuYW1lOiBzdHJpbmddOiBUeXBlIH0gfVxyXG5cclxuICAgIHB1YmxpYyB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuc3RyaW5nQ29uc3RhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFJlc3VsdFR5cGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIHNlY29uZE9wZXJhbmRUeXBlPzogVHlwZSk6IFR5cGUge1xyXG5cclxuICAgICAgICBpZiAob3BlcmF0aW9uID09IFRva2VuVHlwZS5rZXl3b3JkSW5zdGFuY2VvZikge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0UmVzdWx0VHlwZShvcGVyYXRpb24sIHNlY29uZE9wZXJhbmRUeXBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvcFR5cGVNYXAgPSB0aGlzLm9wZXJhdGlvblRhYmxlW29wZXJhdGlvbl07XHJcblxyXG4gICAgICAgIGlmIChvcFR5cGVNYXAgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gT3BlcmF0aW9uIG5vdCBwb3NzaWJsZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlY29uZE9wZXJhbmRUeXBlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wVHlwZU1hcFtzZWNvbmRPcGVyYW5kVHlwZS5pZGVudGlmaWVyXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvcFR5cGVNYXBbXCJub25lXCJdO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoYmFzZUNsYXNzOiBLbGFzcykge1xyXG4gICAgICAgIHN1cGVyKFwiU3RyaW5nXCIsIG51bGwsIFwiRWluIE9iamVrdCBkZXIgS2xhc3NlIFN0cmluZyBzcGVpY2hlcnQgZWluZSBaZWljaGVua2V0dGUuXCIpO1xyXG4gICAgICAgIHRoaXMuYmFzZUNsYXNzID0gYmFzZUNsYXNzO1xyXG4gICAgICAgIGxldCBzdHJpbmdDbGFzcyA9IHRoaXM7XHJcbiAgICAgICAgYmFzZUNsYXNzLm1ldGhvZHMuZmlsdGVyKG0gPT4gbS5pZGVudGlmaWVyID09IFwidG9TdHJpbmdcIikuZm9yRWFjaChtID0+IG0ucmV0dXJuVHlwZSA9IHN0cmluZ0NsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uVGFibGUgPSB7XHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUucGx1c106IHtcclxuICAgICAgICAgICAgICAgIFwiU3RyaW5nXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUgLy8sIFwiaW50XCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAvLyBcImZsb2F0XCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIFwiZG91YmxlXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAvLyBcImJvb2xlYW5cIjogc3RyaW5nUHJpbWl0aXZlVHlwZSwgXCJjaGFyXCI6IHN0cmluZ1ByaW1pdGl2ZVR5cGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5lcXVhbF06IHsgXCJTdHJpbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUsIFwibnVsbFwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLm5vdEVxdWFsXTogeyBcIlN0cmluZ1wiOiBib29sZWFuUHJpbWl0aXZlVHlwZSwgXCJudWxsXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJdOiB7IFwiU3RyaW5nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlcl06IHsgXCJTdHJpbmdcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5sb3dlck9yRXF1YWxdOiB7IFwiU3RyaW5nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWxdOiB7IFwiU3RyaW5nXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJsZW5ndGhcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW10pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+cGFyYW1ldGVyc1swXS52YWx1ZSkubGVuZ3RoOyB9LCBmYWxzZSwgZmFsc2UsIFwiTMOkbmdlIGRlciBaZWljaGVua2V0dGUsIGQuaC4gQW56YWhsIGRlciBaZWljaGVuIGluIGRlciBaZWljaGVua2V0dGUuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiY2hhckF0XCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwiUG9zaXRpb25cIiwgdHlwZTogaW50UHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGNoYXJQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+cGFyYW1ldGVyc1swXS52YWx1ZSkuY2hhckF0KDxudW1iZXI+KHBhcmFtZXRlcnNbMV0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIlplaWNoZW4gYW4gZGVyIGdlZ2ViZW5lbiBQb3NpdGlvbi5cXG4qKkJlbS46ICoqIFBvc2l0aW9uID09IDAgYmVkZXV0ZXQgZGFzIGVyc3RlIFplaWNoZW4gaW4gZGVyIFplaWNoZW5rZXR0ZSwgUG9zaXRpb24gPT0gMSBkYXMgendlaXRlIHVzdy4gLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImVxdWFsc1wiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuIDxzdHJpbmc+cGFyYW1ldGVyc1swXS52YWx1ZSA9PSA8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZ2VuYXUgZGFubiAqKndhaHIqKiB6dXLDvGNrLCB3ZW5uIGRpZSB6d2VpIFplaWNoZW5rZXR0ZW4gw7xiZXJlaW5zdGltbWVuICh1bnRlciBCZXLDvGNrc2ljaHRpZ3VuZyB2b24gS2xlaW4tL0dyb8Ofc2NocmVpYnVuZykuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiY29tcGFyZVRvXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGludFByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLmxvY2FsZUNvbXBhcmUoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSksICdkZScsIHsgY2FzZUZpcnN0OiAndXBwZXInIH0pOyB9LCBmYWxzZSwgZmFsc2UsIFwiVmVyZ2xlaWNodCBkZW4gU3RyaW5nIG1pdCBkZW0gw7xiZXJnZWJlbmVuIFN0cmluZy4gR2lidCAtMSB6dXLDvGNrLCBmYWxscyBlcnN0ZXJlciBpbSBBbHBoYWJldCB2b3IgbGV0enRlcmVtIHN0ZWh0LCArMSwgZmFsbHMgdW1nZWtlaHJ0IHVuZCAwLCBmYWxscyBiZWlkZSBTdHJpbmdzIGlkZW50aXNjaCBzaW5kLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImNvbXBhcmVUb0lnbm9yZUNhc2VcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJvdGhlclN0cmluZ1wiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgaW50UHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkubG9jYWxlQ29tcGFyZSg8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSwgJ2RlJywgeyBzZW5zaXRpdml0eTogXCJhY2NlbnRcIiB9KTsgfSwgZmFsc2UsIGZhbHNlLCBcIlZlcmdsZWljaHQgZGVuIFN0cmluZyBtaXQgZGVtIMO8YmVyZ2ViZW5lbiBTdHJpbmcuIEdpYnQgLTEgenVyw7xjaywgZmFsbHMgZXJzdGVyZXIgaW0gQWxwaGFiZXQgdm9yIGxldHp0ZXJlbSBzdGVodCwgKzEsIGZhbGxzIHVtZ2VrZWhydCB1bmQgMCwgZmFsbHMgYmVpZGUgU3RyaW5ncyBpZGVudGlzY2ggc2luZC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJlcXVhbHNJZ25vcmVDYXNlXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGJvb2xlYW5QcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS50b0xvd2VyQ2FzZSgpID09ICg8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKS50b0xvd2VyQ2FzZSgpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZ2VuYXUgZGFubiAqKndhaHIqKiB6dXLDvGNrLCB3ZW5uIGRpZSB6d2VpIFplaWNoZW5rZXR0ZW4gw7xiZXJlaW5zdGltbWVuICgqKm9obmUqKiBCZXLDvGNrc2ljaHRpZ3VuZyB2b24gS2xlaW4tL0dyb8Ofc2NocmVpYnVuZykuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiZW5kc1dpdGhcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJzdWZmaXhcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGJvb2xlYW5QcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5lbmRzV2l0aCg8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGdlbmF1IGRhbm4gKip3YWhyKiogenVyw7xjaywgd2VubiBkaWUgWmVpY2hlbmtldHRlIG1pdCBkZXIgw7xiZXJnZWJlbmVuIFplaWNoZW5rZXR0ZSAoID0gc3VmZml4KSBlbmRldC4gS2xlaW4tL0dyb8Ofc2NocmVpYnVuZyB3aXJkIGRhYmVpIGJlcsO8Y2tzaWNodGlndCFcIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJzdGFydHNXaXRoXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwicHLDpGZpeFwiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgYm9vbGVhblByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnN0YXJ0c1dpdGgoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBnZW5hdSBkYW5uICoqd2FocioqIHp1csO8Y2ssIHdlbm4gZGllIFplaWNoZW5rZXR0ZSBtaXQgZGVyIMO8YmVyZ2ViZW5lbiBaZWljaGVua2V0dGUgKCA9IHByw6RmaXgpIGJlZ2lubnQuIEtsZWluLS9Hcm/Dn3NjaHJlaWJ1bmcgd2lyZCBkYWJlaSBiZXLDvGNrc2ljaHRpZ3QhXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwidG9Mb3dlckNhc2VcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW10pLCBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS50b0xvY2FsZUxvd2VyQ2FzZSgpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgWmVpY2hlbmtldHRlIHp1csO8Y2ssIGRpZSBzaWNoIGVyZ2lidCwgd2VubiBtYW4gaW4gZGVyIGdlZ2ViZW5lbiBaZWljaG5rZXR0ZSBqZWRlbiBHcm/Dn2J1Y2hzdGFiZW4gZHVyY2ggZGVuIGVudHNwcmVjaGVuZGVuIEtsZWluYnVjaHN0YWJlbiBlcnNldHp0LlxcbioqQmVtZXJrdW5nOiAqKiBEaWUgTWV0aG9kZSB2ZXLDpG5kZXJ0IGRpZSBaZWljaGVua2V0dGUgc2VsYnN0IG5pY2h0LlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInRvVXBwZXJDYXNlXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkudG9Mb2NhbGVVcHBlckNhc2UoKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGllIFplaWNoZW5rZXR0ZSB6dXLDvGNrLCBkaWUgc2ljaCBlcmdpYnQsIHdlbm4gbWFuIGluIGRlciBnZWdlYmVuZW4gWmVpY2hua2V0dGUgamVkZW4gS2xlaW5idWNoc3RhYmVuIGR1cmNoIGRlbiBlbnRzcHJlY2hlbmRlbiBHcm/Dn2J1Y2hzdGFiZW4gZXJzZXR6dC5cXG4qKkJlbWVya3VuZzogKiogRGllIE1ldGhvZGUgdmVyw6RuZGVydCBkaWUgWmVpY2hlbmtldHRlIHNlbGJzdCBuaWNodC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJzdWJzdHJpbmdcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJiZWdpbkluZGV4XCIsIHR5cGU6IGludFByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfV0pLCBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5zdWJzdHJpbmcoPG51bWJlcj4ocGFyYW1ldGVyc1sxXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkYXMgaGludGVyZSBFbmRlIGRlciBaZWljaGVua2V0dGUgYWIgKipiZWdpbkluZGV4KiogenVyw7xjay4gKipiZWdpbkluZGV4KiogPT0gMSBiZWRldXRldCwgZGFzcyBkaWUgWmVpY2hlbmtldHRlIGFiIGRlbSAyLighKSBaZWljaGVuIHp1csO8Y2tnZWdlYmVuIHdpcmQuIFwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInN1YnN0cmluZ1wiLCBuZXcgUGFyYW1ldGVybGlzdChbeyBpZGVudGlmaWVyOiBcImJlZ2luSW5kZXhcIiwgdHlwZTogaW50UHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaWRlbnRpZmllcjogXCJlbmRJbmRleFwiLCB0eXBlOiBpbnRQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkuc3Vic3RyaW5nKDxudW1iZXI+KHBhcmFtZXRlcnNbMV0udmFsdWUpLCA8bnVtYmVyPihwYXJhbWV0ZXJzWzJdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBUZWlsLVplaWNoZW5rZXR0ZSB2b24gKipiZWdpbkluZGV4KiogYmlzICoqZW5kSW5kZXgqKiB6dXLDvGNrLlxcbioqVm9yc2ljaHQ6ICoqIGJlZ2luSW5kZXggdW5kIGVuZEluZGV4IHNpbmQgbnVsbGJhc2llcnQsIGQuaC4gYmVnaW5JbmRleCA9PSAwIGJlZGV1dGV0IGRpZSBQb3NpdGlvbiB2b3IgZGVtIGVyc3RlbiBaZWljaGVuLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInRyaW1cIiwgbmV3IFBhcmFtZXRlcmxpc3QoW10pLCBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS50cmltKCk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBaZWljaGVua2V0dGUgenVyw7xjaywgZGllIGVudHN0ZWh0LCB3ZW5uIG1hbiBhbSBBbmZhbmcgdW5kIEVuZGUgZGVyIFplaWNoZW5rZXR0ZSBhbGxlIExlZXJ6ZWljaGVuLCBUYWJzIHVuZCBaZWlsZW51bWJyw7xjaGUgZW50ZmVybnQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwiaXNFbXB0eVwiLCBuZXcgUGFyYW1ldGVybGlzdChbXSksIGJvb2xlYW5QcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKSA9PSBcIlwiOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBnZW5hdSBkYW5uIHdhaHIgenVyw7xjaywgd2VubiBkaWUgWmVpY2hlbmtldHRlIGxlZXIgaXN0LlxcbioqV2FybnVuZzogKiogRGllIE1ldGhvZGUgZGFyZiBuaWNodCBtaXQgZGVtICcnJ251bGwnJyctT2JqZWt0IGF1ZmdlcnVmZW4gd2VyZGVuIVwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImluZGV4T2ZcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW3sgaWRlbnRpZmllcjogXCJvdGhlclN0cmluZ1wiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH1dKSwgaW50UHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHsgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkuaW5kZXhPZig8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJHaWJ0IGRpZSBlcnN0ZSBQb3NpdGlvbiB6dXLDvGNrLCBhbiBkZXIgKipvdGhlclN0cmluZyoqIGluIGRlciBaZWljaGVua2V0dGUgZ2VmdW5kZW4gd2lyZC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJpbmRleE9mXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcIm90aGVyU3RyaW5nXCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcImZyb21JbmRleFwiLCB0eXBlOiBpbnRQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgXSksIGludFByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLmluZGV4T2YoPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSksIDxudW1iZXI+KHBhcmFtZXRlcnNbMl0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGllIGVyc3RlIFBvc2l0aW9uIHp1csO8Y2ssIGFuIGRlciAqKm90aGVyU3RyaW5nKiogaW4gZGVyIFplaWNoZW5rZXR0ZSBnZWZ1bmRlbiB3aXJkLiBEYWJlaSB3aXJkIGVyc3QgYmVpIGZyb21JbmRleCBtaXQgZGVyIFN1Y2hlIGJlZ29ubmVuLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcImxhc3RJbmRleE9mXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFt7IGlkZW50aWZpZXI6IFwib3RoZXJTdHJpbmdcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XSksIGludFByaW1pdGl2ZVR5cGUsXHJcbiAgICAgICAgICAgIChwYXJhbWV0ZXJzKSA9PiB7IHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLmxhc3RJbmRleE9mKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpKTsgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZGllIGxldHp0ZSBQb3NpdGlvbiB6dXLDvGNrLCBiZWkgZGVyIG90aGVyU3RyaW5nIGluIGRlciBaZWljaGVua2V0dGUgZ2VmdW5kZW4gd2lyZC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJsYXN0SW5kZXhPZlwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJvdGhlclN0cmluZ1wiLCB0eXBlOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBkZWNsYXJhdGlvbjogbnVsbCwgdXNhZ2VQb3NpdGlvbnM6IG51bGwsIGlzRmluYWw6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJmcm9tSW5kZXhcIiwgdHlwZTogaW50UHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgIF0pLCBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5sYXN0SW5kZXhPZig8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKSwgPG51bWJlcj4ocGFyYW1ldGVyc1syXS52YWx1ZSkpOyB9LCBmYWxzZSwgZmFsc2UsIFwiR2lidCBkaWUgbGV0enRlIFBvc2l0aW9uIHp1csO8Y2ssIGJlaSBkZXIgb3RoZXJTdHJpbmcgaW4gZGVyIFplaWNoZW5rZXR0ZSBnZWZ1bmRlbiB3aXJkLiBEYWJlaSB3aXJkIGVyc3QgYmVpIGZyb21JbmRleCAtIHZvbiByZWNodHMgaGVyIGJlZ2lubmVuZCAtIGdlc3VjaHQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwicmVwbGFjZVwiLCBuZXcgUGFyYW1ldGVybGlzdChbXHJcbiAgICAgICAgICAgIHsgaWRlbnRpZmllcjogXCJ0YXJnZXRcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwicmVwbGFjZW1lbnRcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9LFxyXG4gICAgICAgIF0pLCBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4geyByZXR1cm4gKDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpKS5yZXBsYWNlKDxzdHJpbmc+KHBhcmFtZXRlcnNbMV0udmFsdWUpLCA8c3RyaW5nPihwYXJhbWV0ZXJzWzJdLnZhbHVlKSk7IH0sIGZhbHNlLCBmYWxzZSwgXCJFcnNldHp0IGFsbGUgVm9ya29tbWVuIHZvbiAqKnRhcmdldCoqIGR1cmNoICoqcmVwbGFjZW1lbnQqKiB1bmQgZ2lidCBkaWUgZW50c3RhbmRlbmUgWmVpY2hlbmtldHRlIHp1csO8Y2suIERpZSBaZWljaGVua2V0dGUgc2VsYnN0IHdpcmQgbmljaHQgdmVyw6RuZGVydC5cIikpO1xyXG4gICAgICAgIHRoaXMuYWRkTWV0aG9kKG5ldyBNZXRob2QoXCJyZXBsYWNlQWxsXCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlZ2V4XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlcGxhY2VtZW50XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICBdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVnRXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnZycpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnJlcGxhY2UocmVnRXhwLCA8c3RyaW5nPihwYXJhbWV0ZXJzWzJdLnZhbHVlKSk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlLCBmYWxzZSwgXCJEdXJjaHN1Y2h0IGRlbiBTdHJpbmcgbWl0IGRlbSByZWd1bMOkcmVuIEF1c2RydWNrIChyZWdleCkgdW5kIGVyc2V0enQgKiphbGxlKiogRnVuZHN0ZWxsZW4gZHVyY2ggKipyZXBsYWNlbWVudCoqLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcIm1hdGNoZXNcIiwgbmV3IFBhcmFtZXRlcmxpc3QoW1xyXG4gICAgICAgICAgICB7IGlkZW50aWZpZXI6IFwicmVnZXhcIiwgdHlwZTogc3RyaW5nUHJpbWl0aXZlVHlwZSwgZGVjbGFyYXRpb246IG51bGwsIHVzYWdlUG9zaXRpb25zOiBudWxsLCBpc0ZpbmFsOiBmYWxzZSB9XHJcbiAgICAgICAgXSksIGJvb2xlYW5QcmltaXRpdmVUeXBlLFxyXG4gICAgICAgICAgICAocGFyYW1ldGVycykgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSA8c3RyaW5nPihwYXJhbWV0ZXJzWzFdLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGxldCByZWdFeHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICdnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxzdHJpbmc+KHBhcmFtZXRlcnNbMF0udmFsdWUpLm1hdGNoKHJlZ0V4cCkgIT0gbnVsbDtcclxuICAgICAgICAgICAgfSwgZmFsc2UsIGZhbHNlLCBcIkdpYnQgZ2VuYXUgZGFubiB0cnVlIHp1csO8Y2ssIHdlbm4gZGVyIFdlcnQgZGVyIFplaWNoZW5rZXR0ZSBkZW0gcmVndWzDpHJlbiBBdXNkcnVjayAocmVnZXgpIGVudHNwcmljaHQuXCIpKTtcclxuICAgICAgICB0aGlzLmFkZE1ldGhvZChuZXcgTWV0aG9kKFwicmVwbGFjZUZpcnN0XCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlZ2V4XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlcGxhY2VtZW50XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICBdKSwgc3RyaW5nUHJpbWl0aXZlVHlwZSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVnRXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICg8c3RyaW5nPihwYXJhbWV0ZXJzWzBdLnZhbHVlKSkucmVwbGFjZShyZWdFeHAsIDxzdHJpbmc+KHBhcmFtZXRlcnNbMl0udmFsdWUpKTtcclxuICAgICAgICAgICAgfSwgZmFsc2UsIGZhbHNlLCBcIkR1cmNoc3VjaHQgZGVuIFN0cmluZyBtaXQgZGVtIHJlZ3Vsw6RyZW4gQXVzZHJ1Y2sgKHJlZ2V4KSB1bmQgZXJzZXR6dCAqKmRpZSBlcnN0ZSoqIEZ1bmRzdGVsbGUgZHVyY2ggKipyZXBsYWNlbWVudCoqLlwiKSk7XHJcbiAgICAgICAgdGhpcy5hZGRNZXRob2QobmV3IE1ldGhvZChcInNwbGl0XCIsIG5ldyBQYXJhbWV0ZXJsaXN0KFtcclxuICAgICAgICAgICAgeyBpZGVudGlmaWVyOiBcInJlZ2V4XCIsIHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIGRlY2xhcmF0aW9uOiBudWxsLCB1c2FnZVBvc2l0aW9uczogbnVsbCwgaXNGaW5hbDogZmFsc2UgfSxcclxuICAgICAgICBdKSwgbmV3IEFycmF5VHlwZShzdHJpbmdQcmltaXRpdmVUeXBlKSxcclxuICAgICAgICAgICAgKHBhcmFtZXRlcnMpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBwYXR0ZXJuID0gPHN0cmluZz4ocGFyYW1ldGVyc1sxXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVnRXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHN0cmluZ3MgPSAoPHN0cmluZz4ocGFyYW1ldGVyc1swXS52YWx1ZSkpLnNwbGl0KHJlZ0V4cCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWVzOiBWYWx1ZVtdID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzIG9mIHN0cmluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh7IHR5cGU6IHN0cmluZ1ByaW1pdGl2ZVR5cGUsIHZhbHVlOiBzIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XHJcblxyXG4gICAgICAgICAgICB9LCBmYWxzZSwgZmFsc2UsIFwiVGVpbHQgZGllIFplaWNoZW5rZXR0ZSBhbiBkZW4gU3RlbGxlbiwgZGllIGR1cmNoIGRlbiByZWd1bMOkcmVuIEF1c2RydWNrIChyZWdleCkgZGVmaW5pZXJ0IHNpbmQsIGluIFRlaWxlIGF1Zi4gRGllIEZ1bmRzdGVsbGVuIGRlcyByZWdleCB3ZXJkZW4gZGFiZWkgd2VnZ2VsYXNzZW4uIEdpYnQgZGllIFRlaWxlIGFscyBTdHJpbmctQXJyYXkgenVyw7xjay5cIikpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29tcHV0ZShvcGVyYXRpb246IFRva2VuVHlwZSwgZmlyc3RPcGVyYW5kOiBWYWx1ZSwgc2Vjb25kT3BlcmFuZD86IFZhbHVlKTogYW55IHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlID0gPHN0cmluZz4oZmlyc3RPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgbGV0IGVycjogRXJyb3IgPSBjaGVja05vdE51bGwob3BlcmF0aW9uLCB0aGlzLCBmaXJzdE9wZXJhbmQsIHNlY29uZE9wZXJhbmQsIFtUb2tlblR5cGUucGx1cywgVG9rZW5UeXBlLmtleXdvcmRJbnN0YW5jZW9mXSlcclxuICAgICAgICBpZiAoZXJyICE9IG51bGwpIHJldHVybiBlcnI7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Vjb25kT3BlcmFuZC50eXBlID09IHN0cmluZ1ByaW1pdGl2ZVR5cGUgfHwgc2Vjb25kT3BlcmFuZC50eXBlID09IGNoYXJQcmltaXRpdmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxUb1N0cmluZyh2YWx1ZSkgKyA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTsgLy8gYmVjYXVzZSBudWxsICsgbnVsbCA9IDAgaW4gamF2YXNjcmlwdFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWNvbmRPcGVyYW5kLnR5cGUgPT0gYm9vbGVhblByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFRvU3RyaW5nKHZhbHVlKSArIDxib29sZWFuPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxUb1N0cmluZyh2YWx1ZSkgKyA8bnVtYmVyPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmxvY2FsZUNvbXBhcmUoPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSksICdkZScsIHsgY2FzZUZpcnN0OiAndXBwZXInIH0pIDwgMDtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIDwgKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubG9jYWxlQ29tcGFyZSg8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKSwgJ2RlJywgeyBjYXNlRmlyc3Q6ICd1cHBlcicgfSkgPiAwO1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgPiA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5sb2NhbGVDb21wYXJlKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpLCAnZGUnLCB7IGNhc2VGaXJzdDogJ3VwcGVyJyB9KSA8PSAwO1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgPD0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ncmVhdGVyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5sb2NhbGVDb21wYXJlKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpLCAnZGUnLCB7IGNhc2VGaXJzdDogJ3VwcGVyJyB9KSA+PSAwO1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgPj0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5lcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLm5vdEVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUua2V5d29yZEluc3RhbmNlb2Y6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuY29tcHV0ZShvcGVyYXRpb24sIGZpcnN0T3BlcmFuZCwgc2Vjb25kT3BlcmFuZCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhbGxvd3NOdWxsKCk6IGJvb2xlYW4geyByZXR1cm4gdHJ1ZTsgfVxyXG5cclxuICAgIHB1YmxpYyBkZWJ1Z091dHB1dCh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnXCInICsgPHN0cmluZz52YWx1ZS52YWx1ZSArICdcIic7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENoYXJQcmltaXRpdmVUeXBlIGV4dGVuZHMgUHJpbWl0aXZlVHlwZSB7XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBcIlxcdTAwMDBcIjtcclxuXHJcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gXCJjaGFyXCI7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcImVpbiBaZWljaGVuXCJcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25UYWJsZSA9IHtcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5wbHVzXTogeyBcIlN0cmluZ1wiOiBzdHJpbmdQcmltaXRpdmVUeXBlLCBcImNoYXJcIjogc3RyaW5nUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmVxdWFsXTogeyBcImNoYXJcIjogYm9vbGVhblByaW1pdGl2ZVR5cGUgfSxcclxuICAgICAgICAgICAgW1Rva2VuVHlwZS5ub3RFcXVhbF06IHsgXCJjaGFyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUubG93ZXJdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmdyZWF0ZXJdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9LFxyXG4gICAgICAgICAgICBbVG9rZW5UeXBlLmxvd2VyT3JFcXVhbF06IHsgXCJjaGFyXCI6IGJvb2xlYW5QcmltaXRpdmVUeXBlIH0sXHJcbiAgICAgICAgICAgIFtUb2tlblR5cGUuZ3JlYXRlck9yRXF1YWxdOiB7IFwiY2hhclwiOiBib29sZWFuUHJpbWl0aXZlVHlwZSB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRoaXMuY2FuQ2FzdFRvbGlzdCA9IFtpbnRQcmltaXRpdmVUeXBlLCBmbG9hdFByaW1pdGl2ZVR5cGUsIGRvdWJsZVByaW1pdGl2ZVR5cGUsIHN0cmluZ1ByaW1pdGl2ZVR5cGVdO1xyXG4gICAgICAgIHRoaXMuY2FuQ2FzdFRvTWFwID0ge1xyXG4gICAgICAgICAgICBcImludFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJmbG9hdFwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICAgICAgXCJkb3VibGVcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIFwiU3RyaW5nXCI6IHsgYXV0b21hdGljOiB0cnVlLCBuZWVkc1N0YXRlbWVudDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICBcImNoYXJcIjogeyBhdXRvbWF0aWM6IHRydWUsIG5lZWRzU3RhdGVtZW50OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBcIkNoYXJhY3RlclwiOiB7IGF1dG9tYXRpYzogdHJ1ZSwgbmVlZHNTdGF0ZW1lbnQ6IHRydWUgfSxcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1Rva2VuVHlwZSgpOiBUb2tlblR5cGUge1xyXG4gICAgICAgIHJldHVybiBUb2tlblR5cGUuY2hhckNvbnN0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYXN0VG8odmFsdWU6IFZhbHVlLCB0eXBlOiBUeXBlKTogVmFsdWUge1xyXG5cclxuICAgICAgICAvLyBsZXQgdW5ib3hlZCA9IHRoaXMudW5ib3hGcm9tKHZhbHVlLCB0eXBlKTtcclxuICAgICAgICAvLyBpZiAodW5ib3hlZCAhPSBudWxsKSByZXR1cm4gdW5ib3hlZDtcclxuXHJcbiAgICAgICAgLy8gaWYgKHR5cGUgPT0gc3RyaW5nUHJpbWl0aXZlVHlwZSB8fCB0eXBlID09IENoYXJhY3RlclR5cGUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHtcclxuICAgICAgICAvLyAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgLy8gICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT0gaW50UHJpbWl0aXZlVHlwZSB8fCB0eXBlID09IGZsb2F0UHJpbWl0aXZlVHlwZSB8fCB0eXBlID09IGRvdWJsZVByaW1pdGl2ZVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogKDxzdHJpbmc+dmFsdWUudmFsdWUpLmNoYXJDb2RlQXQoMClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbXB1dGUob3BlcmF0aW9uOiBUb2tlblR5cGUsIGZpcnN0T3BlcmFuZDogVmFsdWUsIHNlY29uZE9wZXJhbmQ/OiBWYWx1ZSk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDxzdHJpbmc+KGZpcnN0T3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLnBsdXM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgKyA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgKDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPiA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmxvd2VyT3JFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8PSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLmdyZWF0ZXJPckVxdWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID49IDxzdHJpbmc+KHNlY29uZE9wZXJhbmQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuZXF1YWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gPHN0cmluZz4oc2Vjb25kT3BlcmFuZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5ub3RFcXVhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPSA8c3RyaW5nPihzZWNvbmRPcGVyYW5kLnZhbHVlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYnVnT3V0cHV0KHZhbHVlOiBWYWx1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFwiJ1wiICsgPHN0cmluZz52YWx1ZS52YWx1ZSArIFwiJ1wiO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgdm9pZFByaW1pdGl2ZVR5cGUgPSBuZXcgVm9pZFByaW1pdGl2ZVR5cGUoKTtcclxuZXhwb3J0IHZhciBpbnRQcmltaXRpdmVUeXBlID0gbmV3IEludFByaW1pdGl2ZVR5cGUoKTtcclxuZXhwb3J0IHZhciBsb25nUHJpbWl0aXZlVHlwZSA9IG5ldyBMb25nUHJpbWl0aXZlVHlwZSgpO1xyXG5leHBvcnQgdmFyIGZsb2F0UHJpbWl0aXZlVHlwZSA9IG5ldyBGbG9hdFByaW1pdGl2ZVR5cGUoKTtcclxuZXhwb3J0IHZhciBkb3VibGVQcmltaXRpdmVUeXBlID0gbmV3IERvdWJsZVByaW1pdGl2ZVR5cGUoKTtcclxuZXhwb3J0IHZhciBib29sZWFuUHJpbWl0aXZlVHlwZSA9IG5ldyBCb29sZWFuUHJpbWl0aXZlVHlwZSgpO1xyXG5zZXRCb29sZWFuUHJpbWl0aXZlVHlwZUNvcHkoYm9vbGVhblByaW1pdGl2ZVR5cGUpO1xyXG5leHBvcnQgdmFyIG9iamVjdFR5cGUgPSBuZXcgT2JqZWN0Q2xhc3MobnVsbCk7XHJcbmV4cG9ydCB2YXIgc3RyaW5nUHJpbWl0aXZlVHlwZSA9IG5ldyBTdHJpbmdQcmltaXRpdmVUeXBlKG9iamVjdFR5cGUpO1xyXG5leHBvcnQgdmFyIGNoYXJQcmltaXRpdmVUeXBlID0gbmV3IENoYXJQcmltaXRpdmVUeXBlKCk7XHJcbmV4cG9ydCB2YXIgbnVsbFR5cGUgPSBuZXcgTnVsbFR5cGUoKTtcclxuZXhwb3J0IHZhciB2YXJUeXBlID0gbmV3IFZhclR5cGUoKTtcclxuXHJcbmV4cG9ydCB2YXIgSW50ZWdlclR5cGUgPSBuZXcgSW50ZWdlckNsYXNzKG9iamVjdFR5cGUpO1xyXG5leHBvcnQgdmFyIExvbmdUeXBlID0gbmV3IExvbmdDbGFzcyhvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBGbG9hdFR5cGUgPSBuZXcgRmxvYXRDbGFzcyhvYmplY3RUeXBlKTtcclxuZXhwb3J0IHZhciBEb3VibGVUeXBlID0gbmV3IERvdWJsZUNsYXNzKG9iamVjdFR5cGUpO1xyXG5leHBvcnQgdmFyIENoYXJhY3RlclR5cGUgPSBuZXcgQ2hhcmFjdGVyQ2xhc3Mob2JqZWN0VHlwZSk7XHJcbmV4cG9ydCB2YXIgQm9vbGVhblR5cGUgPSBuZXcgQm9vbGVhbkNsYXNzKG9iamVjdFR5cGUpO1xyXG5cclxuZXhwb3J0IHZhciBUb2tlblR5cGVUb0RhdGFUeXBlTWFwOiB7IFt0dDogbnVtYmVyXTogVHlwZSB9ID0ge1xyXG4gICAgW1Rva2VuVHlwZS5pbnRlZ2VyQ29uc3RhbnRdOiBpbnRQcmltaXRpdmVUeXBlLFxyXG4gICAgW1Rva2VuVHlwZS5sb25nQ29uc3RhbnRdOiBsb25nUHJpbWl0aXZlVHlwZSxcclxuICAgIFtUb2tlblR5cGUuZmxvYXRpbmdQb2ludENvbnN0YW50XTogZmxvYXRQcmltaXRpdmVUeXBlLFxyXG4gICAgW1Rva2VuVHlwZS5ib29sZWFuQ29uc3RhbnRdOiBib29sZWFuUHJpbWl0aXZlVHlwZSxcclxuICAgIFtUb2tlblR5cGUuc3RyaW5nQ29uc3RhbnRdOiBzdHJpbmdQcmltaXRpdmVUeXBlLFxyXG4gICAgW1Rva2VuVHlwZS5jaGFyQ29uc3RhbnRdOiBjaGFyUHJpbWl0aXZlVHlwZSxcclxuICAgIFtUb2tlblR5cGUua2V5d29yZE51bGxdOiBudWxsVHlwZVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2hlY2tOb3ROdWxsKG9wZXJhdGlvbjogVG9rZW5UeXBlLCB0eXBlOiBUeXBlLCBmaXJzdE9wZXJhbmQ6IFZhbHVlLCBzZWNvbmRPcGVyYW5kPzogVmFsdWUsIG51bGxBbGxvd2VkRm9yOiBUb2tlblR5cGVbXSA9IFtdKTogRXJyb3Ige1xyXG4gICAgaWYgKChmaXJzdE9wZXJhbmQudmFsdWUgPT0gbnVsbCB8fCBzZWNvbmRPcGVyYW5kLnZhbHVlID09IG51bGwpICYmICFudWxsQWxsb3dlZEZvci5jb25jYXQoW1Rva2VuVHlwZS5lcXVhbCwgVG9rZW5UeXBlLm5vdEVxdWFsXSkuaW5jbHVkZXMob3BlcmF0aW9uKSkge1xyXG4gICAgICAgIGxldCB0eXBlQW5kTnVsbDogKHY6IFZhbHVlKSA9PiBzdHJpbmcgPSAodjogVmFsdWUpID0+IHYudmFsdWUgPT0gbnVsbCA/IFwiKFwiICsgdHlwZS5pZGVudGlmaWVyICsgXCIpXCIgKyBcIiBudWxsXCIgOiB0eXBlLmlkZW50aWZpZXI7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYW5kSXNOdWxsKFwiVW5lcmxhdWJ0ZSBSZWNobnVuZyBtaXQgbnVsbDogXCIgKyB0eXBlQW5kTnVsbChmaXJzdE9wZXJhbmQpICsgXCIgXCIgKyBUb2tlblR5cGVSZWFkYWJsZVtvcGVyYXRpb25dICsgXCIgXCIgKyB0eXBlQW5kTnVsbChzZWNvbmRPcGVyYW5kKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9wZXJhbmRJc051bGwgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPcGVyYW5kSXNOdWxsRXJyb3JcIjtcclxuICAgIH1cclxufSJdfQ==