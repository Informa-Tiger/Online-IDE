function createDb(SQL, buffer) {
    db = new SQL.Database(buffer);
    db.create_function("isDate", function (inputText) {
        if (inputText == null)
            return true;
        if (typeof inputText != 'string')
            return false;
        // var dateformat = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;
        var dateformat = /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/;
        // Match the date format through regular expression
        if (inputText.match(dateformat)) {
            //Test which seperator is used '/' or '-'
            var opera1 = inputText.split('/');
            var opera2 = inputText.split('-');
            var lopera1 = opera1.length;
            var lopera2 = opera2.length;
            // Extract the string into month, date and year
            if (lopera1 > 1) {
                var pdate = inputText.split('/');
            }
            else if (lopera2 > 1) {
                var pdate = inputText.split('-');
            }
            if (pdate.length != 3)
                return false;
            var dd = parseInt(pdate[2]);
            var mm = parseInt(pdate[1]);
            var yy = parseInt(pdate[0]);
            // Create list of days of a month [assume there is no leap year by default]
            var ListofDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            if (mm == 1 || mm > 2) {
                if (dd > ListofDays[mm - 1]) {
                    return false;
                }
            }
            if (mm == 2) {
                var lyear = false;
                if ((!(yy % 4) && yy % 100) || !(yy % 400)) {
                    lyear = true;
                }
                if ((lyear == false) && (dd >= 29)) {
                    return false;
                }
                if ((lyear == true) && (dd > 29)) {
                    return false;
                }
                return true;
            }
            return true;
        }
        else {
            return false;
        }
    });
    db.create_function("isDateTime", function (inputText) {
        if (inputText == null)
            return true;
        if (typeof inputText != 'string')
            return false;
        // var dateformat = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;
        var dateformat = /^\d{4}[\-](0[1-9]|1[012])[\-](0[1-9]|[12][0-9]|3[01]) ([01][1-9]|2[0123]):([0-5][0-9]):([0-5][0-9])$/;
        // Match the date format through regular expression
        if (inputText.match(dateformat)) {
            var splitStr = inputText.split(' ');
            var dateStr = splitStr[0];
            //var timeStr = splitStr[1];
            // if (dateStr.length != 3) return false;
            // var dd = parseInt(dateStr[2]);
            // var mm = parseInt(dateStr[1]);
            // var yy = parseInt(dateStr[0]);
            if (dateStr.length != 10)
                return false;
            var dd = parseInt(dateStr.substring(8, 10));
            var mm = parseInt(dateStr.substring(5, 7));
            var yy = parseInt(dateStr.substring(0, 4));
            // Create list of days of a month [assume there is no leap year by default]
            var ListofDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            if (mm == 1 || mm > 2) {
                if (dd > ListofDays[mm - 1]) {
                    return false;
                }
            }
            if (mm == 2) {
                var lyear = false;
                if ((!(yy % 4) && yy % 100) || !(yy % 400)) {
                    lyear = true;
                }
                if ((lyear == false) && (dd >= 29)) {
                    return false;
                }
                if ((lyear == true) && (dd > 29)) {
                    return false;
                }
                return true;
            }
            return true;
        }
        else {
            return false;
        }
    });
    return db;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3FsanNXb3JrZXJUb29scy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jbGllbnQvdG9vbHMvZGF0YWJhc2Uvc3FsanNXb3JrZXJUb29scy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTTtJQUV6QixFQUFFLEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRTlCLEVBQUUsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLFVBQVUsU0FBUztRQUU1QyxJQUFHLFNBQVMsSUFBSSxJQUFJO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDbEMsSUFBSSxPQUFPLFNBQVMsSUFBSSxRQUFRO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFFL0MsbUZBQW1GO1FBQ25GLElBQUksVUFBVSxHQUFHLDhEQUE4RCxDQUFDO1FBQ2hGLG1EQUFtRDtRQUNuRCxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDN0IseUNBQXlDO1lBQ3pDLElBQUksTUFBTSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbEMsSUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNsQyxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQzVCLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDNUIsK0NBQStDO1lBQy9DLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRTtnQkFDYixJQUFJLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3BDO2lCQUNJLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRTtnQkFDbEIsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNwQztZQUNELElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDO2dCQUFFLE9BQU8sS0FBSyxDQUFDO1lBQ3BDLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixJQUFJLEVBQUUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLDJFQUEyRTtZQUMzRSxJQUFJLFVBQVUsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbEUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUU7Z0JBQ25CLElBQUksRUFBRSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUU7b0JBQ3pCLE9BQU8sS0FBSyxDQUFDO2lCQUNoQjthQUNKO1lBQ0QsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNULElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDbEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUU7b0JBQ3hDLEtBQUssR0FBRyxJQUFJLENBQUM7aUJBQ2hCO2dCQUNELElBQUksQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUU7b0JBQ2hDLE9BQU8sS0FBSyxDQUFDO2lCQUNoQjtnQkFDRCxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFO29CQUM5QixPQUFPLEtBQUssQ0FBQztpQkFDaEI7Z0JBQ0QsT0FBTyxJQUFJLENBQUM7YUFDZjtZQUVELE9BQU8sSUFBSSxDQUFDO1NBRWY7YUFDSTtZQUNELE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxVQUFVLFNBQVM7UUFDaEQsSUFBRyxTQUFTLElBQUksSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBRWxDLElBQUksT0FBTyxTQUFTLElBQUksUUFBUTtZQUFFLE9BQU8sS0FBSyxDQUFDO1FBRS9DLG1GQUFtRjtRQUNuRixJQUFJLFVBQVUsR0FBRyxzR0FBc0csQ0FBQztRQUN4SCxtREFBbUQ7UUFDbkQsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQzdCLElBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDcEMsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLDRCQUE0QjtZQUU1Qix5Q0FBeUM7WUFDekMsaUNBQWlDO1lBQ2pDLGlDQUFpQztZQUNqQyxpQ0FBaUM7WUFDakMsSUFBSSxPQUFPLENBQUMsTUFBTSxJQUFJLEVBQUU7Z0JBQUUsT0FBTyxLQUFLLENBQUM7WUFDdkMsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDM0MsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0MsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekMsMkVBQTJFO1lBQzdFLElBQUksVUFBVSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNsRSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRTtnQkFDbkIsSUFBSSxFQUFFLEdBQUcsVUFBVSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRTtvQkFDekIsT0FBTyxLQUFLLENBQUM7aUJBQ2hCO2FBQ0o7WUFDRCxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQ1QsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNsQixJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRTtvQkFDeEMsS0FBSyxHQUFHLElBQUksQ0FBQztpQkFDaEI7Z0JBQ0QsSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRTtvQkFDaEMsT0FBTyxLQUFLLENBQUM7aUJBQ2hCO2dCQUNELElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7b0JBQzlCLE9BQU8sS0FBSyxDQUFDO2lCQUNoQjtnQkFDRCxPQUFPLElBQUksQ0FBQzthQUNmO1lBRUQsT0FBTyxJQUFJLENBQUM7U0FFZjthQUNJO1lBQ0QsT0FBTyxLQUFLLENBQUM7U0FDaEI7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sRUFBRSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNyZWF0ZURiKFNRTCwgYnVmZmVyKSB7XHJcblxyXG4gICAgZGIgPSBuZXcgU1FMLkRhdGFiYXNlKGJ1ZmZlcik7XHJcblxyXG4gICAgZGIuY3JlYXRlX2Z1bmN0aW9uKFwiaXNEYXRlXCIsIGZ1bmN0aW9uIChpbnB1dFRleHQpIHtcclxuXHJcbiAgICAgICAgaWYoaW5wdXRUZXh0ID09IG51bGwpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXRUZXh0ICE9ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHZhciBkYXRlZm9ybWF0ID0gL14oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pW1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV1cXGR7NH0kLztcclxuICAgICAgICB2YXIgZGF0ZWZvcm1hdCA9IC9eXFxkezR9W1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV0oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pJC87XHJcbiAgICAgICAgLy8gTWF0Y2ggdGhlIGRhdGUgZm9ybWF0IHRocm91Z2ggcmVndWxhciBleHByZXNzaW9uXHJcbiAgICAgICAgaWYgKGlucHV0VGV4dC5tYXRjaChkYXRlZm9ybWF0KSkge1xyXG4gICAgICAgICAgICAvL1Rlc3Qgd2hpY2ggc2VwZXJhdG9yIGlzIHVzZWQgJy8nIG9yICctJ1xyXG4gICAgICAgICAgICB2YXIgb3BlcmExID0gaW5wdXRUZXh0LnNwbGl0KCcvJyk7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYTIgPSBpbnB1dFRleHQuc3BsaXQoJy0nKTtcclxuICAgICAgICAgICAgdmFyIGxvcGVyYTEgPSBvcGVyYTEubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgbG9wZXJhMiA9IG9wZXJhMi5sZW5ndGg7XHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIHN0cmluZyBpbnRvIG1vbnRoLCBkYXRlIGFuZCB5ZWFyXHJcbiAgICAgICAgICAgIGlmIChsb3BlcmExID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBkYXRlID0gaW5wdXRUZXh0LnNwbGl0KCcvJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobG9wZXJhMiA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwZGF0ZSA9IGlucHV0VGV4dC5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwZGF0ZS5sZW5ndGggIT0gMykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgZGQgPSBwYXJzZUludChwZGF0ZVsyXSk7XHJcbiAgICAgICAgICAgIHZhciBtbSA9IHBhcnNlSW50KHBkYXRlWzFdKTtcclxuICAgICAgICAgICAgdmFyIHl5ID0gcGFyc2VJbnQocGRhdGVbMF0pO1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgbGlzdCBvZiBkYXlzIG9mIGEgbW9udGggW2Fzc3VtZSB0aGVyZSBpcyBubyBsZWFwIHllYXIgYnkgZGVmYXVsdF1cclxuICAgICAgICAgICAgdmFyIExpc3RvZkRheXMgPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XHJcbiAgICAgICAgICAgIGlmIChtbSA9PSAxIHx8IG1tID4gMikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRkID4gTGlzdG9mRGF5c1ttbSAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtbSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbHllYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICgoISh5eSAlIDQpICYmIHl5ICUgMTAwKSB8fCAhKHl5ICUgNDAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGx5ZWFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgobHllYXIgPT0gZmFsc2UpICYmIChkZCA+PSAyOSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKGx5ZWFyID09IHRydWUpICYmIChkZCA+IDI5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGIuY3JlYXRlX2Z1bmN0aW9uKFwiaXNEYXRlVGltZVwiLCBmdW5jdGlvbiAoaW5wdXRUZXh0KSB7XHJcbiAgICAgICAgaWYoaW5wdXRUZXh0ID09IG51bGwpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXRUZXh0ICE9ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHZhciBkYXRlZm9ybWF0ID0gL14oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pW1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV1cXGR7NH0kLztcclxuICAgICAgICB2YXIgZGF0ZWZvcm1hdCA9IC9eXFxkezR9W1xcLV0oMFsxLTldfDFbMDEyXSlbXFwtXSgwWzEtOV18WzEyXVswLTldfDNbMDFdKSAoWzAxXVsxLTldfDJbMDEyM10pOihbMC01XVswLTldKTooWzAtNV1bMC05XSkkLztcclxuICAgICAgICAvLyBNYXRjaCB0aGUgZGF0ZSBmb3JtYXQgdGhyb3VnaCByZWd1bGFyIGV4cHJlc3Npb25cclxuICAgICAgICBpZiAoaW5wdXRUZXh0Lm1hdGNoKGRhdGVmb3JtYXQpKSB7XHJcbiAgICAgICAgICAgIHZhciBzcGxpdFN0ciA9IGlucHV0VGV4dC5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICB2YXIgZGF0ZVN0ciA9IHNwbGl0U3RyWzBdO1xyXG4gICAgICAgICAgICAvL3ZhciB0aW1lU3RyID0gc3BsaXRTdHJbMV07XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAoZGF0ZVN0ci5sZW5ndGggIT0gMykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB2YXIgZGQgPSBwYXJzZUludChkYXRlU3RyWzJdKTtcclxuICAgICAgICAgICAgLy8gdmFyIG1tID0gcGFyc2VJbnQoZGF0ZVN0clsxXSk7XHJcbiAgICAgICAgICAgIC8vIHZhciB5eSA9IHBhcnNlSW50KGRhdGVTdHJbMF0pO1xyXG4gICAgICAgICAgICBpZiAoZGF0ZVN0ci5sZW5ndGggIT0gMTApIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGRkID0gcGFyc2VJbnQoZGF0ZVN0ci5zdWJzdHJpbmcoOCwxMCkpO1xyXG4gICAgICAgICAgICB2YXIgbW0gPSBwYXJzZUludChkYXRlU3RyLnN1YnN0cmluZyg1LCA3KSk7XHJcbiAgICAgICAgICAgIHZhciB5eSA9IHBhcnNlSW50KGRhdGVTdHIuc3Vic3RyaW5nKDAsIDQpKTtcclxuICAgICAgICAgICAgICAvLyBDcmVhdGUgbGlzdCBvZiBkYXlzIG9mIGEgbW9udGggW2Fzc3VtZSB0aGVyZSBpcyBubyBsZWFwIHllYXIgYnkgZGVmYXVsdF1cclxuICAgICAgICAgICAgdmFyIExpc3RvZkRheXMgPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XHJcbiAgICAgICAgICAgIGlmIChtbSA9PSAxIHx8IG1tID4gMikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRkID4gTGlzdG9mRGF5c1ttbSAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtbSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbHllYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICgoISh5eSAlIDQpICYmIHl5ICUgMTAwKSB8fCAhKHl5ICUgNDAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGx5ZWFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgobHllYXIgPT0gZmFsc2UpICYmIChkZCA+PSAyOSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKGx5ZWFyID09IHRydWUpICYmIChkZCA+IDI5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGI7XHJcbn1cclxuXHJcbiJdfQ==